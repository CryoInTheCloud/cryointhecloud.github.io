
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Parallelized Cloud Computing with Dask for Geoscientists &#8212; CryoCloud</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Analysis-ready, cloud-optimized data: writing zarr directories" href="ARCOdata_writingZarrs.html" />
    <link rel="prev" title="CryoCloud Tutorials: SlideRule" href="SlideRule_applications/SlideRule_applications.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LZVEY6377Z"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-LZVEY6377Z');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CryoCloud</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to CryoCloud!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Details
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../content/about.html">
   About
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/mission.html">
   Mission
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/Getting_Started.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/hub_best_practices.html">
   CryoCloud Best Practices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/Code_of_Conduct.html">
   CryoCloud Code of Conduct
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/citing_cryocloud.html">
   Citing CryoCloud
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Cloud Training
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../recorded/index.html">
   Cloud Training
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  How Tos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../how_tos/index.html">
   How To…
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../how_tos/background/index.html">
     Background Work
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/github.html">
       GitHub
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/jupyterhub.html">
       JupyterHub
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/git.html">
       Git
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/earthdata.html">
       Earthdata Login
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/earthengine.html">
       Google Earth Engine Sign-Up
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/swc.html">
       Software Carpentry Training
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/python.html">
       Python Installation and Environments
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/nbdime/nbdime-hub.html">
       nbdime - version control for Jupyter notebooks
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../how_tos/data_access/index.html">
     Data access
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/data_access/Cloud_Sentinel2_access.html">
       Sentinel 2 cloud access
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/data_access/Instructions_for_configuring_AWS_S3_bucket.html">
       Instructions for setting up an AWS S3 bucket for your project
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/data_access/CryoCloudScratchBucket.html">
       Using CryoCloud S3 Scratch Bucket
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/ICESat2_Earthaccess.html">
       Earthaccess
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Earthdata_Cloud__Single_File__HTTPS_Access_COG_Example.html">
       COG HTTPS
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Earthdata_Cloud__Single_File_Direct_S3_Access_COG_Example.html">
       COG Direct S3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Multi-File_Direct_S3_Access_COG_Example.html">
       Multi-COG Direct S3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Earthdata_Cloud__Single_File__Direct_S3_Access_NetCDF4_Example.html">
       NetCDF/HDF5 Direct S3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Multi-File_Direct_S3_Access_NetCDF_Example.html">
       Multi-NetCDF/HDF5 Direct S3
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Tutorials
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="cryocloud_demo/CryoCloud_demo.html">
     Demo CryoCloud
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="IS2_cloud_Landsat_integration.html">
     ICESat-2 and Landsat cloud access and data integration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="IS2_ATL15_surface_height_anomalies/IS2_ATL15_surface_height_anomalies.html">
     Using ICESat-2 ATL15 (Gridded Arctic Land Ice Height) to investigate ice-surface height anomalies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../external/ICESAT2_ATL10-h5coro_large_scale_time_series.html">
     ICESat-2 ATL10-h5coro large-scale time series
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="NASA-Earthdata-Cloud-Access/index.html">
     NASA Earthdata Cloud and data access using earthaccess and icepyx
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/1.Intro-Earthdata-Cloud.html">
       Introduction to NASA Earthdata Cloud and ICESat-2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/2.earthdata_search.html">
       Using NASA Earthdata Search to Discover Cloud-Hosted Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/3.earthaccess.html">
       NASA Earthdata Cloud and data access using earthaccess and icepyx
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/4.icepyx.html">
       NASA Earthdata Cloud and data access using earthaccess and icepyx
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="SlideRule_applications/SlideRule_applications.html">
     CryoCloud Tutorials: SlideRule
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Parallelized Cloud Computing with Dask for Geoscientists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ARCOdata_writingZarrs.html">
     Analysis-ready, cloud-optimized data: writing zarr directories
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="GrIMP/GrIMP_tutorial_AGU23.html">
     Determining ice sheet change using Greenland Ice Mapping Project (GrIMP) tools
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contributing
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../contributing/index.html">
   Contributing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/workflow.html">
     Workflow for contributing to our JupyterBook (or any GitHub project)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/glossary.html">
   Glossaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/IS2-resources.html">
   ICESat-2 Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/open_science.html">
   Open Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/open_source_software.html">
   Open-source Software
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/questions.html">
   How to Get Help
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/CryoInTheCloud/CryoCloudWebsite/main?urlpath=lab/tree/book/tutorials/dask_for_geoscientists.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/CryoInTheCloud/CryoCloudWebsite"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/CryoInTheCloud/CryoCloudWebsite/issues/new?title=Issue%20on%20page%20%2Ftutorials/dask_for_geoscientists.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/CryoInTheCloud/CryoCloudWebsite/edit/main/book/tutorials/dask_for_geoscientists.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/tutorials/dask_for_geoscientists.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Parallelized Cloud Computing with Dask for Geoscientists
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#an-introduction-to-dask-for-parallel-computing">
   An Introduction to Dask for Parallel Computing
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dask-arrays">
     Dask Arrays
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specifying-chunks">
     Specifying Chunks
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#monitor-dask-usage-via-dask-dashboard">
     Monitor Dask Usage via Dask Dashboard
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dask-for-geoscientific-images">
   Dask For Geoscientific Images
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-goals">
     Learning Goals:
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#computing-environment">
     Computing Environment
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interacting-with-a-large-image-using-dask">
     Interacting with a Large Image Using Dask
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#data-import-using-planetary-computer-and-stackstac">
       Data Import using Planetary Computer and Stackstac
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#refining-our-image-before-data-import">
       Refining our Image
       <em>
        Before
       </em>
       Data Import
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#import-the-refined-image">
       Import the Refined Image
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-complex-python-functions-with-dask-xarray">
     Running Complex Python Functions with Dask + Xarray
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#implementing-custom-functions-with-dask">
       Implementing Custom Functions with Dask
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#operating-sci-kit-image-with-dask-for-quick-segmentation">
       Operating Sci-kit Image with Dask for Quick Segmentation
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Parallelized Cloud Computing with Dask for Geoscientists</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Parallelized Cloud Computing with Dask for Geoscientists
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#an-introduction-to-dask-for-parallel-computing">
   An Introduction to Dask for Parallel Computing
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dask-arrays">
     Dask Arrays
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specifying-chunks">
     Specifying Chunks
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#monitor-dask-usage-via-dask-dashboard">
     Monitor Dask Usage via Dask Dashboard
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dask-for-geoscientific-images">
   Dask For Geoscientific Images
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-goals">
     Learning Goals:
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#computing-environment">
     Computing Environment
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interacting-with-a-large-image-using-dask">
     Interacting with a Large Image Using Dask
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#data-import-using-planetary-computer-and-stackstac">
       Data Import using Planetary Computer and Stackstac
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#refining-our-image-before-data-import">
       Refining our Image
       <em>
        Before
       </em>
       Data Import
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#import-the-refined-image">
       Import the Refined Image
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-complex-python-functions-with-dask-xarray">
     Running Complex Python Functions with Dask + Xarray
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#implementing-custom-functions-with-dask">
       Implementing Custom Functions with Dask
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#operating-sci-kit-image-with-dask-for-quick-segmentation">
       Operating Sci-kit Image with Dask for Quick Segmentation
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="parallelized-cloud-computing-with-dask-for-geoscientists">
<h1>Parallelized Cloud Computing with Dask for Geoscientists<a class="headerlink" href="#parallelized-cloud-computing-with-dask-for-geoscientists" title="Permalink to this headline">#</a></h1>
<p>Tutorial by <a class="reference external" href="https://elliesch.github.io">Ellianna Abrahams</a></p>
<p>The following notebook includes materials from notebooks written by <a class="reference external" href="https://hamedalemo.github.io/advanced-geo-python/lectures/dask_intro.html">Hamed Alemohammad</a>, <a class="reference external" href="https://earth-env-data-science.github.io/lectures/dask/dask_arrays.html">Ryan Abernathy</a>, <a class="reference external" href="https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2#Example-Notebook">Planetary Computer</a>, <a class="reference external" href="https://stackstac.readthedocs.io/en/latest/basic.html">stackstac</a>, and <a class="reference external" href="https://examples.dask.org/applications/image-processing.html">Dask</a>.</p>
<p>For those that would like to follow along for the introductory section, please install <code class="docutils literal notranslate"><span class="pre">graphviz</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">graphviz</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting package metadata (current_repodata.json): done
Solving environment: done


==&gt; WARNING: A newer version of conda exists. &lt;==
  current version: 23.7.4
  latest version: 23.11.0

Please update conda by running

    $ conda update -n base -c conda-forge conda

Or to minimize the number of packages updated during conda update use

     conda install conda=23.11.0



## Package Plan ##

  environment location: /srv/conda/envs/notebook

  added / updated specs:
    - python-graphviz


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    atk-1.0-2.38.0             |       hd4edc92_1         539 KB  conda-forge
    ca-certificates-2023.11.17 |       hbcca054_0         151 KB  conda-forge
    certifi-2023.11.17         |     pyhd8ed1ab_0         155 KB  conda-forge
    gdk-pixbuf-2.42.10         |       h6b639ba_2         560 KB  conda-forge
    graphviz-8.1.0             |       h28d9a01_0         2.2 MB  conda-forge
    gtk2-2.24.33               |       h90689f9_2         7.4 MB  conda-forge
    gts-0.7.6                  |       h977cf35_4         311 KB  conda-forge
    libgd-2.3.3                |       hfa28ad5_6         218 KB  conda-forge
    librsvg-2.56.3             |       h98fae49_0         5.5 MB  conda-forge
    libtool-2.4.7              |       h27087fc_0         402 KB  conda-forge
    pango-1.50.14              |       heaa33ce_1         433 KB  conda-forge
    python-graphviz-0.20.1     |     pyh22cad53_0          35 KB  conda-forge
    ------------------------------------------------------------
                                           Total:        17.8 MB

The following NEW packages will be INSTALLED:

  atk-1.0            conda-forge/linux-64::atk-1.0-2.38.0-hd4edc92_1 
  gdk-pixbuf         conda-forge/linux-64::gdk-pixbuf-2.42.10-h6b639ba_2 
  graphviz           conda-forge/linux-64::graphviz-8.1.0-h28d9a01_0 
  gtk2               conda-forge/linux-64::gtk2-2.24.33-h90689f9_2 
  gts                conda-forge/linux-64::gts-0.7.6-h977cf35_4 
  libgd              conda-forge/linux-64::libgd-2.3.3-hfa28ad5_6 
  librsvg            conda-forge/linux-64::librsvg-2.56.3-h98fae49_0 
  libtool            conda-forge/linux-64::libtool-2.4.7-h27087fc_0 
  pango              conda-forge/linux-64::pango-1.50.14-heaa33ce_1 
  python-graphviz    conda-forge/noarch::python-graphviz-0.20.1-pyh22cad53_0 

The following packages will be UPDATED:

  ca-certificates                      2023.7.22-hbcca054_0 --&gt; 2023.11.17-hbcca054_0 
  certifi                            2023.7.22-pyhd8ed1ab_0 --&gt; 2023.11.17-pyhd8ed1ab_0 



Downloading and Extracting Packages
gdk-pixbuf-2.42.10   | 560 KB    |                                       |   0% 
python-graphviz-0.20 | 35 KB     |                                       |   0% 

pango-1.50.14        | 433 KB    |                                       |   0% 


ca-certificates-2023 | 151 KB    |                                       |   0% 



libgd-2.3.3          | 218 KB    |                                       |   0% 




libtool-2.4.7        | 402 KB    |                                       |   0% 





certifi-2023.11.17   | 155 KB    |                                       |   0% 






gts-0.7.6            | 311 KB    |                                       |   0% 







gtk2-2.24.33         | 7.4 MB    |                                       |   0% 








graphviz-8.1.0       | 2.2 MB    |                                       |   0% 









librsvg-2.56.3       | 5.5 MB    |                                       |   0% 










gdk-pixbuf-2.42.10   | 560 KB    | #                                     |   3% 


ca-certificates-2023 | 151 KB    | ###############7                      |  43% 



libgd-2.3.3          | 218 KB    | ##7                                   |   7% 

pango-1.50.14        | 433 KB    | #3                                    |   4% 
python-graphviz-0.20 | 35 KB     | ################6                     |  45% 


ca-certificates-2023 | 151 KB    | ##################################### | 100% 




libtool-2.4.7        | 402 KB    | #4                                    |   4% 





certifi-2023.11.17   | 155 KB    | ###8                                  |  10% 






gts-0.7.6            | 311 KB    | #9                                    |   5% 








graphviz-8.1.0       | 2.2 MB    | 2                                     |   1% 
python-graphviz-0.20 | 35 KB     | ##################################### | 100% 









librsvg-2.56.3       | 5.5 MB    | 1                                     |   0% 







gtk2-2.24.33         | 7.4 MB    |                                       |   0% 










atk-1.0-2.38.0       | 539 KB    | #                                     |   3% 



libgd-2.3.3          | 218 KB    | ##################################### | 100% 



libgd-2.3.3          | 218 KB    | ##################################### | 100% 









librsvg-2.56.3       | 5.5 MB    | ################7                     |  45% 







gtk2-2.24.33         | 7.4 MB    | ###########8                          |  32% 





certifi-2023.11.17   | 155 KB    | ##################################### | 100% 





certifi-2023.11.17   | 155 KB    | ##################################### | 100% 









librsvg-2.56.3       | 5.5 MB    | ####################################3 |  98% 







gtk2-2.24.33         | 7.4 MB    | ##########################            |  70% 

pango-1.50.14        | 433 KB    | ##################################### | 100% 

pango-1.50.14        | 433 KB    | ##################################### | 100% 




libtool-2.4.7        | 402 KB    | ##################################### | 100% 




libtool-2.4.7        | 402 KB    | ##################################### | 100% 






gts-0.7.6            | 311 KB    | ##################################### | 100% 






gdk-pixbuf-2.42.10   | 560 KB    | ##################################### | 100% 








graphviz-8.1.0       | 2.2 MB    | ##################################### | 100% 








graphviz-8.1.0       | 2.2 MB    | ##################################### | 100% 









librsvg-2.56.3       | 5.5 MB    | ##################################### | 100% 










atk-1.0-2.38.0       | 539 KB    | ##################################### | 100% 










atk-1.0-2.38.0       | 539 KB    | ##################################### | 100% 







gtk2-2.24.33         | 7.4 MB    | ##################################### | 100% 







                                                                                
                                                                                

                                                                                


                                                                                



                                                                                




                                                                                





                                                                                






                                                                                







                                                                                








                                                                                









                                                                                










                                                                                
Preparing transaction: done
Verifying transaction: done
Executing transaction: | 
| 
done

Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="an-introduction-to-dask-for-parallel-computing">
<h1>An Introduction to Dask for Parallel Computing<a class="headerlink" href="#an-introduction-to-dask-for-parallel-computing" title="Permalink to this headline">#</a></h1>
<p>Dask is a Python library designed to facilitate parallel computing and distributed data processing. It is particularly useful for handling computations that exceed the available memory of a single machine and for parallelizing tasks across multiple cores or even distributed clusters of machines. The primary goal of Dask is to provide a user-friendly and Pythonic interface for developers to scale their data analysis and processing workflows.</p>
<p>Dask consists of two main components:</p>
<ol class="simple">
<li><p><strong>“Big Data” Collections:</strong> Dask provides collections that extend common Python data structures, such as arrays, dataframes, and lists, to handle larger-than-memory or distributed datasets. These collections are designed to mimic the interfaces of popular libraries like NumPy and Pandas, making it easier for developers to transition from single-machine to distributed computing environments.</p></li>
<li><p><strong>Dynamic Task Scheduling:</strong> Dask provides scheduling that manages the distribution and execution of tasks across the available computing resources. It ensures that computations are carried out efficiently in a parallelized manner.</p></li>
</ol>
<p><img alt="Dask Distributed System" src="https://docs.dask.org/en/stable/_images/dask-overview.svg" />
High level collections are used to generate task graphs which can be executed by schedulers on a single machine or a cluster.</p>
<p>Some reasons why you should consider using Dask for your large data:</p>
<ul class="simple">
<li><p><strong>Scalable Parallel Computing:</strong> Dask enables the parallelization of computations across multiple cores and distributed clusters, allowing users to efficiently handle data processing tasks that exceed the memory capacity of a single machine.</p></li>
<li><p><strong>Lazy Evaluation:</strong> Dask adopts a lazy evaluation approach, deferring the execution of operations until explicitly requested. This optimizes the scheduling and execution of computations, enhancing overall efficiency.</p></li>
<li><p><strong>Flexibility Across Data Structures:</strong> Dask provides “Big Data” collections that extend common Python data structures (e.g., arrays, dataframes, bags) to handle larger-than-memory or distributed datasets. This flexibility allows users to seamlessly transition between single-machine and distributed computing environments.</p></li>
<li><p><strong>Integration with Distributed Computing:</strong> Dask seamlessly integrates with a task scheduler, facilitating the scaling of computations from a single machine to distributed computing clusters. This adaptability makes Dask a versatile tool for handling diverse big data processing scenarios.</p></li>
</ul>
<p>In essence, Dask offers a versatile and user-friendly framework for scalable, parallel, and distributed computing in Python, making it well-suited for a wide range of data analysis and processing tasks.</p>
<hr class="docutils" />
<br><section id="dask-arrays">
<h2>Dask Arrays<a class="headerlink" href="#dask-arrays" title="Permalink to this headline">#</a></h2>
<p>Today, we’ll be focusing on processing image data, i.e. array data, with <code class="docutils literal notranslate"><span class="pre">dask</span></code>, but it can also be used with most any familiar python data variables, like dataframes (<code class="docutils literal notranslate"><span class="pre">pandas</span></code>-like) for example.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">dask</span></code> array is very similar to a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> or <code class="docutils literal notranslate"><span class="pre">xarray</span></code> array. However, a <code class="docutils literal notranslate"><span class="pre">dask</span></code> array is only symbolic, and doesn’t initially hold any data. It is structured to represent the shape, chunks, and computations needed to generate the data. Dask remains efficient by delaying computations until the full computation thread is built up and the data is requested. This mode of operation is called “lazy evaluation” and this mode allows users to build up a symbolic thread of calculations before turning them over the scheduler for execution.</p>
<p><code class="docutils literal notranslate"><span class="pre">dask</span></code> arrays arrange many python arrays into a grid. The underlying arrays are stored either locally, or on a remote machine like the cloud.</p>
<p><img alt="Visualization of a Dask Array" src="https://docs.dask.org/en/stable/_images/dask-array.svg" /></p>
<p>Let’s compare some <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays to <code class="docutils literal notranslate"><span class="pre">dask</span></code> arrays to illustrate further how Dask operates. We’ll begin by creating a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array of ones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">)</span>
<span class="n">ones_np</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="n">ones_np</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.],
       ...,
       [1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.]])
</pre></div>
</div>
</div>
</div>
<p>Let’s look at the size of this array in memory:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Size in MB: </span><span class="si">{</span><span class="n">ones_np</span><span class="o">.</span><span class="n">nbytes</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Size in MB: 30.517578125
</pre></div>
</div>
</div>
</div>
<p>Now, we’ll create the same array in dask.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dask.array</span> <span class="k">as</span> <span class="nn">da</span>
<span class="n">ones</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="n">ones</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 30.52 MiB </td>
                        <td> 30.52 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (1000, 4000) </td>
                        <td> (1000, 4000) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 1 graph layer </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4000</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,21.449398)">1000</text>
</svg>
        </td>
    </tr>
</table></div></div>
</div>
<p>Notice how this array comes with a <code class="docutils literal notranslate"><span class="pre">dask</span></code> visualization of our array and includes the word “chunks.” Chunks are the way that <code class="docutils literal notranslate"><span class="pre">dask</span></code> splits the array into sub-arrays. We did not specify how we wanted to chunk the array, so <code class="docutils literal notranslate"><span class="pre">dask</span></code> just used one chunk for the whole array. At this point, the <code class="docutils literal notranslate"><span class="pre">dask</span></code> array is very similar to the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array and isn’t structured to take advantage of dask functionality.</p>
</section>
<section id="specifying-chunks">
<h2>Specifying Chunks<a class="headerlink" href="#specifying-chunks" title="Permalink to this headline">#</a></h2>
<p>To leverage the full power of <code class="docutils literal notranslate"><span class="pre">dask</span></code>, we’ll split our array into specified chunks. The <a class="reference external" href="https://dask.pydata.org/en/latest/array-chunks.html">Dask documentation</a> provides several ways to specify chunks. In this demonstration, we’ll use a block shape.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chunk_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">ones</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="n">chunk_shape</span><span class="p">)</span>
<span class="n">ones</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 30.52 MiB </td>
                        <td> 7.63 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (1000, 4000) </td>
                        <td> (1000, 1000) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 4 chunks in 1 graph layer </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="30" y1="0" x2="30" y2="42" />
  <line x1="60" y1="0" x2="60" y2="42" />
  <line x1="90" y1="0" x2="90" y2="42" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4000</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,21.449398)">1000</text>
</svg>
        </td>
    </tr>
</table></div></div>
</div>
<p>At this point, all we have is a symbolic represetnation of the array, including its shape, data type, and chunk size. This is an example of lazy evalution; unlike <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">dask</span></code> has not generated data yet.</p>
<p>In order to generate data, we need to send the data collection to the scheduler, which we can do by calling the <code class="docutils literal notranslate"><span class="pre">compute</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ones</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.],
       ...,
       [1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.],
       [1., 1., 1., ..., 1., 1., 1.]])
</pre></div>
</div>
</div>
</div>
<p>Dask has a nifty <code class="docutils literal notranslate"><span class="pre">visualize</span></code> function that illustrates the symbolic operations that ran when we called <code class="docutils literal notranslate"><span class="pre">compute</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ones</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/dask_for_geoscientists_21_0.png" src="../_images/dask_for_geoscientists_21_0.png" />
</div>
</div>
<p>We can see that we stored four “ones-like” arrays, one in each chunk. To generate the data, the <code class="docutils literal notranslate"><span class="pre">dask</span></code> scheduler calls <code class="docutils literal notranslate"><span class="pre">np.ones</span></code> four times and then concatenates all of them together into one array.</p>
<p>Rather than immediately loading a <code class="docutils literal notranslate"><span class="pre">dask</span></code> array (which will store all of the data in RAM), we usually would like to do some kind of analysis on the data and don’t necessarily want to store the full raw data in memory. Let’s see how <code class="docutils literal notranslate"><span class="pre">dask</span></code> handles a more complex computation that reduces the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">complex_calculation</span> <span class="o">=</span> <span class="p">(</span><span class="n">ones</span> <span class="o">*</span> <span class="n">ones</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">complex_calculation</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/dask_for_geoscientists_24_0.png" src="../_images/dask_for_geoscientists_24_0.png" />
</div>
</div>
<p>We can see Dask’s strategy for running the calculation thread on our data array. The power of Dask is that it automatically designs an algorithm appropriate for complex operation threads with big data.</p>
</section>
<hr class="docutils" />
<section id="monitor-dask-usage-via-dask-dashboard">
<h2>Monitor Dask Usage via Dask Dashboard<a class="headerlink" href="#monitor-dask-usage-via-dask-dashboard" title="Permalink to this headline">#</a></h2>
<p>Dask offers visualization tools for you to monitor how <code class="docutils literal notranslate"><span class="pre">dask</span></code> is using memory across your cluster of CPUs and GPUs. This is important when working with large data, because as we’ll see later in this tutorial certain computations can actually add memory usage, potentially exceeding your memory amount while a task is being run or doubling up on computation time making them better to complete outside of <code class="docutils literal notranslate"><span class="pre">dask</span></code>.</p>
<p>Let’s take a quick look at the <code class="docutils literal notranslate"><span class="pre">dask</span></code> dashboard which is available to us in CryoCloud.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dask.distributed</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>  <span class="c1"># start distributed scheduler locally.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">client</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;"> </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px;">Client</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">Client-7e109575-977d-11ee-8e9b-c67ecc8c5715</p>
        <table style="width: 100%; text-align: left;">

        <tr>

            <td style="text-align: left;"><strong>Connection method:</strong> Cluster object</td>
            <td style="text-align: left;"><strong>Cluster type:</strong> distributed.LocalCluster</td>

        </tr>


            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard: </strong> <a href="/user/elliesch/proxy/8787/status" target="_blank">/user/elliesch/proxy/8787/status</a>
                </td>
                <td style="text-align: left;"></td>
            </tr>


        </table>


            <button style="margin-bottom: 12px;" data-commandlinker-command="dask:populate-and-launch-layout" data-commandlinker-args='{"url": "/user/elliesch/proxy/8787/status" }'>
                Launch dashboard in JupyterLab
            </button>



            <details>
            <summary style="margin-bottom: 20px;"><h3 style="display: inline;">Cluster Info</h3></summary>
            <div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;">
    </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px; margin-top: 0px;">LocalCluster</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">bc087156</p>
        <table style="width: 100%; text-align: left;">
            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard:</strong> <a href="/user/elliesch/proxy/8787/status" target="_blank">/user/elliesch/proxy/8787/status</a>
                </td>
                <td style="text-align: left;">
                    <strong>Workers:</strong> 4
                </td>
            </tr>
            <tr>
                <td style="text-align: left;">
                    <strong>Total threads:</strong> 4
                </td>
                <td style="text-align: left;">
                    <strong>Total memory:</strong> 30.89 GiB
                </td>
            </tr>

            <tr>
    <td style="text-align: left;"><strong>Status:</strong> running</td>
    <td style="text-align: left;"><strong>Using processes:</strong> True</td>
</tr>


        </table>

        <details>
            <summary style="margin-bottom: 20px;">
                <h3 style="display: inline;">Scheduler Info</h3>
            </summary>

            <div style="">
    <div>
        <div style="width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;"> </div>
        <div style="margin-left: 48px;">
            <h3 style="margin-bottom: 0px;">Scheduler</h3>
            <p style="color: #9D9D9D; margin-bottom: 0px;">Scheduler-bce8e681-1462-44db-be08-df8d87cd53fa</p>
            <table style="width: 100%; text-align: left;">
                <tr>
                    <td style="text-align: left;">
                        <strong>Comm:</strong> tcp://127.0.0.1:35845
                    </td>
                    <td style="text-align: left;">
                        <strong>Workers:</strong> 4
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Dashboard:</strong> <a href="/user/elliesch/proxy/8787/status" target="_blank">/user/elliesch/proxy/8787/status</a>
                    </td>
                    <td style="text-align: left;">
                        <strong>Total threads:</strong> 4
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Started:</strong> Just now
                    </td>
                    <td style="text-align: left;">
                        <strong>Total memory:</strong> 30.89 GiB
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <details style="margin-left: 48px;">
        <summary style="margin-bottom: 20px;">
            <h3 style="display: inline;">Workers</h3>
        </summary>


        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 0</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:38083
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/elliesch/proxy/36673/status" target="_blank">/user/elliesch/proxy/36673/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:38681
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-ir5w817o
                        </td>
                    </tr>





                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 1</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:37927
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/elliesch/proxy/43069/status" target="_blank">/user/elliesch/proxy/43069/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:39161
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-p6wtii8k
                        </td>
                    </tr>





                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 2</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:44083
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/elliesch/proxy/39349/status" target="_blank">/user/elliesch/proxy/39349/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:39991
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-4pjejvkm
                        </td>
                    </tr>





                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 3</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:44569
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/elliesch/proxy/44609/status" target="_blank">/user/elliesch/proxy/44609/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:40603
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-0t2alpee
                        </td>
                    </tr>





                </table>
            </details>
            </div>
        </div>


    </details>
</div>

        </details>
    </div>
</div>
            </details>


    </div>
</div></div></div>
</div>
<p>On the left of our screen we’re going to open the <code class="docutils literal notranslate"><span class="pre">dask</span></code> dashboard. We’ll copy the path listed above in the <code class="docutils literal notranslate"><span class="pre">client</span></code> into the dashboard to connect our CryoCloud instance to a dashboard. Once the dashboard is up and running, please click on “Task Stream,” “Progress,” “Workers Memory,” and “Graph.”</p>
<p>For the sake of time today, we’ll just look at a couple of the assessment tools available to us in the <code class="docutils literal notranslate"><span class="pre">dask</span></code> dashboard, but the <code class="docutils literal notranslate"><span class="pre">dask</span></code> <a class="reference external" href="https://docs.dask.org/en/stable/dashboard.html">documentation</a> with a more extensive list on what diagnostics are available to you through the dashboard.</p>
</section>
</section>
<hr class="docutils" />
<section class="tex2jax_ignore mathjax_ignore" id="dask-for-geoscientific-images">
<h1>Dask For Geoscientific Images<a class="headerlink" href="#dask-for-geoscientific-images" title="Permalink to this headline">#</a></h1>
<p>For this section of the tutorial, we’re going to move into using <code class="docutils literal notranslate"><span class="pre">dask</span></code> with data types that are of interest to us in the Cryosphere. We’ll work with Landsat data and use <code class="docutils literal notranslate"><span class="pre">dask</span></code>’s native functionality to stream this data in directly from the cloud while only bringing in the pixels that we are interested in. Once we’ve selected our data of interest, we’ll use machine learning tools that interact with <code class="docutils literal notranslate"><span class="pre">dask</span></code> to do a basic image segmentation task.</p>
<section id="learning-goals">
<h2>Learning Goals:<a class="headerlink" href="#learning-goals" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Interacting with a Large Image using <a class="reference external" href="https://www.dask.org/get-started">Dask</a></p>
<ul>
<li><p>Query a Landsat time-series using stackstac with Planetary Computer</p></li>
<li><p>Refine the image query before downloading data</p></li>
<li><p>Import the refined image</p></li>
</ul>
</li>
<li><p>Running Custom Functions on <code class="docutils literal notranslate"><span class="pre">Dask</span></code> + <code class="docutils literal notranslate"><span class="pre">xarray</span></code></p>
<ul>
<li><p>Using a custom function for analysis before importing data</p></li>
<li><p>Implementing scikit image on dask arrays</p></li>
</ul>
</li>
</ul>
</section>
<section id="computing-environment">
<h2>Computing Environment<a class="headerlink" href="#computing-environment" title="Permalink to this headline">#</a></h2>
<p>We will set up our computing environment with package imports. Today we’ll be working with planetary computer, dask, xarray, and scikit image.</p>
<p>Tip: If you need to import a library that is not pre-installed, use <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&lt;package-name&gt;</span></code> in a Jupyter notebook cell alone to install it for this instance of CryoCloud. On CryoCloud, your package installation will not persist between logins.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">planetary</span><span class="o">-</span><span class="n">computer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting planetary-computer
  Using cached planetary_computer-1.0.0-py3-none-any.whl (14 kB)
Requirement already satisfied: click&gt;=7.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (8.1.7)
Requirement already satisfied: pydantic&gt;=1.7.3 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (2.5.2)
Requirement already satisfied: requests&gt;=2.25.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (2.31.0)
Requirement already satisfied: pystac&gt;=1.0.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (1.9.0)
Requirement already satisfied: pytz&gt;=2020.5 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (2023.3.post1)
Requirement already satisfied: packaging in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (23.2)
Requirement already satisfied: pystac-client&gt;=0.2.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from planetary-computer) (0.5.1)
Collecting python-dotenv
  Using cached python_dotenv-1.0.0-py3-none-any.whl (19 kB)
Requirement already satisfied: pydantic-core==2.14.5 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pydantic&gt;=1.7.3-&gt;planetary-computer) (2.14.5)
Requirement already satisfied: typing-extensions&gt;=4.6.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pydantic&gt;=1.7.3-&gt;planetary-computer) (4.8.0)
Requirement already satisfied: annotated-types&gt;=0.4.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pydantic&gt;=1.7.3-&gt;planetary-computer) (0.6.0)
Requirement already satisfied: python-dateutil&gt;=2.7.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pystac&gt;=1.0.0-&gt;planetary-computer) (2.8.2)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from requests&gt;=2.25.1-&gt;planetary-computer) (1.26.18)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from requests&gt;=2.25.1-&gt;planetary-computer) (3.4)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from requests&gt;=2.25.1-&gt;planetary-computer) (3.3.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from requests&gt;=2.25.1-&gt;planetary-computer) (2023.11.17)
Requirement already satisfied: six&gt;=1.5 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from python-dateutil&gt;=2.7.0-&gt;pystac&gt;=1.0.0-&gt;planetary-computer) (1.16.0)
Installing collected packages: python-dotenv, planetary-computer
Successfully installed planetary-computer-1.0.0 python-dotenv-1.0.0
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">stackstac</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting stackstac
  Using cached stackstac-0.5.0-py3-none-any.whl (63 kB)
Requirement already satisfied: pyproj&lt;4.0.0,&gt;=3.0.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from stackstac) (3.6.1)
Requirement already satisfied: dask[array]&gt;=2022.1.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from stackstac) (2022.11.0)
Requirement already satisfied: xarray&gt;=0.18 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from stackstac) (2023.12.0)
Requirement already satisfied: rasterio&lt;2.0.0,&gt;=1.3.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from stackstac) (1.3.8)
Requirement already satisfied: packaging&gt;=20.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (23.2)
Requirement already satisfied: partd&gt;=0.3.10 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (1.4.1)
Requirement already satisfied: cloudpickle&gt;=1.1.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (3.0.0)
Requirement already satisfied: pyyaml&gt;=5.3.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (5.4.1)
Requirement already satisfied: toolz&gt;=0.8.2 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (0.12.0)
Requirement already satisfied: click&gt;=7.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (8.1.7)
Requirement already satisfied: fsspec&gt;=0.6.0 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (2023.6.0)
Requirement already satisfied: numpy&gt;=1.18 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from dask[array]&gt;=2022.1.1-&gt;stackstac) (1.23.5)
Requirement already satisfied: certifi in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pyproj&lt;4.0.0,&gt;=3.0.0-&gt;stackstac) (2023.11.17)
Requirement already satisfied: click-plugins in /srv/conda/envs/notebook/lib/python3.10/site-packages (from rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (1.1.1)
Requirement already satisfied: snuggs&gt;=1.4.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (1.4.7)
Requirement already satisfied: setuptools in /srv/conda/envs/notebook/lib/python3.10/site-packages (from rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (68.2.2)
Requirement already satisfied: attrs in /srv/conda/envs/notebook/lib/python3.10/site-packages (from rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (23.1.0)
Requirement already satisfied: affine in /srv/conda/envs/notebook/lib/python3.10/site-packages (from rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (2.4.0)
Requirement already satisfied: cligj&gt;=0.5 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (0.7.2)
Requirement already satisfied: pandas&gt;=1.4 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from xarray&gt;=0.18-&gt;stackstac) (1.5.1)
Requirement already satisfied: python-dateutil&gt;=2.8.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pandas&gt;=1.4-&gt;xarray&gt;=0.18-&gt;stackstac) (2.8.2)
Requirement already satisfied: pytz&gt;=2020.1 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from pandas&gt;=1.4-&gt;xarray&gt;=0.18-&gt;stackstac) (2023.3.post1)
Requirement already satisfied: locket in /srv/conda/envs/notebook/lib/python3.10/site-packages (from partd&gt;=0.3.10-&gt;dask[array]&gt;=2022.1.1-&gt;stackstac) (1.0.0)
Requirement already satisfied: pyparsing&gt;=2.1.6 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from snuggs&gt;=1.4.1-&gt;rasterio&lt;2.0.0,&gt;=1.3.0-&gt;stackstac) (3.1.1)
Requirement already satisfied: six&gt;=1.5 in /srv/conda/envs/notebook/lib/python3.10/site-packages (from python-dateutil&gt;=2.8.1-&gt;pandas&gt;=1.4-&gt;xarray&gt;=0.18-&gt;stackstac) (1.16.0)
Installing collected packages: stackstac
Successfully installed stackstac-0.5.0
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">pystac_client</span>
<span class="kn">from</span> <span class="nn">pystac.extensions.projection</span> <span class="kn">import</span> <span class="n">ProjectionExtension</span> <span class="k">as</span> <span class="n">proj</span>

<span class="kn">import</span> <span class="nn">planetary_computer</span>
<span class="kn">import</span> <span class="nn">rasterio</span>
<span class="kn">import</span> <span class="nn">rasterio.features</span>
<span class="kn">import</span> <span class="nn">stackstac</span>
<span class="kn">import</span> <span class="nn">pyproj</span>

<span class="kn">import</span> <span class="nn">dask.diagnostics</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="interacting-with-a-large-image-using-dask">
<h2>Interacting with a Large Image Using Dask<a class="headerlink" href="#interacting-with-a-large-image-using-dask" title="Permalink to this headline">#</a></h2>
<section id="data-import-using-planetary-computer-and-stackstac">
<h3>Data Import using Planetary Computer and Stackstac<a class="headerlink" href="#data-import-using-planetary-computer-and-stackstac" title="Permalink to this headline">#</a></h3>
<p>The Planetary Computer package allows users to stream data stored in Microsoft’s Planetary Computer Catalog directly from the cloud. When combined with <code class="docutils literal notranslate"><span class="pre">stackstac</span></code> tools, this allows users to query an area of interest and planetary computer will stream all the requested data from that area using <code class="docutils literal notranslate"><span class="pre">dask</span></code>.</p>
<p>In this tutorial, we are using Planetary Computer to interact with images from Landsat. In particular, we’ll query images that are around the San Francisco Bay, where this tutorial is taking place. To initialize planetary computer, we’ll define a <code class="docutils literal notranslate"><span class="pre">catalog</span></code> variable and define the coordinate bounds of our image query using <code class="docutils literal notranslate"><span class="pre">rasterio</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">catalog</span> <span class="o">=</span> <span class="n">pystac_client</span><span class="o">.</span><span class="n">Client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
    <span class="s2">&quot;https://planetarycomputer.microsoft.com/api/stac/v1&quot;</span><span class="p">,</span>
    <span class="n">modifier</span><span class="o">=</span><span class="n">planetary_computer</span><span class="o">.</span><span class="n">sign_inplace</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_of_interest</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="p">[</span><span class="o">-</span><span class="mf">124.031297</span><span class="p">,</span> <span class="mf">36.473972</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="mf">120.831297</span><span class="p">,</span> <span class="mf">36.473972</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="mf">120.831297</span><span class="p">,</span> <span class="mf">39.073972</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="mf">124.031297</span><span class="p">,</span> <span class="mf">39.073972</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="mf">124.031297</span><span class="p">,</span> <span class="mf">36.473972</span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">],</span>
<span class="p">}</span>

<span class="n">bounds_latlon</span> <span class="o">=</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">bounds</span><span class="p">(</span><span class="n">area_of_interest</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now we’ll define a time range to search over and the Landsat bands that we are interested in. In our query we  limit the data to images that have cloud cover (<code class="docutils literal notranslate"><span class="pre">eo:cloud_cover</span></code>) less than (<code class="docutils literal notranslate"><span class="pre">lt</span></code>) 20%.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_range</span> <span class="o">=</span> <span class="s1">&#39;2020-01-31/2021-01-31&#39;</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="n">bounds_latlon</span>

<span class="n">band_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;nir08&#39;</span><span class="p">,</span> <span class="s1">&#39;swir16&#39;</span><span class="p">]</span>

<span class="n">search</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">collections</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;landsat-c2-l2&quot;</span><span class="p">],</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> 
                        <span class="n">datetime</span><span class="o">=</span><span class="n">time_range</span><span class="p">,</span> 
                        <span class="n">query</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;eo:cloud_cover&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lt&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
                              <span class="p">})</span>
<span class="n">items</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">get_all_items</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="si">}</span><span class="s1"> images that fit your search criteria in the database.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There are 183 images that fit your search criteria in the database.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">items</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pystac.item_collection.ItemCollection&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>Notice how items has created a <code class="docutils literal notranslate"><span class="pre">pystac</span></code> item collection of all the relevant image slices from Landsat that are located within our coordinate bounds. Now we’ll use <code class="docutils literal notranslate"><span class="pre">stackstac</span></code> to turn these into a Dask <code class="docutils literal notranslate"><span class="pre">xarray</span></code> that we can interact with.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">item</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">epsg</span> <span class="o">=</span> <span class="n">proj</span><span class="o">.</span><span class="n">ext</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">epsg</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">stackstac</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">epsg</span><span class="o">=</span><span class="n">epsg</span><span class="p">,</span> <span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;nir08&#39;</span><span class="p">,</span> <span class="s1">&#39;swir16&#39;</span><span class="p">],</span>
                        <span class="n">bounds_latlon</span><span class="o">=</span><span class="n">bounds_latlon</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="n">stack</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-6f74f18ec9af45035c661e3ac7f51d1b&#x27; (time: 183,
                                                                band: 5,
                                                                y: 9674, x: 9558)&gt;
dask.array&lt;fetch_raster_window, shape=(183, 5, 9674, 9558), dtype=float64, chunksize=(1, 1, 1024, 1024), chunktype=numpy.ndarray&gt;
Coordinates: (12/27)
  * time                         (time) datetime64[ns] 2020-02-06T18:51:55.12...
    id                           (time) &lt;U31 &#x27;LC08_L2SP_045033_20200206_02_T1...
  * band                         (band) &lt;U6 &#x27;red&#x27; &#x27;green&#x27; ... &#x27;nir08&#x27; &#x27;swir16&#x27;
  * x                            (x) float64 4.076e+05 4.076e+05 ... 6.943e+05
  * y                            (y) float64 4.327e+06 4.327e+06 ... 4.037e+06
    landsat:wrs_type             &lt;U1 &#x27;2&#x27;
    ...                           ...
    view:off_nadir               int64 0
    landsat:cloud_cover_land     (time) float64 0.19 0.0 0.94 ... 3.0 0.0 5.41
    proj:epsg                    int64 32610
    raster:bands                 object {&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;off...
    title                        (band) &lt;U28 &#x27;Red Band&#x27; ... &#x27;Short-wave Infra...
    epsg                         int64 32610
Attributes:
    spec:        RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327...
    crs:         epsg:32610
    transform:   | 30.00, 0.00, 407580.00|\n| 0.00,-30.00, 4327230.00|\n| 0.0...
    resolution:  30</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-6f74f18ec9af45035c661e3ac7f51d1b'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 183</li><li><span class='xr-has-index'>band</span>: 5</li><li><span class='xr-has-index'>y</span>: 9674</li><li><span class='xr-has-index'>x</span>: 9558</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-bd6e559f-2d26-43aa-9883-17ed8fc95d77' class='xr-array-in' type='checkbox' checked><label for='section-bd6e559f-2d26-43aa-9883-17ed8fc95d77' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 1, 1024, 1024), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 630.35 GiB </td>
                        <td> 8.00 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (183, 5, 9674, 9558) </td>
                        <td> (1, 1, 1024, 1024) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 91500 chunks in 3 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="379" height="184" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="28" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="28" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="13" y1="0" x2="13" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="22" y1="0" x2="22" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="26" y1="0" x2="26" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="28" y1="0" x2="28" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 28.718912461532433,0.0 28.718912461532433,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="14.359456" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >183</text>
  <text x="48.718912" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,48.718912,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="98" y1="0" x2="112" y2="14" style="stroke-width:2" />
  <line x1="98" y1="12" x2="112" y2="27" />
  <line x1="98" y1="25" x2="112" y2="40" />
  <line x1="98" y1="38" x2="112" y2="53" />
  <line x1="98" y1="50" x2="112" y2="65" />
  <line x1="98" y1="63" x2="112" y2="78" />
  <line x1="98" y1="76" x2="112" y2="91" />
  <line x1="98" y1="88" x2="112" y2="103" />
  <line x1="98" y1="101" x2="112" y2="116" />
  <line x1="98" y1="114" x2="112" y2="129" />
  <line x1="98" y1="120" x2="112" y2="134" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="98" y1="0" x2="98" y2="120" style="stroke-width:2" />
  <line x1="100" y1="2" x2="100" y2="122" />
  <line x1="103" y1="5" x2="103" y2="125" />
  <line x1="106" y1="8" x2="106" y2="128" />
  <line x1="109" y1="11" x2="109" y2="131" />
  <line x1="112" y1="14" x2="112" y2="134" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="98.0,0.0 112.9485979497544,14.948597949754403 112.9485979497544,134.9485979497544 98.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="98" y1="0" x2="216" y2="0" style="stroke-width:2" />
  <line x1="100" y1="2" x2="219" y2="2" />
  <line x1="103" y1="5" x2="222" y2="5" />
  <line x1="106" y1="8" x2="225" y2="8" />
  <line x1="109" y1="11" x2="228" y2="11" />
  <line x1="112" y1="14" x2="231" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="98" y1="0" x2="112" y2="14" style="stroke-width:2" />
  <line x1="110" y1="0" x2="125" y2="14" />
  <line x1="123" y1="0" x2="138" y2="14" />
  <line x1="136" y1="0" x2="151" y2="14" />
  <line x1="148" y1="0" x2="163" y2="14" />
  <line x1="161" y1="0" x2="176" y2="14" />
  <line x1="174" y1="0" x2="189" y2="14" />
  <line x1="186" y1="0" x2="201" y2="14" />
  <line x1="199" y1="0" x2="214" y2="14" />
  <line x1="212" y1="0" x2="227" y2="14" />
  <line x1="216" y1="0" x2="231" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="98.0,0.0 216.56109158569362,0.0 231.50968953544802,14.948597949754403 112.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="112" y1="14" x2="231" y2="14" style="stroke-width:2" />
  <line x1="112" y1="27" x2="231" y2="27" />
  <line x1="112" y1="40" x2="231" y2="40" />
  <line x1="112" y1="53" x2="231" y2="53" />
  <line x1="112" y1="65" x2="231" y2="65" />
  <line x1="112" y1="78" x2="231" y2="78" />
  <line x1="112" y1="91" x2="231" y2="91" />
  <line x1="112" y1="103" x2="231" y2="103" />
  <line x1="112" y1="116" x2="231" y2="116" />
  <line x1="112" y1="129" x2="231" y2="129" />
  <line x1="112" y1="134" x2="231" y2="134" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="112" y1="14" x2="112" y2="134" style="stroke-width:2" />
  <line x1="125" y1="14" x2="125" y2="134" />
  <line x1="138" y1="14" x2="138" y2="134" />
  <line x1="151" y1="14" x2="151" y2="134" />
  <line x1="163" y1="14" x2="163" y2="134" />
  <line x1="176" y1="14" x2="176" y2="134" />
  <line x1="189" y1="14" x2="189" y2="134" />
  <line x1="201" y1="14" x2="201" y2="134" />
  <line x1="214" y1="14" x2="214" y2="134" />
  <line x1="227" y1="14" x2="227" y2="134" />
  <line x1="231" y1="14" x2="231" y2="134" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="112.9485979497544,14.948597949754403 231.50968953544802,14.948597949754403 231.50968953544802,134.9485979497544 112.9485979497544,134.9485979497544" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="172.229144" y="154.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" >9558</text>
  <text x="251.509690" y="74.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,251.509690,74.948598)">9674</text>
  <text x="95.474299" y="147.474299" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,95.474299,147.474299)">5</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-c4823af9-6ab0-4352-bbd1-c0365194ecd2' class='xr-section-summary-in' type='checkbox'  ><label for='section-c4823af9-6ab0-4352-bbd1-c0365194ecd2' class='xr-section-summary' >Coordinates: <span>(27)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-02-06T18:51:55.125422 ... 2...</div><input id='attrs-ca88c6b7-6ef0-4cdf-af23-a7d140d60be2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ca88c6b7-6ef0-4cdf-af23-a7d140d60be2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7fdb6a65-65b1-4e87-be0e-9db090258aa0' class='xr-var-data-in' type='checkbox'><label for='data-7fdb6a65-65b1-4e87-be0e-9db090258aa0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-02-06T18:51:55.125422000&#x27;, &#x27;2020-02-07T18:24:41.082486000&#x27;,
       &#x27;2020-02-08T18:39:33.230747000&#x27;, &#x27;2020-02-08T18:39:57.113314000&#x27;,
       &#x27;2020-02-08T18:40:21.004352000&#x27;, &#x27;2020-02-15T18:46:06.622682000&#x27;,
       &#x27;2020-02-15T18:46:30.509486000&#x27;, &#x27;2020-02-16T18:18:26.204154000&#x27;,
       &#x27;2020-02-16T18:18:50.091152000&#x27;, &#x27;2020-02-21T18:36:19.004475000&#x27;,
       &#x27;2020-02-22T18:51:51.792169000&#x27;, &#x27;2020-02-24T18:39:29.558834000&#x27;,
       &#x27;2020-02-24T18:39:53.445637000&#x27;, &#x27;2020-02-24T18:40:17.336676000&#x27;,
       &#x27;2020-03-02T18:45:37.919773000&#x27;, &#x27;2020-03-02T18:46:01.810812000&#x27;,
       &#x27;2020-03-02T18:46:25.697616000&#x27;, &#x27;2020-03-03T18:17:11.366397000&#x27;,
       &#x27;2020-03-03T18:17:35.250990000&#x27;, &#x27;2020-03-03T18:17:59.136562000&#x27;,
       &#x27;2020-03-10T18:22:59.398883000&#x27;, &#x27;2020-03-25T18:52:01.303967000&#x27;,
       &#x27;2020-03-26T18:22:06.204454000&#x27;, &#x27;2020-03-27T18:39:14.565552000&#x27;,
       &#x27;2020-03-27T18:39:38.443884000&#x27;, &#x27;2020-04-01T18:57:43.737674000&#x27;,
       &#x27;2020-04-02T18:27:53.221579000&#x27;, &#x27;2020-04-02T18:28:17.106946000&#x27;,
       &#x27;2020-04-03T18:45:21.110510000&#x27;, &#x27;2020-04-03T18:45:44.997313000&#x27;,
       &#x27;2020-04-03T18:46:08.879881000&#x27;, &#x27;2020-04-26T18:51:22.067458000&#x27;,
       &#x27;2020-04-27T18:20:14.874528000&#x27;, &#x27;2020-04-27T18:20:38.762105000&#x27;,
       &#x27;2020-04-28T18:38:59.326107000&#x27;, &#x27;2020-04-28T18:39:23.212909000&#x27;,
       &#x27;2020-04-28T18:39:47.099714000&#x27;, &#x27;2020-05-03T18:57:28.812224000&#x27;,
       &#x27;2020-05-04T18:26:00.383487000&#x27;, &#x27;2020-05-04T18:26:24.271284000&#x27;,
       &#x27;2020-05-05T18:45:05.948091000&#x27;, &#x27;2020-05-06T18:13:31.507682000&#x27;,
       &#x27;2020-05-06T18:13:55.395326000&#x27;, &#x27;2020-05-14T18:39:42.697863000&#x27;,
       &#x27;2020-05-20T18:25:01.377536000&#x27;, &#x27;2020-05-21T18:45:07.276785000&#x27;,
       &#x27;2020-05-22T18:12:56.177537000&#x27;, &#x27;2020-05-22T18:13:20.065857000&#x27;,
       &#x27;2020-06-04T18:57:34.846496000&#x27;, &#x27;2020-06-06T18:45:14.511284000&#x27;,
       &#x27;2020-06-06T18:45:38.406559000&#x27;, &#x27;2020-06-07T18:12:00.020270000&#x27;,
       &#x27;2020-06-07T18:12:23.907534000&#x27;, &#x27;2020-06-13T18:51:53.475989000&#x27;,
       &#x27;2020-06-14T18:17:22.483636000&#x27;, &#x27;2020-06-22T18:45:23.684594000&#x27;,
       &#x27;2020-06-23T18:10:39.870328000&#x27;, &#x27;2020-06-23T18:11:03.755368000&#x27;,
       &#x27;2020-06-28T18:28:54.383668000&#x27;, &#x27;2020-06-29T18:51:37.856330000&#x27;,
       &#x27;2020-06-29T18:52:01.747370000&#x27;, &#x27;2020-06-30T18:16:25.592450000&#x27;,
       &#x27;2020-06-30T18:16:49.476803000&#x27;, &#x27;2020-07-01T18:39:17.114813000&#x27;,
       &#x27;2020-07-01T18:39:40.997381000&#x27;, &#x27;2020-07-07T18:22:11.089551000&#x27;,
       &#x27;2020-07-07T18:22:34.973917000&#x27;, &#x27;2020-07-08T18:45:30.829456000&#x27;,
       &#x27;2020-07-09T18:09:42.199927000&#x27;, &#x27;2020-07-09T18:10:06.084360000&#x27;,
       &#x27;2020-07-16T18:15:27.344224000&#x27;, &#x27;2020-07-17T18:39:23.145638000&#x27;,
       &#x27;2020-07-17T18:39:47.036677000&#x27;, &#x27;2020-07-24T18:45:36.004256000&#x27;,
       &#x27;2020-07-25T18:08:43.202579000&#x27;, &#x27;2020-07-25T18:09:07.087828000&#x27;,
       &#x27;2020-08-01T18:14:27.788360000&#x27;, &#x27;2020-08-02T18:39:27.218890000&#x27;,
       &#x27;2020-08-02T18:39:51.105693000&#x27;, &#x27;2020-08-07T18:58:00.513702000&#x27;,
       &#x27;2020-08-09T18:45:39.144963000&#x27;, &#x27;2020-08-10T18:07:42.865186000&#x27;,
       &#x27;2020-08-10T18:08:06.751948000&#x27;, &#x27;2020-08-15T18:25:56.132596000&#x27;,
       &#x27;2020-08-18T18:39:32.654923000&#x27;, &#x27;2020-08-18T18:39:56.537490000&#x27;,
       &#x27;2020-08-18T18:40:20.432766000&#x27;, &#x27;2020-08-25T18:45:47.126649000&#x27;,
       &#x27;2020-08-26T18:06:41.181431000&#x27;, &#x27;2020-08-26T18:07:05.069246000&#x27;,
       &#x27;2020-09-02T18:12:24.606280000&#x27;, &#x27;2020-09-03T18:39:40.471028000&#x27;,
       &#x27;2020-09-03T18:40:04.357831000&#x27;, &#x27;2020-09-09T18:18:07.684985000&#x27;,
       &#x27;2020-09-09T18:18:31.572843000&#x27;, &#x27;2020-09-11T18:05:38.117811000&#x27;,
       &#x27;2020-09-18T18:12:08.681900000&#x27;, &#x27;2020-09-19T18:39:46.139351000&#x27;,
       &#x27;2020-09-19T18:40:10.030390000&#x27;, &#x27;2020-09-19T18:40:33.921429000&#x27;,
       &#x27;2020-09-24T18:58:19.903775000&#x27;, &#x27;2020-09-25T18:17:04.358291000&#x27;,
       &#x27;2020-09-25T18:17:28.245293000&#x27;, &#x27;2020-09-26T18:45:58.738268000&#x27;,
       &#x27;2020-09-27T18:04:35.270402000&#x27;, &#x27;2020-09-27T18:04:59.157424000&#x27;,
       &#x27;2020-09-27T18:05:23.045337000&#x27;, &#x27;2020-10-04T18:10:19.569890000&#x27;,
       &#x27;2020-10-05T18:39:49.495227000&#x27;, &#x27;2020-10-05T18:40:13.382030000&#x27;,
       &#x27;2020-10-11T18:16:03.460512000&#x27;, &#x27;2020-10-11T18:16:27.346155000&#x27;,
       &#x27;2020-10-12T18:46:00.917595000&#x27;, &#x27;2020-10-12T18:46:24.804399000&#x27;,
       &#x27;2020-10-12T18:46:48.695438000&#x27;, &#x27;2020-10-13T18:03:34.117740000&#x27;,
       &#x27;2020-10-13T18:03:58.003189000&#x27;, &#x27;2020-10-13T18:04:21.889310000&#x27;,
       &#x27;2020-10-18T18:21:47.030791000&#x27;, &#x27;2020-10-19T18:52:11.874539000&#x27;,
       &#x27;2020-10-20T18:09:17.566754000&#x27;, &#x27;2020-10-21T18:39:50.171533000&#x27;,
       &#x27;2020-10-21T18:40:14.058337000&#x27;, &#x27;2020-10-26T18:58:22.242644000&#x27;,
       &#x27;2020-10-27T18:15:00.589834000&#x27;, &#x27;2020-10-27T18:15:24.474495000&#x27;,
       &#x27;2020-10-28T18:46:00.387015000&#x27;, &#x27;2020-10-28T18:46:24.273819000&#x27;,
       &#x27;2020-10-29T18:02:30.980870000&#x27;, &#x27;2020-10-29T18:02:54.865533000&#x27;,
       &#x27;2020-10-29T18:03:18.750819000&#x27;, &#x27;2020-11-05T18:08:13.369708000&#x27;,
       &#x27;2020-11-05T18:08:37.254360000&#x27;, &#x27;2020-11-12T18:13:55.270572000&#x27;,
       &#x27;2020-11-12T18:14:19.155311000&#x27;, &#x27;2020-11-14T18:02:13.095974000&#x27;,
       &#x27;2020-11-19T18:19:36.640246000&#x27;, &#x27;2020-11-20T18:52:10.546778000&#x27;,
       &#x27;2020-11-20T18:52:34.433581000&#x27;, &#x27;2020-11-21T18:07:06.535782000&#x27;,
       &#x27;2020-11-22T18:39:49.445371000&#x27;, &#x27;2020-11-22T18:40:13.336411000&#x27;,
       &#x27;2020-11-22T18:40:37.223214000&#x27;, &#x27;2020-11-27T18:58:22.969565000&#x27;,
       &#x27;2020-11-28T18:12:47.179374000&#x27;, &#x27;2020-11-28T18:13:11.065436000&#x27;,
       &#x27;2020-11-29T18:46:01.639313000&#x27;, &#x27;2020-11-29T18:46:25.526116000&#x27;,
       &#x27;2020-11-29T18:46:49.421392000&#x27;, &#x27;2020-11-30T18:00:16.836777000&#x27;,
       &#x27;2020-11-30T18:00:40.723046000&#x27;, &#x27;2020-11-30T18:01:04.610066000&#x27;,
       &#x27;2020-12-06T18:52:12.913886000&#x27;, &#x27;2020-12-06T18:52:36.804926000&#x27;,
       &#x27;2020-12-07T18:05:56.504523000&#x27;, &#x27;2020-12-07T18:06:20.391323000&#x27;,
       &#x27;2020-12-07T18:06:44.279131000&#x27;, &#x27;2020-12-08T18:39:51.253202000&#x27;,
       &#x27;2020-12-08T18:40:15.148477000&#x27;, &#x27;2020-12-14T18:11:35.596617000&#x27;,
       &#x27;2020-12-14T18:11:59.483934000&#x27;, &#x27;2020-12-15T18:46:49.335004000&#x27;,
       &#x27;2020-12-16T17:59:52.607830000&#x27;, &#x27;2020-12-22T18:52:11.148959000&#x27;,
       &#x27;2020-12-22T18:52:35.031526000&#x27;, &#x27;2020-12-23T18:04:43.871207000&#x27;,
       &#x27;2020-12-23T18:05:07.759341000&#x27;, &#x27;2020-12-29T18:58:20.054849000&#x27;,
       &#x27;2020-12-30T18:10:26.114847000&#x27;, &#x27;2020-12-31T18:45:57.754433000&#x27;,
       &#x27;2020-12-31T18:46:21.637001000&#x27;, &#x27;2020-12-31T18:46:45.528039000&#x27;,
       &#x27;2021-01-01T17:57:56.243264000&#x27;, &#x27;2021-01-01T17:58:20.131679000&#x27;,
       &#x27;2021-01-01T17:58:44.021034000&#x27;, &#x27;2021-01-09T18:39:43.203959000&#x27;,
       &#x27;2021-01-09T18:40:30.981802000&#x27;, &#x27;2021-01-16T18:45:50.467085000&#x27;,
       &#x27;2021-01-16T18:46:38.240692000&#x27;, &#x27;2021-01-17T17:56:48.817687000&#x27;,
       &#x27;2021-01-17T17:57:12.705228000&#x27;, &#x27;2021-01-17T17:57:36.593523000&#x27;,
       &#x27;2021-01-23T18:52:00.186800000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U31</div><div class='xr-var-preview xr-preview'>&#x27;LC08_L2SP_045033_20200206_02_T1...</div><input id='attrs-de5354f2-2602-4901-885b-2ed14f316035' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-de5354f2-2602-4901-885b-2ed14f316035' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-def07094-cd29-4095-8053-998459564e4e' class='xr-var-data-in' type='checkbox'><label for='data-def07094-cd29-4095-8053-998459564e4e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;LC08_L2SP_045033_20200206_02_T1&#x27;,
       &#x27;LE07_L2SP_044033_20200207_02_T1&#x27;,
       &#x27;LC08_L2SP_043033_20200208_02_T1&#x27;,
       &#x27;LC08_L2SP_043034_20200208_02_T1&#x27;,
       &#x27;LC08_L2SP_043035_20200208_02_T1&#x27;,
       &#x27;LC08_L2SP_044034_20200215_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20200215_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20200216_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20200216_02_T1&#x27;,
       &#x27;LE07_L2SP_046033_20200221_02_T1&#x27;,
       &#x27;LC08_L2SP_045033_20200222_02_T1&#x27;,
       &#x27;LC08_L2SP_043033_20200224_02_T1&#x27;,
       &#x27;LC08_L2SP_043034_20200224_02_T1&#x27;,
       &#x27;LC08_L2SP_043035_20200224_02_T1&#x27;,
       &#x27;LC08_L2SP_044033_20200302_02_T1&#x27;,
       &#x27;LC08_L2SP_044034_20200302_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20200302_02_T1&#x27;,
       &#x27;LE07_L2SP_043033_20200303_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20200303_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20200303_02_T1&#x27;,
...
       &#x27;LC08_L2SP_045033_20201222_02_T1&#x27;,
       &#x27;LC08_L2SP_045034_20201222_02_T1&#x27;,
       &#x27;LE07_L2SP_044033_20201223_02_T1&#x27;,
       &#x27;LE07_L2SP_044034_20201223_02_T1&#x27;,
       &#x27;LC08_L2SP_046033_20201229_02_T1&#x27;,
       &#x27;LE07_L2SP_045033_20201230_02_T1&#x27;,
       &#x27;LC08_L2SP_044033_20201231_02_T1&#x27;,
       &#x27;LC08_L2SP_044034_20201231_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20201231_02_T1&#x27;,
       &#x27;LE07_L2SP_043033_20210101_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20210101_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20210101_02_T1&#x27;,
       &#x27;LC08_L2SP_043033_20210109_02_T1&#x27;,
       &#x27;LC08_L2SP_043035_20210109_02_T1&#x27;,
       &#x27;LC08_L2SP_044033_20210116_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20210116_02_T1&#x27;,
       &#x27;LE07_L2SP_043033_20210117_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20210117_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20210117_02_T1&#x27;,
       &#x27;LC08_L2SP_045033_20210123_02_T1&#x27;], dtype=&#x27;&lt;U31&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;red&#x27; &#x27;green&#x27; ... &#x27;nir08&#x27; &#x27;swir16&#x27;</div><input id='attrs-d998ef64-e1e6-4789-9c89-c231c8cb6587' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d998ef64-e1e6-4789-9c89-c231c8cb6587' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f90ad317-3c27-4967-8f9e-d80570092383' class='xr-var-data-in' type='checkbox'><label for='data-f90ad317-3c27-4967-8f9e-d80570092383' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir08&#x27;, &#x27;swir16&#x27;], dtype=&#x27;&lt;U6&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.076e+05 4.076e+05 ... 6.943e+05</div><input id='attrs-78d517e5-b3c7-481d-9763-5def6d2c691f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-78d517e5-b3c7-481d-9763-5def6d2c691f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-05fd9933-45d1-4426-9d12-eda7255aa128' class='xr-var-data-in' type='checkbox'><label for='data-05fd9933-45d1-4426-9d12-eda7255aa128' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([407580., 407610., 407640., ..., 694230., 694260., 694290.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.327e+06 4.327e+06 ... 4.037e+06</div><input id='attrs-41e6b15d-01b3-4c73-8035-544836adee26' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-41e6b15d-01b3-4c73-8035-544836adee26' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5ee9f73e-2183-41fc-ab9a-27f16e2a6265' class='xr-var-data-in' type='checkbox'><label for='data-5ee9f73e-2183-41fc-ab9a-27f16e2a6265' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4327230., 4327200., 4327170., ..., 4037100., 4037070., 4037040.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;2&#x27;</div><input id='attrs-6afa3822-6b6e-4598-b313-a489fa392d7b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6afa3822-6b6e-4598-b313-a489fa392d7b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d055a1ef-2f54-4f0a-b713-b4c907567098' class='xr-var-data-in' type='checkbox'><label for='data-d055a1ef-2f54-4f0a-b713-b4c907567098' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;2&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:scene_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U21</div><div class='xr-var-preview xr-preview'>&#x27;LC80450332020037LGN00&#x27; ... &#x27;LC8...</div><input id='attrs-60f1f900-fc9a-4651-bf02-1ddec5246d86' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-60f1f900-fc9a-4651-bf02-1ddec5246d86' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-749f8690-2a4f-4f8c-9db0-f8ba1ac15dbc' class='xr-var-data-in' type='checkbox'><label for='data-749f8690-2a4f-4f8c-9db0-f8ba1ac15dbc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;LC80450332020037LGN00&#x27;, &#x27;LE70440332020038EDC00&#x27;,
       &#x27;LC80430332020039LGN00&#x27;, &#x27;LC80430342020039LGN00&#x27;,
       &#x27;LC80430352020039LGN00&#x27;, &#x27;LC80440342020046LGN00&#x27;,
       &#x27;LC80440352020046LGN00&#x27;, &#x27;LE70430342020047EDC00&#x27;,
       &#x27;LE70430352020047EDC00&#x27;, &#x27;LE70460332020052ASN00&#x27;,
       &#x27;LC80450332020053LGN00&#x27;, &#x27;LC80430332020055LGN00&#x27;,
       &#x27;LC80430342020055LGN00&#x27;, &#x27;LC80430352020055LGN00&#x27;,
       &#x27;LC80440332020062LGN00&#x27;, &#x27;LC80440342020062LGN00&#x27;,
       &#x27;LC80440352020062LGN00&#x27;, &#x27;LE70430332020063EDC00&#x27;,
       &#x27;LE70430342020063EDC00&#x27;, &#x27;LE70430352020063EDC00&#x27;,
       &#x27;LE70440332020070EDC00&#x27;, &#x27;LC80450342020085LGN00&#x27;,
       &#x27;LE70440332020086EDC00&#x27;, &#x27;LC80430332020087LGN00&#x27;,
       &#x27;LC80430342020087LGN00&#x27;, &#x27;LC80460332020092LGN00&#x27;,
       &#x27;LE70450332020093EDC00&#x27;, &#x27;LE70450342020093EDC00&#x27;,
       &#x27;LC80440332020094LGN00&#x27;, &#x27;LC80440342020094LGN00&#x27;,
       &#x27;LC80440352020094LGN00&#x27;, &#x27;LC80450332020117LGN00&#x27;,
       &#x27;LE70440332020118EDC00&#x27;, &#x27;LE70440342020118EDC00&#x27;,
       &#x27;LC80430332020119LGN00&#x27;, &#x27;LC80430342020119LGN00&#x27;,
       &#x27;LC80430352020119LGN00&#x27;, &#x27;LC80460332020124LGN00&#x27;,
       &#x27;LE70450332020125EDC00&#x27;, &#x27;LE70450342020125EDC00&#x27;,
...
       &#x27;LE70450332020333EDC00&#x27;, &#x27;LE70450342020333EDC00&#x27;,
       &#x27;LC80440332020334LGN00&#x27;, &#x27;LC80440342020334LGN00&#x27;,
       &#x27;LC80440352020334LGN00&#x27;, &#x27;LE70430332020335EDC00&#x27;,
       &#x27;LE70430342020335EDC00&#x27;, &#x27;LE70430352020335EDC00&#x27;,
       &#x27;LC80450332020341LGN00&#x27;, &#x27;LC80450342020341LGN00&#x27;,
       &#x27;LE70440332020342EDC02&#x27;, &#x27;LE70440342020342EDC02&#x27;,
       &#x27;LE70440352020342EDC02&#x27;, &#x27;LC80430332020343LGN00&#x27;,
       &#x27;LC80430342020343LGN00&#x27;, &#x27;LE70450332020349EDC00&#x27;,
       &#x27;LE70450342020349EDC00&#x27;, &#x27;LC80440352020350LGN00&#x27;,
       &#x27;LE70430352020351EDC00&#x27;, &#x27;LC80450332020357LGN00&#x27;,
       &#x27;LC80450342020357LGN00&#x27;, &#x27;LE70440332020358EDC00&#x27;,
       &#x27;LE70440342020358EDC00&#x27;, &#x27;LC80460332020364LGN00&#x27;,
       &#x27;LE70450332020365EDC00&#x27;, &#x27;LC80440332020366LGN01&#x27;,
       &#x27;LC80440342020366LGN01&#x27;, &#x27;LC80440352020366LGN01&#x27;,
       &#x27;LE70430332021001EDC00&#x27;, &#x27;LE70430342021001EDC00&#x27;,
       &#x27;LE70430352021001EDC00&#x27;, &#x27;LC80430332021009LGN00&#x27;,
       &#x27;LC80430352021009LGN00&#x27;, &#x27;LC80440332021016LGN00&#x27;,
       &#x27;LC80440352021016LGN00&#x27;, &#x27;LE70430332021017EDC00&#x27;,
       &#x27;LE70430342021017EDC00&#x27;, &#x27;LE70430352021017EDC00&#x27;,
       &#x27;LC80450332021023LGN00&#x27;], dtype=&#x27;&lt;U21&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>created</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U27</div><div class='xr-var-preview xr-preview'>&#x27;2022-05-06T17:11:57.420505Z&#x27; .....</div><input id='attrs-8f9b52e0-beca-4076-abb0-abc09efdea8b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8f9b52e0-beca-4076-abb0-abc09efdea8b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fc1c6605-ab3b-4bb6-8b21-587e2fc80469' class='xr-var-data-in' type='checkbox'><label for='data-fc1c6605-ab3b-4bb6-8b21-587e2fc80469' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-05-06T17:11:57.420505Z&#x27;, &#x27;2022-05-06T17:35:07.317707Z&#x27;,
       &#x27;2022-05-06T17:49:39.151608Z&#x27;, &#x27;2022-05-06T17:49:43.387084Z&#x27;,
       &#x27;2022-05-06T17:49:47.306542Z&#x27;, &#x27;2022-05-06T17:49:47.411619Z&#x27;,
       &#x27;2022-05-06T17:49:51.187450Z&#x27;, &#x27;2022-05-06T17:43:29.437553Z&#x27;,
       &#x27;2022-05-06T17:43:32.687886Z&#x27;, &#x27;2022-05-06T18:01:26.093047Z&#x27;,
       &#x27;2022-05-06T17:11:57.606517Z&#x27;, &#x27;2022-05-06T17:49:39.320858Z&#x27;,
       &#x27;2022-05-06T17:49:43.532270Z&#x27;, &#x27;2022-05-06T17:49:47.465995Z&#x27;,
       &#x27;2022-05-06T17:49:43.810826Z&#x27;, &#x27;2022-05-06T17:49:47.562827Z&#x27;,
       &#x27;2022-05-06T17:49:51.353997Z&#x27;, &#x27;2022-05-06T17:43:26.440252Z&#x27;,
       &#x27;2022-05-06T17:43:29.577259Z&#x27;, &#x27;2022-05-06T17:43:32.826302Z&#x27;,
       &#x27;2022-05-06T17:35:07.630299Z&#x27;, &#x27;2022-05-06T17:12:02.733233Z&#x27;,
       &#x27;2022-05-06T17:35:07.766736Z&#x27;, &#x27;2022-05-06T17:49:39.714475Z&#x27;,
       &#x27;2022-05-06T17:49:43.853748Z&#x27;, &#x27;2022-05-06T18:04:40.703660Z&#x27;,
       &#x27;2022-05-06T17:18:44.526707Z&#x27;, &#x27;2022-05-06T17:18:48.871346Z&#x27;,
       &#x27;2022-05-06T17:49:44.122681Z&#x27;, &#x27;2022-05-06T17:49:47.831465Z&#x27;,
       &#x27;2022-05-06T17:49:51.690773Z&#x27;, &#x27;2022-05-06T17:11:58.569097Z&#x27;,
       &#x27;2022-05-06T17:35:08.083639Z&#x27;, &#x27;2022-05-06T17:35:11.774007Z&#x27;,
       &#x27;2022-05-06T17:49:40.072646Z&#x27;, &#x27;2022-05-06T17:49:44.172086Z&#x27;,
       &#x27;2022-05-06T17:49:48.153617Z&#x27;, &#x27;2022-05-06T18:04:41.025315Z&#x27;,
       &#x27;2022-05-06T17:18:44.830005Z&#x27;, &#x27;2022-05-06T17:18:49.264298Z&#x27;,
...
       &#x27;2022-05-06T17:18:47.206703Z&#x27;, &#x27;2022-05-06T17:18:51.561987Z&#x27;,
       &#x27;2022-05-06T17:49:46.299987Z&#x27;, &#x27;2022-05-06T17:49:50.061430Z&#x27;,
       &#x27;2022-05-06T17:49:54.078683Z&#x27;, &#x27;2022-05-06T17:43:28.897304Z&#x27;,
       &#x27;2022-05-06T17:43:32.187100Z&#x27;, &#x27;2022-05-06T17:43:35.081679Z&#x27;,
       &#x27;2022-05-06T17:12:01.267444Z&#x27;, &#x27;2022-05-06T17:12:05.984836Z&#x27;,
       &#x27;2022-05-06T17:35:10.252617Z&#x27;, &#x27;2022-05-06T17:35:14.205933Z&#x27;,
       &#x27;2022-05-06T17:35:17.962980Z&#x27;, &#x27;2022-05-06T17:49:42.600625Z&#x27;,
       &#x27;2022-05-06T17:49:46.518309Z&#x27;, &#x27;2022-05-06T17:18:47.386574Z&#x27;,
       &#x27;2022-05-06T17:18:51.735903Z&#x27;, &#x27;2022-05-06T17:49:54.227833Z&#x27;,
       &#x27;2022-05-06T17:43:35.212075Z&#x27;, &#x27;2022-05-06T17:12:01.430038Z&#x27;,
       &#x27;2022-05-06T17:12:06.224529Z&#x27;, &#x27;2022-05-06T17:35:10.510482Z&#x27;,
       &#x27;2022-05-06T17:35:14.387587Z&#x27;, &#x27;2022-05-06T18:04:44.024643Z&#x27;,
       &#x27;2022-05-06T17:18:47.715916Z&#x27;, &#x27;2022-05-06T17:49:46.922437Z&#x27;,
       &#x27;2022-05-06T17:49:50.713335Z&#x27;, &#x27;2022-05-06T17:49:54.744493Z&#x27;,
       &#x27;2022-05-06T18:00:39.031671Z&#x27;, &#x27;2022-05-06T18:00:50.617909Z&#x27;,
       &#x27;2022-05-06T18:01:01.534505Z&#x27;, &#x27;2022-05-06T17:06:23.392361Z&#x27;,
       &#x27;2022-05-06T17:06:56.504144Z&#x27;, &#x27;2022-05-06T17:36:26.063566Z&#x27;,
       &#x27;2022-05-06T17:37:06.444889Z&#x27;, &#x27;2022-05-06T18:00:39.251017Z&#x27;,
       &#x27;2022-05-06T18:00:50.809408Z&#x27;, &#x27;2022-05-06T18:01:01.717543Z&#x27;,
       &#x27;2022-05-06T17:19:21.665595Z&#x27;], dtype=&#x27;&lt;U27&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>description</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Landsat Collection 2 Level-2&#x27;</div><input id='attrs-bb5a43fd-b0e3-4865-9f07-d5191a7ffc9f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bb5a43fd-b0e3-4865-9f07-d5191a7ffc9f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e35887cf-b218-41f0-a3a8-f53ea0cf9009' class='xr-var-data-in' type='checkbox'><label for='data-e35887cf-b218-41f0-a3a8-f53ea0cf9009' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Landsat Collection 2 Level-2&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>sci:doi</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U16</div><div class='xr-var-preview xr-preview'>&#x27;10.5066/P9OGBGM6&#x27; ... &#x27;10.5066/...</div><input id='attrs-7c20713b-8537-4b93-9a40-10062ac2048c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7c20713b-8537-4b93-9a40-10062ac2048c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-76b37382-ae65-42e4-a26f-f53017dee3d8' class='xr-var-data-in' type='checkbox'><label for='data-76b37382-ae65-42e4-a26f-f53017dee3d8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
...
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;],
      dtype=&#x27;&lt;U16&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;02&#x27;</div><input id='attrs-6b71ef20-ebea-46be-a820-c265045b6297' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6b71ef20-ebea-46be-a820-c265045b6297' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e4c6cb00-5237-43ca-bb69-384edc9600c7' class='xr-var-data-in' type='checkbox'><label for='data-e4c6cb00-5237-43ca-bb69-384edc9600c7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;02&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:sun_azimuth</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>153.1 147.4 152.8 ... 144.5 155.1</div><input id='attrs-ade06990-ff4a-4397-aca4-ac4ec0b87cba' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ade06990-ff4a-4397-aca4-ac4ec0b87cba' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2a6c9a5a-3f7f-4d1f-86b0-6cbeff8dd948' class='xr-var-data-in' type='checkbox'><label for='data-2a6c9a5a-3f7f-4d1f-86b0-6cbeff8dd948' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([153.060597  , 147.41212011, 152.76126009, 151.98923408,
       151.19789422, 150.89485366, 150.03846055, 144.91933227,
       144.04180054, 144.86244825, 150.72646427, 150.44461538,
       149.51617669, 148.56086567, 149.46801819, 148.45451191,
       147.40978676, 142.85681032, 141.81468636, 140.74482628,
       141.55187268, 144.78233984, 138.33465749, 145.84278983,
       144.42541147, 145.00816754, 136.76306805, 135.21181003,
       144.65994033, 143.09399826, 141.46025897, 139.61258808,
       129.8755412 , 127.7377408 , 139.07262075, 136.83448846,
       134.47838978, 137.64581503, 127.58324767, 125.28029428,
       137.05251486, 126.91478205, 124.55641003, 128.70901606,
       122.13197972, 132.1202135 , 118.78691088, 116.02561791,
       128.02599189, 127.53745319, 124.26609583, 114.08061589,
       111.16873681, 122.76889912, 115.60719449, 125.02801343,
       114.65999833, 111.82706652, 114.54966646, 124.89560339,
       121.62828736, 114.5851837 , 111.80820903, 124.97507677,
       121.73331785, 115.08348692, 112.37929672, 125.65411322,
       115.31962795, 112.64502412, 116.4997775 , 127.37025358,
       124.4213705 , 129.27189955, 118.68309011, 116.26215017,
       120.83369518, 132.29312683, 129.75607163, 134.18329828,
...
       142.55261905, 141.35184566, 140.10558531, 144.73932068,
       156.14994302, 155.14883375, 146.67242703, 145.67400746,
       157.84927327, 156.94384967, 156.0077217 , 147.17585803,
       146.19476039, 145.1903814 , 148.32587686, 159.25950209,
       148.74524628, 159.60687367, 158.8029483 , 160.38141095,
       150.02889277, 149.20358716, 160.64823362, 159.90813855,
       150.33760004, 149.53098555, 148.70395696, 151.24041626,
       150.49125632, 151.84136877, 151.13976487, 150.56305797,
       152.14233196, 162.06735348, 161.46157767, 152.17618033,
       162.05590883, 161.45707804, 160.84631412, 161.94353296,
       152.13085487, 151.50617374, 161.86606697, 161.28718133,
       160.69713025, 152.06509946, 151.4472435 , 150.81728333,
       161.45379058, 160.88741718, 151.68612362, 151.08682087,
       150.47808244, 161.30049006, 160.73633159, 151.07720484,
       150.48907044, 159.51499671, 149.68047146, 159.83708746,
       159.27393684, 149.99943731, 149.41515151, 158.91455743,
       148.97750902, 158.63406751, 158.057127  , 157.46919034,
       148.65870604, 148.06736769, 147.45957526, 157.30114819,
       156.08419794, 156.21069205, 154.93646744, 145.8037765 ,
       145.16251249, 144.50953657, 155.11245406])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>platform</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;landsat-8&#x27; ... &#x27;landsat-8&#x27;</div><input id='attrs-39a48b14-acd9-41fb-8c0a-f3c6f09c7577' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-39a48b14-acd9-41fb-8c0a-f3c6f09c7577' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-34b22c59-bd8e-486f-93e8-563c9779701b' class='xr-var-data-in' type='checkbox'><label for='data-34b22c59-bd8e-486f-93e8-563c9779701b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>eo:cloud_cover</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.14 0.0 0.94 4.66 ... 3.0 0.0 8.92</div><input id='attrs-aacee6bb-3f38-48ee-aaf1-85fb68694a4e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-aacee6bb-3f38-48ee-aaf1-85fb68694a4e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2c9c5ee0-06a8-4cc9-880f-8964f15a2629' class='xr-var-data-in' type='checkbox'><label for='data-2c9c5ee0-06a8-4cc9-880f-8964f15a2629' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.400e-01, 0.000e+00, 9.400e-01, 4.660e+00, 1.327e+01, 1.118e+01,
       1.765e+01, 3.000e+00, 0.000e+00, 6.000e+00, 1.266e+01, 1.200e+00,
       3.720e+00, 1.520e+00, 1.880e+00, 5.500e-01, 0.000e+00, 1.000e+00,
       1.000e+00, 1.000e+00, 0.000e+00, 1.940e+01, 1.400e+01, 3.850e+00,
       1.112e+01, 1.704e+01, 0.000e+00, 5.000e+00, 3.600e-01, 4.700e-01,
       1.006e+01, 1.601e+01, 3.000e+00, 1.100e+01, 2.930e+00, 1.250e+00,
       1.138e+01, 2.910e+00, 6.000e+00, 9.000e+00, 6.400e-01, 3.000e+00,
       1.200e+01, 7.860e+00, 1.200e+01, 5.000e-01, 9.000e+00, 2.000e+00,
       1.620e+00, 7.510e+00, 6.580e+00, 7.000e+00, 1.000e+00, 1.341e+01,
       1.000e+00, 1.300e-01, 0.000e+00, 0.000e+00, 5.000e+00, 3.800e-01,
       7.110e+00, 0.000e+00, 6.000e+00, 1.500e-01, 1.750e+00, 0.000e+00,
       2.000e+00, 1.000e-02, 0.000e+00, 0.000e+00, 3.000e+00, 1.270e+00,
       1.510e+00, 5.000e-02, 1.000e+00, 1.000e+00, 0.000e+00, 4.000e-02,
       1.000e-01, 2.410e+00, 0.000e+00, 1.000e+00, 1.000e+00, 0.000e+00,
       7.430e+00, 4.000e+00, 2.680e+00, 5.000e+00, 1.000e+00, 2.000e+00,
       9.000e+00, 4.000e-02, 1.300e-01, 0.000e+00, 0.000e+00, 1.000e+00,
       1.700e+01, 6.000e-02, 4.700e-01, 6.400e-01, 7.510e+00, 1.000e+00,
       9.000e+00, 1.207e+01, 0.000e+00, 0.000e+00, 1.000e+00, 2.000e+00,
       1.500e-01, 8.400e-01, 0.000e+00, 0.000e+00, 2.000e-02, 7.000e-02,
       6.300e-01, 2.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 3.770e+00,
       0.000e+00, 4.600e-01, 4.090e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       3.000e-02, 3.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       1.400e+01, 1.100e+01, 9.000e+00, 3.000e+00, 1.800e+01, 9.170e+00,
       3.690e+00, 0.000e+00, 5.400e-01, 1.460e+00, 3.000e-02, 5.700e-01,
       2.000e+00, 2.000e+00, 9.970e+00, 5.700e-01, 9.000e-02, 1.000e+00,
       1.000e+00, 0.000e+00, 2.730e+00, 1.980e+01, 0.000e+00, 0.000e+00,
       0.000e+00, 8.900e-01, 2.100e+00, 1.000e+00, 0.000e+00, 6.100e+00,
       8.000e+00, 1.170e+00, 1.000e-02, 1.600e+01, 1.000e+01, 1.535e+01,
       1.000e+01, 1.315e+01, 1.116e+01, 1.460e+00, 1.600e+01, 1.300e+01,
       3.000e+00, 8.000e-01, 1.075e+01, 7.900e+00, 1.724e+01, 0.000e+00,
       3.000e+00, 0.000e+00, 8.920e+00])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:correction</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;L2SP&#x27;</div><input id='attrs-daf1a3e5-4d60-4b40-beec-0d3cdb3884e7' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-daf1a3e5-4d60-4b40-beec-0d3cdb3884e7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-552d17d7-7400-4020-9ab6-a0266070bc11' class='xr-var-data-in' type='checkbox'><label for='data-552d17d7-7400-4020-9ab6-a0266070bc11' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;L2SP&#x27;, dtype=&#x27;&lt;U4&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>instruments</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>[&#x27;oli&#x27;, &#x27;tirs&#x27;] ... [&#x27;oli&#x27;, &#x27;tirs&#x27;]</div><input id='attrs-67deba63-edc8-4f82-b369-fa1262968a1b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-67deba63-edc8-4f82-b369-fa1262968a1b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e8d097e0-52f7-4a3a-8c52-3f3bdf76f8ae' class='xr-var-data-in' type='checkbox'><label for='data-e8d097e0-52f7-4a3a-8c52-3f3bdf76f8ae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
...
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;])],
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_row</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U3</div><div class='xr-var-preview xr-preview'>&#x27;033&#x27; &#x27;033&#x27; &#x27;033&#x27; ... &#x27;035&#x27; &#x27;033&#x27;</div><input id='attrs-e3ebd75c-8505-4b8b-a213-69081897a9f0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e3ebd75c-8505-4b8b-a213-69081897a9f0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7f429003-f8cf-4370-99ea-1438ee0cb385' class='xr-var-data-in' type='checkbox'><label for='data-7f429003-f8cf-4370-99ea-1438ee0cb385' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;034&#x27;, &#x27;035&#x27;,
       &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;], dtype=&#x27;&lt;U3&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_category</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;T1&#x27;</div><input id='attrs-bfc0d0ee-a200-48c0-9b19-519c54540609' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bfc0d0ee-a200-48c0-9b19-519c54540609' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-84e336e5-4b94-4777-aaa6-ed7c55bbdc2a' class='xr-var-data-in' type='checkbox'><label for='data-84e336e5-4b94-4777-aaa6-ed7c55bbdc2a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;T1&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>30</div><input id='attrs-21a841a2-51c5-4d10-bb03-9f0a45f025fd' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-21a841a2-51c5-4d10-bb03-9f0a45f025fd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b2079e0c-b7bd-4d8a-a4a1-bbce85886ca9' class='xr-var-data-in' type='checkbox'><label for='data-b2079e0c-b7bd-4d8a-a4a1-bbce85886ca9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(30)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_path</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U3</div><div class='xr-var-preview xr-preview'>&#x27;045&#x27; &#x27;044&#x27; &#x27;043&#x27; ... &#x27;043&#x27; &#x27;045&#x27;</div><input id='attrs-d03cdb53-becd-4a8d-a357-9d4a20c2e1d4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d03cdb53-becd-4a8d-a357-9d4a20c2e1d4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-500ac684-bb22-4fd1-ac2d-02f6560aa14d' class='xr-var-data-in' type='checkbox'><label for='data-500ac684-bb22-4fd1-ac2d-02f6560aa14d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;046&#x27;, &#x27;045&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;,
       &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;,
       &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;,
       &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;,
       &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;045&#x27;, &#x27;045&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;,
       &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;,
       &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;,
       &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;], dtype=&#x27;&lt;U3&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:sun_elevation</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>31.14 29.33 31.71 ... 24.73 27.91</div><input id='attrs-5b2669d8-3817-483d-b99f-e523e6bbdb98' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5b2669d8-3817-483d-b99f-e523e6bbdb98' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7094e1c8-1207-4edf-8702-bcee65f80377' class='xr-var-data-in' type='checkbox'><label for='data-7094e1c8-1207-4edf-8702-bcee65f80377' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([31.13850722, 29.33345078, 31.70709976, 32.85222732, 33.98889343,
       34.9827108 , 36.1012119 , 32.982675  , 34.00120431, 33.55862895,
       36.20243196, 36.9005139 , 38.00757476, 39.102841  , 39.44478068,
       40.53514017, 41.61156314, 37.34771056, 38.32288262, 39.28188589,
       39.89617539, 49.31334081, 45.82538024, 49.04880299, 50.07211231,
       50.95179278, 48.35588544, 49.20589676, 51.69620275, 52.69699183,
       53.67183656, 59.43107799, 56.20842579, 56.90398483, 59.99894643,
       60.88567368, 61.7299018 , 61.33813644, 57.90664564, 58.54716756,
       61.83158464, 58.33585926, 58.96212752, 65.31380257, 60.68592119,
       64.98308091, 61.41328482, 61.84773262, 66.38906275, 66.48871604,
       67.11428752, 62.29306717, 62.61032285, 67.24634981, 61.89160917,
       66.4739705 , 61.51359251, 61.84146913, 61.15836576, 66.06357602,
       66.62794459, 60.98958995, 61.31609425, 65.90817715, 66.4745067 ,
       60.29185822, 60.62865732, 65.23432442, 60.0633694 , 60.40903798,
       59.16455712, 64.09776187, 64.7231073 , 63.0149807 , 57.80598769,
       58.23611764, 56.59915731, 61.38766828, 62.12775309, 60.36652504,
       59.93781064, 54.86362079, 55.42550871, 53.80537747, 57.84332465,
       58.72128428, 59.5603776 , 56.03772283, 51.24948958, 51.95984845,
       49.46552552, 53.515874  , 54.52550382, 47.56224989, 48.39672006,
       47.00132255, 46.74814017, 48.54056782, 49.6576017 , 50.75667959,
       46.88517807, 42.83755448, 43.79295956, 46.21941839, 42.22221633,
       43.18771127, 44.13458484, 40.02248359, 43.17528236, 44.36940297,
       37.79316222, 38.8357261 , 40.79261141, 42.01143173, 43.22080779,
       37.15522376, 38.20812975, 39.24916877, 35.56006336, 38.4371768 ,
       34.93021184, 37.77826688, 39.0215805 , 36.15113885, 32.75449635,
       33.85875437, 35.51967537, 36.77687788, 32.14839369, 33.25814739,
       34.35781043, 30.08585883, 31.21078917, 28.15611345, 29.29093097,
       29.89999649, 26.39589882, 29.15335149, 30.4291206 , 25.93376511,
       28.70873973, 29.9846543 , 31.25572517, 27.685406  , 24.45148105,
       25.59149293, 27.3180654 , 28.59155017, 29.86109325, 24.07423685,
       25.21337753, 26.34603576, 26.21790982, 27.48665103, 22.93027346,
       24.06352952, 25.18746206, 25.96221884, 27.22926535, 22.07639602,
       23.19969859, 27.78797555, 24.12296004, 24.93413252, 26.18192046,
       21.44974896, 22.55593439, 24.95225452, 21.35310181, 25.02353356,
       26.25532211, 27.48271588, 21.38799866, 22.46834321, 23.54373648,
       25.70776647, 28.12971964, 26.6421628 , 29.03214561, 22.67139963,
       23.70508499, 24.73096613, 27.91297341])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:off_nadir</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-6f1a8c9a-e0e4-4cc7-bbca-a485b399cf6e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6f1a8c9a-e0e4-4cc7-bbca-a485b399cf6e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-957627da-e4e9-442b-bd3c-058d8c23703b' class='xr-var-data-in' type='checkbox'><label for='data-957627da-e4e9-442b-bd3c-058d8c23703b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:cloud_cover_land</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.19 0.0 0.94 4.62 ... 3.0 0.0 5.41</div><input id='attrs-8dcc4253-52ce-408c-bad0-6c7acd104896' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8dcc4253-52ce-408c-bad0-6c7acd104896' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e0d72740-cc31-476a-9e12-5d811a45072e' class='xr-var-data-in' type='checkbox'><label for='data-e0d72740-cc31-476a-9e12-5d811a45072e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.900e-01, 0.000e+00, 9.400e-01, 4.620e+00, 1.249e+01, 1.545e+01,
       2.406e+01, 3.000e+00, 0.000e+00, 0.000e+00, 1.150e+00, 1.200e+00,
       3.730e+00, 2.500e-01, 1.880e+00, 8.500e-01, 5.000e-02, 1.000e+00,
       1.000e+00, 0.000e+00, 0.000e+00, 3.564e+01, 1.400e+01, 3.850e+00,
       1.112e+01, 3.000e-02, 0.000e+00, 0.000e+00, 3.600e-01, 1.100e-01,
       1.200e-01, 2.720e+00, 3.000e+00, 1.000e+00, 2.930e+00, 1.250e+00,
       1.700e-01, 7.450e+00, 3.000e+00, 1.000e+00, 6.400e-01, 3.000e+00,
       1.300e+01, 7.630e+00, 1.700e+01, 5.000e-01, 9.000e+00, 1.000e+00,
       4.000e-01, 7.510e+00, 7.980e+00, 7.000e+00, 1.000e+00, 8.200e-01,
       1.000e+00, 1.300e-01, 0.000e+00, 0.000e+00, 0.000e+00, 1.800e-01,
       2.610e+00, 0.000e+00, 1.000e+00, 1.500e-01, 1.710e+00, 0.000e+00,
       0.000e+00, 1.000e-02, 0.000e+00, 0.000e+00, 3.000e+00, 1.270e+00,
       1.480e+00, 5.000e-02, 1.000e+00, 1.000e+00, 0.000e+00, 4.000e-02,
       8.000e-02, 1.700e-01, 0.000e+00, 1.000e+00, 0.000e+00, 0.000e+00,
       7.430e+00, 4.000e+00, 3.170e+00, 5.000e+00, 1.000e+00, 1.000e+00,
       9.000e+00, 4.000e-02, 9.000e-02, 0.000e+00, 0.000e+00, 1.000e+00,
       3.000e+00, 6.000e-02, 4.700e-01, 4.000e-02, 2.691e+01, 1.000e+00,
       8.000e+00, 1.207e+01, 0.000e+00, 0.000e+00, 1.000e+00, 2.000e+00,
       1.500e-01, 8.400e-01, 0.000e+00, 0.000e+00, 2.000e-02, 1.000e-01,
       1.100e-01, 2.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 2.700e-01,
       0.000e+00, 4.600e-01, 4.100e+00, 4.000e-02, 0.000e+00, 0.000e+00,
       3.000e-02, 1.600e-01, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       1.000e+00, 1.400e+01, 3.000e+00, 1.000e+00, 3.000e+00, 7.570e+00,
       4.000e-02, 0.000e+00, 5.400e-01, 1.460e+00, 4.000e-02, 4.000e-02,
       0.000e+00, 0.000e+00, 9.970e+00, 8.100e-01, 3.200e-01, 1.000e+00,
       1.000e+00, 0.000e+00, 3.320e+00, 3.960e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 8.900e-01, 2.100e+00, 2.000e+00, 0.000e+00, 1.058e+01,
       1.100e+01, 1.880e+00, 1.600e-01, 1.600e+01, 1.600e+01, 1.000e+02,
       2.000e+00, 1.315e+01, 1.731e+01, 1.570e+00, 1.600e+01, 1.400e+01,
       4.000e+00, 8.000e-01, 1.379e+01, 7.900e+00, 4.000e-01, 0.000e+00,
       3.000e+00, 0.000e+00, 5.410e+00])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-0606ed36-9b92-4a32-9ac6-843122db71f7' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0606ed36-9b92-4a32-9ac6-843122db71f7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3929a8e3-b7d0-4a44-9c33-4c7a25a2bee7' class='xr-var-data-in' type='checkbox'><label for='data-3929a8e3-b7d0-4a44-9c33-4c7a25a2bee7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0,...</div><input id='attrs-19b2d932-a734-4108-b22b-472fadc55a05' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-19b2d932-a734-4108-b22b-472fadc55a05' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c5d81a83-dd18-4035-ad10-bcfc4af73de7' class='xr-var-data-in' type='checkbox'><label for='data-c5d81a83-dd18-4035-ad10-bcfc4af73de7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;offset&#x27;: -0.2, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;spatial_resolution&#x27;: 30},
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Red Band&#x27; ... &#x27;Short-wave Infra...</div><input id='attrs-e126fef5-ea76-481d-99c7-f7d0975c17a4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e126fef5-ea76-481d-99c7-f7d0975c17a4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6c7e0906-8e3f-4555-8d4c-82d7c41e6f18' class='xr-var-data-in' type='checkbox'><label for='data-6c7e0906-8e3f-4555-8d4c-82d7c41e6f18' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Red Band&#x27;, &#x27;Green Band&#x27;, &#x27;Blue Band&#x27;, &#x27;Near Infrared Band 0.8&#x27;,
       &#x27;Short-wave Infrared Band 1.6&#x27;], dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-df1d0118-c434-4c1d-a9ce-60af4ed876c4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-df1d0118-c434-4c1d-a9ce-60af4ed876c4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-673385da-8fbc-424d-8cac-7c22672a7a19' class='xr-var-data-in' type='checkbox'><label for='data-673385da-8fbc-424d-8cac-7c22672a7a19' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4ac56449-9d55-4f1b-890b-b793999ed000' class='xr-section-summary-in' type='checkbox'  ><label for='section-4ac56449-9d55-4f1b-890b-b793999ed000' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-a1ea9ccf-7856-4ceb-a19a-af3c27620271' class='xr-index-data-in' type='checkbox'/><label for='index-a1ea9ccf-7856-4ceb-a19a-af3c27620271' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2020-02-06 18:51:55.125422&#x27;, &#x27;2020-02-07 18:24:41.082486&#x27;,
               &#x27;2020-02-08 18:39:33.230747&#x27;, &#x27;2020-02-08 18:39:57.113314&#x27;,
               &#x27;2020-02-08 18:40:21.004352&#x27;, &#x27;2020-02-15 18:46:06.622682&#x27;,
               &#x27;2020-02-15 18:46:30.509486&#x27;, &#x27;2020-02-16 18:18:26.204154&#x27;,
               &#x27;2020-02-16 18:18:50.091152&#x27;, &#x27;2020-02-21 18:36:19.004475&#x27;,
               ...
               &#x27;2021-01-01 17:58:20.131679&#x27;, &#x27;2021-01-01 17:58:44.021034&#x27;,
               &#x27;2021-01-09 18:39:43.203959&#x27;, &#x27;2021-01-09 18:40:30.981802&#x27;,
               &#x27;2021-01-16 18:45:50.467085&#x27;, &#x27;2021-01-16 18:46:38.240692&#x27;,
               &#x27;2021-01-17 17:56:48.817687&#x27;, &#x27;2021-01-17 17:57:12.705228&#x27;,
               &#x27;2021-01-17 17:57:36.593523&#x27;, &#x27;2021-01-23 18:52:00.186800&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=183, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>band</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-c1e87449-8637-4ac4-96cf-501bf95d1e50' class='xr-index-data-in' type='checkbox'/><label for='index-c1e87449-8637-4ac4-96cf-501bf95d1e50' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir08&#x27;, &#x27;swir16&#x27;], dtype=&#x27;object&#x27;, name=&#x27;band&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-ee2475ee-5ea8-457e-8cf1-bd39ecc6f5be' class='xr-index-data-in' type='checkbox'/><label for='index-ee2475ee-5ea8-457e-8cf1-bd39ecc6f5be' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([407580.0, 407610.0, 407640.0, 407670.0, 407700.0, 407730.0,
              407760.0, 407790.0, 407820.0, 407850.0,
              ...
              694020.0, 694050.0, 694080.0, 694110.0, 694140.0, 694170.0,
              694200.0, 694230.0, 694260.0, 694290.0],
             dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=9558))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-5789f175-b82d-4e28-bf86-97ccf126d355' class='xr-index-data-in' type='checkbox'/><label for='index-5789f175-b82d-4e28-bf86-97ccf126d355' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([4327230.0, 4327200.0, 4327170.0, 4327140.0, 4327110.0, 4327080.0,
              4327050.0, 4327020.0, 4326990.0, 4326960.0,
              ...
              4037310.0, 4037280.0, 4037250.0, 4037220.0, 4037190.0, 4037160.0,
              4037130.0, 4037100.0, 4037070.0, 4037040.0],
             dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=9674))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-cb1f961b-1a6f-4999-858b-79d121c9624f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-cb1f961b-1a6f-4999-858b-79d121c9624f' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>spec :</span></dt><dd>RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327230), resolutions_xy=(30, 30))</dd><dt><span>crs :</span></dt><dd>epsg:32610</dd><dt><span>transform :</span></dt><dd>| 30.00, 0.00, 407580.00|
| 0.00,-30.00, 4327230.00|
| 0.00, 0.00, 1.00|</dd><dt><span>resolution :</span></dt><dd>30</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>That was fast for a large image cutout! Let’s figure out why. Take a look at the bottom of your CryoCloud Screen and check your memory. You’ll notice that it should be on the order of MBs at this point, and this is because we haven’t yet pulled any data into our CryoCloud environment. Instead we have the directions to the data locations for all of the Landsat images in Planetary Computer, ready to stream into an initialized <code class="docutils literal notranslate"><span class="pre">xarray</span></code>.</p>
<p>Under the hood, <code class="docutils literal notranslate"><span class="pre">stackstac</span></code> is using <code class="docutils literal notranslate"><span class="pre">dask</span></code> to do this. Currently we have the “lazy” load we discussed above implemented. <code class="docutils literal notranslate"><span class="pre">dask</span></code> allows you to perform parallel and distributed computing on larger-than-memory datasets, but this can be inefficient. Lazy evaluation delays the execution of operations, here that would be pulling in the data to your CryoCloud instance, until the results are actually needed. This approach enables <code class="docutils literal notranslate"><span class="pre">dask</span></code> to efficiently handle large computations. What we see in the printout above is a symbolic representation of the <code class="docutils literal notranslate"><span class="pre">xarray</span></code> dimensions for our data.</p>
<p>Why is this evaluation using any memory at all? Check above and see that the table describing your <code class="docutils literal notranslate"><span class="pre">xarray</span></code> has a row named “Dask Graph.” There we see that our data would be divided into chunks and graph layers. As part of the lazy load, <code class="docutils literal notranslate"><span class="pre">dask</span></code> has initialized these chunks as empty variables and that is what is currently using memory.</p>
<p>How big would this dataset be if we held it all in memory?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;projected dataset size (GB): &#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e9</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>projected dataset size (GB):  676.83715344
</pre></div>
</div>
</div>
</div>
</section>
<section id="refining-our-image-before-data-import">
<h3>Refining our Image <em>Before</em> Data Import<a class="headerlink" href="#refining-our-image-before-data-import" title="Permalink to this headline">#</a></h3>
<p>We know that we have a time-series of 696 images, but perhaps we’re actually interested in behavior averaged over monthly timescales in this region and we only want an rgb image. We can manipulate our <code class="docutils literal notranslate"><span class="pre">stackstac</span></code> array just like we would with a regular <code class="docutils literal notranslate"><span class="pre">xarray</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rgb</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">monthly</span> <span class="o">=</span> <span class="n">rgb</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="s2">&quot;MS&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">keep_attrs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/srv/conda/envs/notebook/lib/python3.10/site-packages/dask/array/core.py:1760: PerformanceWarning: Increasing number of chunks by factor of 17
  return da_func(*args, **kwargs)
</pre></div>
</div>
</div>
</div>
<p>Notice how we got a warning that <code class="docutils literal notranslate"><span class="pre">dask</span></code> is automatically adjusting the chunk size for our <code class="docutils literal notranslate"><span class="pre">xarray</span></code> object. In <code class="docutils literal notranslate"><span class="pre">dask</span></code>, the chunk size is a critical parameter that determines how the data is divided into smaller, manageable pieces for distributed processing. When you create or manipulate a <code class="docutils literal notranslate"><span class="pre">dask</span></code> enabled <code class="docutils literal notranslate"><span class="pre">xarray</span></code> dataset, <code class="docutils literal notranslate"><span class="pre">dask</span></code> tries to find an appropriate chunk size based on the size of the data and the available computing resources. This adjustment is made to optimize computational performance once we finally compute our evaluation. For now, we are still in a lazy state, which you can see evidenced by how little memory we are taking up.</p>
<p>We have queried for a rather large image size, and if we were to pull all of that down to our local machine, we might overwhelm the amount of memory available to us on our current CryoCloud instance. Luckily, we can keep using our <code class="docutils literal notranslate"><span class="pre">dask</span></code>-enabled <code class="docutils literal notranslate"><span class="pre">xarray</span></code> to further refine our query before pulling the data in. Let’s reproject our data to UTM coordinates so we can pick a specific area of interest based on a length of distance in the x/y plane.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lon</span><span class="p">,</span> <span class="n">lat</span> <span class="o">=</span> <span class="o">-</span><span class="mf">122.4312</span><span class="p">,</span> <span class="mf">37.7739</span>

<span class="n">x_utm</span><span class="p">,</span> <span class="n">y_utm</span> <span class="o">=</span> <span class="n">pyproj</span><span class="o">.</span><span class="n">Proj</span><span class="p">(</span><span class="n">monthly</span><span class="o">.</span><span class="n">crs</span><span class="p">)(</span><span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">)</span>
<span class="n">buffer</span> <span class="o">=</span> <span class="mi">6000</span>  <span class="c1"># meters</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_of_interest</span> <span class="o">=</span> <span class="n">monthly</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">y_utm</span><span class="o">+</span><span class="n">buffer</span><span class="p">:</span><span class="n">y_utm</span><span class="o">-</span><span class="n">buffer</span><span class="p">,</span> <span class="n">x_utm</span><span class="o">-</span><span class="n">buffer</span><span class="p">:</span><span class="n">x_utm</span><span class="o">+</span><span class="n">buffer</span><span class="p">]</span>
<span class="n">area_of_interest</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-6f74f18ec9af45035c661e3ac7f51d1b&#x27; (time: 12,
                                                                band: 3,
                                                                y: 400, x: 400)&gt;
dask.array&lt;getitem, shape=(12, 3, 400, 400), dtype=float64, chunksize=(1, 1, 286, 376), chunktype=numpy.ndarray&gt;
Coordinates: (12/15)
  * band                         (band) &lt;U6 &#x27;red&#x27; &#x27;green&#x27; &#x27;blue&#x27;
  * x                            (x) float64 5.441e+05 5.441e+05 ... 5.561e+05
  * y                            (y) float64 4.187e+06 4.187e+06 ... 4.175e+06
    landsat:wrs_type             &lt;U1 &#x27;2&#x27;
    description                  &lt;U28 &#x27;Landsat Collection 2 Level-2&#x27;
    landsat:collection_number    &lt;U2 &#x27;02&#x27;
    ...                           ...
    view:off_nadir               int64 0
    proj:epsg                    int64 32610
    raster:bands                 object {&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;off...
    title                        (band) &lt;U28 &#x27;Red Band&#x27; &#x27;Green Band&#x27; &#x27;Blue Band&#x27;
    epsg                         int64 32610
  * time                         (time) datetime64[ns] 2020-02-01 ... 2021-01-01
Attributes:
    spec:        RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327...
    crs:         epsg:32610
    transform:   | 30.00, 0.00, 407580.00|\n| 0.00,-30.00, 4327230.00|\n| 0.0...
    resolution:  30</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-6f74f18ec9af45035c661e3ac7f51d1b'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 12</li><li><span class='xr-has-index'>band</span>: 3</li><li><span class='xr-has-index'>y</span>: 400</li><li><span class='xr-has-index'>x</span>: 400</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-1db6a1fc-8928-4c6a-a48f-65aaf2af92e2' class='xr-array-in' type='checkbox' checked><label for='section-1db6a1fc-8928-4c6a-a48f-65aaf2af92e2' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 1, 286, 24), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 43.95 MiB </td>
                        <td> 840.12 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (12, 3, 400, 400) </td>
                        <td> (1, 1, 286, 376) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 216 chunks in 55 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="386" height="184" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="31" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="31" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="13" y1="0" x2="13" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="26" y1="0" x2="26" y2="25" />
  <line x1="28" y1="0" x2="28" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 31.39037853612558,0.0 31.39037853612558,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="15.695189" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >12</text>
  <text x="51.390379" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,51.390379,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="101" y1="0" x2="115" y2="14" style="stroke-width:2" />
  <line x1="101" y1="85" x2="115" y2="100" />
  <line x1="101" y1="101" x2="115" y2="116" />
  <line x1="101" y1="120" x2="115" y2="134" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="101" y1="0" x2="101" y2="120" style="stroke-width:2" />
  <line x1="105" y1="4" x2="105" y2="124" />
  <line x1="110" y1="9" x2="110" y2="129" />
  <line x1="115" y1="14" x2="115" y2="134" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="101.0,0.0 115.9485979497544,14.948597949754403 115.9485979497544,134.9485979497544 101.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="101" y1="0" x2="221" y2="0" style="stroke-width:2" />
  <line x1="105" y1="4" x2="225" y2="4" />
  <line x1="110" y1="9" x2="230" y2="9" />
  <line x1="115" y1="14" x2="235" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="101" y1="0" x2="115" y2="14" style="stroke-width:2" />
  <line x1="108" y1="0" x2="123" y2="14" />
  <line x1="221" y1="0" x2="235" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="101.0,0.0 221.0,0.0 235.9485979497544,14.948597949754403 115.9485979497544,14.948597949754403" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="115" y1="14" x2="235" y2="14" style="stroke-width:2" />
  <line x1="115" y1="100" x2="235" y2="100" />
  <line x1="115" y1="116" x2="235" y2="116" />
  <line x1="115" y1="134" x2="235" y2="134" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="115" y1="14" x2="115" y2="134" style="stroke-width:2" />
  <line x1="123" y1="14" x2="123" y2="134" />
  <line x1="235" y1="14" x2="235" y2="134" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="115.9485979497544,14.948597949754403 235.9485979497544,14.948597949754403 235.9485979497544,134.9485979497544 115.9485979497544,134.9485979497544" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="175.948598" y="154.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" >400</text>
  <text x="255.948598" y="74.948598" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,255.948598,74.948598)">400</text>
  <text x="98.474299" y="147.474299" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,98.474299,147.474299)">3</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-c2bfed50-9dac-4736-ace5-33676e2c9c56' class='xr-section-summary-in' type='checkbox'  checked><label for='section-c2bfed50-9dac-4736-ace5-33676e2c9c56' class='xr-section-summary' >Coordinates: <span>(15)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;red&#x27; &#x27;green&#x27; &#x27;blue&#x27;</div><input id='attrs-b2944604-3bbc-408e-beba-975007c8c242' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b2944604-3bbc-408e-beba-975007c8c242' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-93dd4c63-9aa3-4cd7-8230-73eba3f32906' class='xr-var-data-in' type='checkbox'><label for='data-93dd4c63-9aa3-4cd7-8230-73eba3f32906' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;], dtype=&#x27;&lt;U6&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.441e+05 5.441e+05 ... 5.561e+05</div><input id='attrs-76b119d4-e140-4e0f-89e0-7c30835698df' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-76b119d4-e140-4e0f-89e0-7c30835698df' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-50613101-1f7f-49ce-a25d-1f6e3e0d6a68' class='xr-var-data-in' type='checkbox'><label for='data-50613101-1f7f-49ce-a25d-1f6e3e0d6a68' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([544110., 544140., 544170., ..., 556020., 556050., 556080.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.187e+06 4.187e+06 ... 4.175e+06</div><input id='attrs-7b4b09f1-f351-4f24-8049-4f18d023800d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7b4b09f1-f351-4f24-8049-4f18d023800d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6fbdf754-2002-49a9-9fe2-4c632709e435' class='xr-var-data-in' type='checkbox'><label for='data-6fbdf754-2002-49a9-9fe2-4c632709e435' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4186860., 4186830., 4186800., ..., 4174950., 4174920., 4174890.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;2&#x27;</div><input id='attrs-5d293418-e20e-4281-8e0d-9c804d3bbd89' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5d293418-e20e-4281-8e0d-9c804d3bbd89' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9f26b911-325b-4bdc-bd24-602401849ebb' class='xr-var-data-in' type='checkbox'><label for='data-9f26b911-325b-4bdc-bd24-602401849ebb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;2&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>description</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Landsat Collection 2 Level-2&#x27;</div><input id='attrs-09f9a124-82f9-428c-b36d-3d5196c71d9e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-09f9a124-82f9-428c-b36d-3d5196c71d9e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1fe87b78-9866-44fb-bf97-58db163c9058' class='xr-var-data-in' type='checkbox'><label for='data-1fe87b78-9866-44fb-bf97-58db163c9058' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Landsat Collection 2 Level-2&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;02&#x27;</div><input id='attrs-4fdb142a-e84f-4003-be02-3dc05d3e36d8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4fdb142a-e84f-4003-be02-3dc05d3e36d8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2e28a03e-0cc8-42ac-8266-1fe8a7f20864' class='xr-var-data-in' type='checkbox'><label for='data-2e28a03e-0cc8-42ac-8266-1fe8a7f20864' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;02&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:correction</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;L2SP&#x27;</div><input id='attrs-62aa4450-0f42-4982-85ee-d17fadc412b0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-62aa4450-0f42-4982-85ee-d17fadc412b0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-868ccb85-1b58-4127-a937-6c26d124cf38' class='xr-var-data-in' type='checkbox'><label for='data-868ccb85-1b58-4127-a937-6c26d124cf38' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;L2SP&#x27;, dtype=&#x27;&lt;U4&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_category</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;T1&#x27;</div><input id='attrs-939f0721-421c-48ed-87d3-a230381d5716' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-939f0721-421c-48ed-87d3-a230381d5716' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-00f1d3cc-bab3-4603-afe3-deccdd328a52' class='xr-var-data-in' type='checkbox'><label for='data-00f1d3cc-bab3-4603-afe3-deccdd328a52' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;T1&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>30</div><input id='attrs-e47b2751-fb7d-470a-b2f8-e68b09395789' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e47b2751-fb7d-470a-b2f8-e68b09395789' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-32df51f3-d284-4c37-8027-e4ae35f2ba82' class='xr-var-data-in' type='checkbox'><label for='data-32df51f3-d284-4c37-8027-e4ae35f2ba82' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(30)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:off_nadir</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-3cee4171-c8ec-486c-aa75-fadebfe76742' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-3cee4171-c8ec-486c-aa75-fadebfe76742' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e9c456b2-29fb-47fb-a472-8c3bf773989e' class='xr-var-data-in' type='checkbox'><label for='data-e9c456b2-29fb-47fb-a472-8c3bf773989e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-8a00a8d4-512a-4d1a-a1c0-e002d8c6a1c0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8a00a8d4-512a-4d1a-a1c0-e002d8c6a1c0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8f277990-c3be-4069-a8c1-e0f2f7c027d7' class='xr-var-data-in' type='checkbox'><label for='data-8f277990-c3be-4069-a8c1-e0f2f7c027d7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0,...</div><input id='attrs-d24627c5-fb6b-4f2b-af34-5624be32cb63' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d24627c5-fb6b-4f2b-af34-5624be32cb63' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4da4ab51-22b2-408d-8e51-9e12b8612d1c' class='xr-var-data-in' type='checkbox'><label for='data-4da4ab51-22b2-408d-8e51-9e12b8612d1c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;offset&#x27;: -0.2, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;spatial_resolution&#x27;: 30},
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Red Band&#x27; &#x27;Green Band&#x27; &#x27;Blue Band&#x27;</div><input id='attrs-f5928f30-861e-4658-bdf0-3231eb74ca4f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f5928f30-861e-4658-bdf0-3231eb74ca4f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-84378299-0b7a-474b-b42d-32aabdbcb23c' class='xr-var-data-in' type='checkbox'><label for='data-84378299-0b7a-474b-b42d-32aabdbcb23c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Red Band&#x27;, &#x27;Green Band&#x27;, &#x27;Blue Band&#x27;], dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-2c4fee1a-4e4f-419b-b3de-1ec220d8440f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2c4fee1a-4e4f-419b-b3de-1ec220d8440f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8c8d71a8-b7e6-4422-bc12-d9e2c34ef5a4' class='xr-var-data-in' type='checkbox'><label for='data-8c8d71a8-b7e6-4422-bc12-d9e2c34ef5a4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-02-01 ... 2021-01-01</div><input id='attrs-eee75498-c2eb-46c5-9591-3345b1d9f000' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-eee75498-c2eb-46c5-9591-3345b1d9f000' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-81d56f8b-eb7b-4a30-9597-748ec846c63f' class='xr-var-data-in' type='checkbox'><label for='data-81d56f8b-eb7b-4a30-9597-748ec846c63f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-02-01T00:00:00.000000000&#x27;, &#x27;2020-03-01T00:00:00.000000000&#x27;,
       &#x27;2020-04-01T00:00:00.000000000&#x27;, &#x27;2020-05-01T00:00:00.000000000&#x27;,
       &#x27;2020-06-01T00:00:00.000000000&#x27;, &#x27;2020-07-01T00:00:00.000000000&#x27;,
       &#x27;2020-08-01T00:00:00.000000000&#x27;, &#x27;2020-09-01T00:00:00.000000000&#x27;,
       &#x27;2020-10-01T00:00:00.000000000&#x27;, &#x27;2020-11-01T00:00:00.000000000&#x27;,
       &#x27;2020-12-01T00:00:00.000000000&#x27;, &#x27;2021-01-01T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-77a4835e-3c96-49d6-a56c-8acad32108bb' class='xr-section-summary-in' type='checkbox'  ><label for='section-77a4835e-3c96-49d6-a56c-8acad32108bb' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>band</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-0a9d1568-1508-444b-a4ed-be2d2e15a7eb' class='xr-index-data-in' type='checkbox'/><label for='index-0a9d1568-1508-444b-a4ed-be2d2e15a7eb' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;], dtype=&#x27;object&#x27;, name=&#x27;band&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-733e3806-d25e-4367-87fe-b8d54249bf9e' class='xr-index-data-in' type='checkbox'/><label for='index-733e3806-d25e-4367-87fe-b8d54249bf9e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([544110.0, 544140.0, 544170.0, 544200.0, 544230.0, 544260.0,
              544290.0, 544320.0, 544350.0, 544380.0,
              ...
              555810.0, 555840.0, 555870.0, 555900.0, 555930.0, 555960.0,
              555990.0, 556020.0, 556050.0, 556080.0],
             dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=400))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-a4d7dd51-dc5e-4abb-bfb0-311c14a0573a' class='xr-index-data-in' type='checkbox'/><label for='index-a4d7dd51-dc5e-4abb-bfb0-311c14a0573a' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([4186860.0, 4186830.0, 4186800.0, 4186770.0, 4186740.0, 4186710.0,
              4186680.0, 4186650.0, 4186620.0, 4186590.0,
              ...
              4175160.0, 4175130.0, 4175100.0, 4175070.0, 4175040.0, 4175010.0,
              4174980.0, 4174950.0, 4174920.0, 4174890.0],
             dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=400))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d7c80be6-ad54-48ab-a375-427017e25eae' class='xr-index-data-in' type='checkbox'/><label for='index-d7c80be6-ad54-48ab-a375-427017e25eae' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2020-02-01&#x27;, &#x27;2020-03-01&#x27;, &#x27;2020-04-01&#x27;, &#x27;2020-05-01&#x27;,
               &#x27;2020-06-01&#x27;, &#x27;2020-07-01&#x27;, &#x27;2020-08-01&#x27;, &#x27;2020-09-01&#x27;,
               &#x27;2020-10-01&#x27;, &#x27;2020-11-01&#x27;, &#x27;2020-12-01&#x27;, &#x27;2021-01-01&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=&#x27;MS&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-bd7424b9-07a5-4b94-987a-e99788a0ee67' class='xr-section-summary-in' type='checkbox'  checked><label for='section-bd7424b9-07a5-4b94-987a-e99788a0ee67' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>spec :</span></dt><dd>RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327230), resolutions_xy=(30, 30))</dd><dt><span>crs :</span></dt><dd>epsg:32610</dd><dt><span>transform :</span></dt><dd>| 30.00, 0.00, 407580.00|
| 0.00,-30.00, 4327230.00|
| 0.00, 0.00, 1.00|</dd><dt><span>resolution :</span></dt><dd>30</dd></dl></div></li></ul></div></div></div></div>
</div>
</section>
<section id="import-the-refined-image">
<h3>Import the Refined Image<a class="headerlink" href="#import-the-refined-image" title="Permalink to this headline">#</a></h3>
<p>Now that we’ve refined our query, without overloading the memory, we can import the refined time-series. This will allow us to do further calculations with it on our CryoCloud instance, or even just allow us to visualize it. Let’s see what we’ve been working with!</p>
<p>Even though we visualized pathways for our toy array above using the built-in <code class="docutils literal notranslate"><span class="pre">visualize</span></code> function, we don’t recommend running it here, as this will take too long to load.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">compute</span></code> function in <code class="docutils literal notranslate"><span class="pre">dask</span></code> triggers the actual data pull. We can monitor the time that it takes using the <code class="docutils literal notranslate"><span class="pre">dask</span></code> progress bar. While this is processing watch the memory at the bottom of the screen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">dask</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">ProgressBar</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">area_of_interest</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/srv/conda/envs/notebook/lib/python3.10/site-packages/numpy/lib/nanfunctions.py:1217: RuntimeWarning: All-NaN slice encountered
  r, k = function_base._ureduce(a, func=_nanmedian, axis=axis, out=out,
/srv/conda/envs/notebook/lib/python3.10/site-packages/numpy/lib/nanfunctions.py:1217: RuntimeWarning: All-NaN slice encountered
  r, k = function_base._ureduce(a, func=_nanmedian, axis=axis, out=out,
/srv/conda/envs/notebook/lib/python3.10/site-packages/numpy/lib/nanfunctions.py:1217: RuntimeWarning: All-NaN slice encountered
  r, k = function_base._ureduce(a, func=_nanmedian, axis=axis, out=out,
/srv/conda/envs/notebook/lib/python3.10/site-packages/numpy/lib/nanfunctions.py:1217: RuntimeWarning: All-NaN slice encountered
  r, k = function_base._ureduce(a, func=_nanmedian, axis=axis, out=out,
</pre></div>
</div>
</div>
</div>
<p>Notice how the memory fluctuated, and at times was much higher than the final memory. <code class="docutils literal notranslate"><span class="pre">dask</span></code> still needed to bring all the data into our cloud instance, but only needed to hold the data from our initial query in memory as long as it was needed to do our calculations. We are now left with a much smaller slice than our initial query, but the slice that we wanted, which a monthly-averaged Landsat time series of a specific area on the map. Now that the data that we wanted all along is in our CryoCloud RAM, let’s visualize it.</p>
<p>First we’ll take a look at data. It’s still an <code class="docutils literal notranslate"><span class="pre">xarray</span></code>, but we can see that the data is present, and it is no longer held in chunks. Since we know that Landsat doesn’t pass over this location every month, we’ll eliminate the time slices that have no data in them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-6f74f18ec9af45035c661e3ac7f51d1b&#x27; (time: 7,
                                                                band: 3,
                                                                y: 400, x: 400)&gt;
array([[[[0.1191375 , 0.0971925 , 0.1134175 , ..., 0.0223925 ,
          0.0194775 , 0.0163975 ],
         [0.076595  , 0.0718375 , 0.08809   , ..., 0.0228875 ,
          0.020715  , 0.0174975 ],
         [0.067025  , 0.0672175 , 0.0660075 , ..., 0.022475  ,
          0.02154   , 0.019175  ],
         ...,
         [0.0282775 , 0.034025  , 0.035895  , ..., 0.106845  ,
          0.1058    , 0.129725  ],
         [0.0482425 , 0.036665  , 0.03529   , ..., 0.1178175 ,
          0.10767   , 0.109265  ],
         [0.068125  , 0.045575  , 0.0360325 , ..., 0.1108325 ,
          0.0946075 , 0.070105  ]],

        [[0.10855   , 0.095955  , 0.1162775 , ..., 0.0500575 ,
          0.0477475 , 0.0460425 ],
         [0.076265  , 0.0768975 , 0.0904    , ..., 0.0495625 ,
          0.04871   , 0.0460975 ],
         [0.0695    , 0.0739275 , 0.0703525 , ..., 0.0491775 ,
          0.0490125 , 0.0480225 ],
...
         [0.03978625, 0.05498   , 0.04838   , ..., 0.1190275 ,
          0.114765  , 0.1190275 ],
         [0.0441725 , 0.047445  , 0.04572625, ..., 0.0853675 ,
          0.1276075 , 0.1109975 ],
         [0.056135  , 0.044585  , 0.0465375 , ..., 0.08378625,
          0.0921875 , 0.07361125]],

        [[0.062075  , 0.0539075 , 0.0497825 , ..., 0.04431   ,
          0.04431   , 0.0409275 ],
         [0.0552275 , 0.04827   , 0.054705  , ..., 0.0489025 ,
          0.04431   , 0.0409275 ],
         [0.0515425 , 0.049425  , 0.0492875 , ..., 0.0489025 ,
          0.0400475 , 0.0409275 ],
         ...,
         [0.02517   , 0.02801625, 0.0305875 , ..., 0.1034625 ,
          0.1034625 , 0.1067075 ],
         [0.0311925 , 0.026105  , 0.02826375, ..., 0.07764   ,
          0.1067075 , 0.09953   ],
         [0.039305  , 0.02561   , 0.02517   , ..., 0.07759875,
          0.085285  , 0.05994375]]]])
Coordinates: (12/15)
  * band                         (band) &lt;U6 &#x27;red&#x27; &#x27;green&#x27; &#x27;blue&#x27;
  * x                            (x) float64 5.441e+05 5.441e+05 ... 5.561e+05
  * y                            (y) float64 4.187e+06 4.187e+06 ... 4.175e+06
    landsat:wrs_type             &lt;U1 &#x27;2&#x27;
    description                  &lt;U28 &#x27;Landsat Collection 2 Level-2&#x27;
    landsat:collection_number    &lt;U2 &#x27;02&#x27;
    ...                           ...
    view:off_nadir               int64 0
    proj:epsg                    int64 32610
    raster:bands                 object {&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;off...
    title                        (band) &lt;U28 &#x27;Red Band&#x27; &#x27;Green Band&#x27; &#x27;Blue Band&#x27;
    epsg                         int64 32610
  * time                         (time) datetime64[ns] 2020-02-01 ... 2020-12-01
Attributes:
    spec:        RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327...
    crs:         epsg:32610
    transform:   | 30.00, 0.00, 407580.00|\n| 0.00,-30.00, 4327230.00|\n| 0.0...
    resolution:  30</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-6f74f18ec9af45035c661e3ac7f51d1b'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 7</li><li><span class='xr-has-index'>band</span>: 3</li><li><span class='xr-has-index'>y</span>: 400</li><li><span class='xr-has-index'>x</span>: 400</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-e7fda9af-94d5-47f9-8284-6a2079a19b50' class='xr-array-in' type='checkbox' checked><label for='section-e7fda9af-94d5-47f9-8284-6a2079a19b50' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.1191 0.09719 0.1134 0.1097 ... 0.07825 0.0776 0.08528 0.05994</span></div><div class='xr-array-data'><pre>array([[[[0.1191375 , 0.0971925 , 0.1134175 , ..., 0.0223925 ,
          0.0194775 , 0.0163975 ],
         [0.076595  , 0.0718375 , 0.08809   , ..., 0.0228875 ,
          0.020715  , 0.0174975 ],
         [0.067025  , 0.0672175 , 0.0660075 , ..., 0.022475  ,
          0.02154   , 0.019175  ],
         ...,
         [0.0282775 , 0.034025  , 0.035895  , ..., 0.106845  ,
          0.1058    , 0.129725  ],
         [0.0482425 , 0.036665  , 0.03529   , ..., 0.1178175 ,
          0.10767   , 0.109265  ],
         [0.068125  , 0.045575  , 0.0360325 , ..., 0.1108325 ,
          0.0946075 , 0.070105  ]],

        [[0.10855   , 0.095955  , 0.1162775 , ..., 0.0500575 ,
          0.0477475 , 0.0460425 ],
         [0.076265  , 0.0768975 , 0.0904    , ..., 0.0495625 ,
          0.04871   , 0.0460975 ],
         [0.0695    , 0.0739275 , 0.0703525 , ..., 0.0491775 ,
          0.0490125 , 0.0480225 ],
...
         [0.03978625, 0.05498   , 0.04838   , ..., 0.1190275 ,
          0.114765  , 0.1190275 ],
         [0.0441725 , 0.047445  , 0.04572625, ..., 0.0853675 ,
          0.1276075 , 0.1109975 ],
         [0.056135  , 0.044585  , 0.0465375 , ..., 0.08378625,
          0.0921875 , 0.07361125]],

        [[0.062075  , 0.0539075 , 0.0497825 , ..., 0.04431   ,
          0.04431   , 0.0409275 ],
         [0.0552275 , 0.04827   , 0.054705  , ..., 0.0489025 ,
          0.04431   , 0.0409275 ],
         [0.0515425 , 0.049425  , 0.0492875 , ..., 0.0489025 ,
          0.0400475 , 0.0409275 ],
         ...,
         [0.02517   , 0.02801625, 0.0305875 , ..., 0.1034625 ,
          0.1034625 , 0.1067075 ],
         [0.0311925 , 0.026105  , 0.02826375, ..., 0.07764   ,
          0.1067075 , 0.09953   ],
         [0.039305  , 0.02561   , 0.02517   , ..., 0.07759875,
          0.085285  , 0.05994375]]]])</pre></div></div></li><li class='xr-section-item'><input id='section-e30ec145-95c8-4e8d-9613-7e8d7b9a281e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-e30ec145-95c8-4e8d-9613-7e8d7b9a281e' class='xr-section-summary' >Coordinates: <span>(15)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;red&#x27; &#x27;green&#x27; &#x27;blue&#x27;</div><input id='attrs-c1f8a0a6-394c-4694-bc8f-e2f3f189985f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c1f8a0a6-394c-4694-bc8f-e2f3f189985f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-16c7bf7b-72b7-49fb-9462-a803da2e89a2' class='xr-var-data-in' type='checkbox'><label for='data-16c7bf7b-72b7-49fb-9462-a803da2e89a2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;], dtype=&#x27;&lt;U6&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.441e+05 5.441e+05 ... 5.561e+05</div><input id='attrs-76470f8e-4b4e-44ae-ac45-f1e7726a2b03' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-76470f8e-4b4e-44ae-ac45-f1e7726a2b03' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-756b81e2-efdb-4cae-8714-0d60b73f8d5f' class='xr-var-data-in' type='checkbox'><label for='data-756b81e2-efdb-4cae-8714-0d60b73f8d5f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([544110., 544140., 544170., ..., 556020., 556050., 556080.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.187e+06 4.187e+06 ... 4.175e+06</div><input id='attrs-369c031c-9005-488a-b133-ca0c04dfaeca' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-369c031c-9005-488a-b133-ca0c04dfaeca' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8258c4fa-6bac-4852-ae8d-a3f321ab50db' class='xr-var-data-in' type='checkbox'><label for='data-8258c4fa-6bac-4852-ae8d-a3f321ab50db' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4186860., 4186830., 4186800., ..., 4174950., 4174920., 4174890.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;2&#x27;</div><input id='attrs-1e87a605-f0f8-4f20-a408-c1fea8b58d42' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1e87a605-f0f8-4f20-a408-c1fea8b58d42' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-058772c2-ffa0-47ab-a63c-35bcb3bafb4f' class='xr-var-data-in' type='checkbox'><label for='data-058772c2-ffa0-47ab-a63c-35bcb3bafb4f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;2&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>description</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Landsat Collection 2 Level-2&#x27;</div><input id='attrs-f947b59c-853f-4be1-8570-fb57b61b5ef4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f947b59c-853f-4be1-8570-fb57b61b5ef4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-76c82ae7-2ab8-4f95-8894-4eb3eaaebe15' class='xr-var-data-in' type='checkbox'><label for='data-76c82ae7-2ab8-4f95-8894-4eb3eaaebe15' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Landsat Collection 2 Level-2&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;02&#x27;</div><input id='attrs-02bd8301-6f1c-4ebd-b069-c69cff228143' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-02bd8301-6f1c-4ebd-b069-c69cff228143' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-869d286e-27d9-4e47-bf7d-a61dffc2096d' class='xr-var-data-in' type='checkbox'><label for='data-869d286e-27d9-4e47-bf7d-a61dffc2096d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;02&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:correction</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;L2SP&#x27;</div><input id='attrs-573acf75-aa9f-4ffb-add8-18a4ce51a42b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-573acf75-aa9f-4ffb-add8-18a4ce51a42b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-10d3b1b7-a6f9-438e-a09d-38e72d2ae8ce' class='xr-var-data-in' type='checkbox'><label for='data-10d3b1b7-a6f9-438e-a09d-38e72d2ae8ce' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;L2SP&#x27;, dtype=&#x27;&lt;U4&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_category</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;T1&#x27;</div><input id='attrs-f3361953-2c5d-4809-84fb-b350ad986258' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f3361953-2c5d-4809-84fb-b350ad986258' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6f8c86a0-a377-4aa9-a5a2-92a515f38875' class='xr-var-data-in' type='checkbox'><label for='data-6f8c86a0-a377-4aa9-a5a2-92a515f38875' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;T1&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>30</div><input id='attrs-1b24dbd2-50e0-4766-ad02-381941b48837' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1b24dbd2-50e0-4766-ad02-381941b48837' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d3a8e30d-e53d-4c2f-827b-418b0cd29ffd' class='xr-var-data-in' type='checkbox'><label for='data-d3a8e30d-e53d-4c2f-827b-418b0cd29ffd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(30)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:off_nadir</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-a03acc6d-6130-4b71-8dc9-01c01c38bb28' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a03acc6d-6130-4b71-8dc9-01c01c38bb28' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5d9e4ce9-e411-43f8-b45c-2d16f6c5b66e' class='xr-var-data-in' type='checkbox'><label for='data-5d9e4ce9-e411-43f8-b45c-2d16f6c5b66e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-60d4c1d9-a3b1-4e40-897e-5dfcc53c405a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-60d4c1d9-a3b1-4e40-897e-5dfcc53c405a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7f3f8d0c-97fb-42e5-9cb2-74e6188f97cf' class='xr-var-data-in' type='checkbox'><label for='data-7f3f8d0c-97fb-42e5-9cb2-74e6188f97cf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0,...</div><input id='attrs-2c5e350b-c275-4d09-803e-669db5b5c0e1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2c5e350b-c275-4d09-803e-669db5b5c0e1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-372ec496-2db8-4bd2-934e-4837986a054b' class='xr-var-data-in' type='checkbox'><label for='data-372ec496-2db8-4bd2-934e-4837986a054b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;offset&#x27;: -0.2, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;spatial_resolution&#x27;: 30},
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Red Band&#x27; &#x27;Green Band&#x27; &#x27;Blue Band&#x27;</div><input id='attrs-ba8324ab-e9e8-47d2-abb2-fb960355c29b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ba8324ab-e9e8-47d2-abb2-fb960355c29b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-802ce965-e983-40d9-904f-bbf4e81efc55' class='xr-var-data-in' type='checkbox'><label for='data-802ce965-e983-40d9-904f-bbf4e81efc55' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Red Band&#x27;, &#x27;Green Band&#x27;, &#x27;Blue Band&#x27;], dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-2adc0e20-d138-41a8-a495-d0729725cefc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2adc0e20-d138-41a8-a495-d0729725cefc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2088e7b8-3dfe-43f8-b59e-104acd2f5e34' class='xr-var-data-in' type='checkbox'><label for='data-2088e7b8-3dfe-43f8-b59e-104acd2f5e34' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-02-01 ... 2020-12-01</div><input id='attrs-c4adc5a5-62a4-45f0-b6d0-1628bbcd925e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c4adc5a5-62a4-45f0-b6d0-1628bbcd925e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-df649ed1-136b-4492-ae0a-556cb3eb0fec' class='xr-var-data-in' type='checkbox'><label for='data-df649ed1-136b-4492-ae0a-556cb3eb0fec' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-02-01T00:00:00.000000000&#x27;, &#x27;2020-03-01T00:00:00.000000000&#x27;,
       &#x27;2020-04-01T00:00:00.000000000&#x27;, &#x27;2020-06-01T00:00:00.000000000&#x27;,
       &#x27;2020-10-01T00:00:00.000000000&#x27;, &#x27;2020-11-01T00:00:00.000000000&#x27;,
       &#x27;2020-12-01T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-901931a2-0cbc-4da3-b936-08fdac7e9939' class='xr-section-summary-in' type='checkbox'  ><label for='section-901931a2-0cbc-4da3-b936-08fdac7e9939' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>band</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-604cb287-99e0-4739-8d3e-325ccdd67eb9' class='xr-index-data-in' type='checkbox'/><label for='index-604cb287-99e0-4739-8d3e-325ccdd67eb9' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;], dtype=&#x27;object&#x27;, name=&#x27;band&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-93a8397c-e604-429a-8766-ead84e2f5899' class='xr-index-data-in' type='checkbox'/><label for='index-93a8397c-e604-429a-8766-ead84e2f5899' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([544110.0, 544140.0, 544170.0, 544200.0, 544230.0, 544260.0,
              544290.0, 544320.0, 544350.0, 544380.0,
              ...
              555810.0, 555840.0, 555870.0, 555900.0, 555930.0, 555960.0,
              555990.0, 556020.0, 556050.0, 556080.0],
             dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=400))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-c900dd36-b435-442f-af23-193c1ac40582' class='xr-index-data-in' type='checkbox'/><label for='index-c900dd36-b435-442f-af23-193c1ac40582' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([4186860.0, 4186830.0, 4186800.0, 4186770.0, 4186740.0, 4186710.0,
              4186680.0, 4186650.0, 4186620.0, 4186590.0,
              ...
              4175160.0, 4175130.0, 4175100.0, 4175070.0, 4175040.0, 4175010.0,
              4174980.0, 4174950.0, 4174920.0, 4174890.0],
             dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=400))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-8d4429c4-ddb6-40f6-9388-aee2545ba605' class='xr-index-data-in' type='checkbox'/><label for='index-8d4429c4-ddb6-40f6-9388-aee2545ba605' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2020-02-01&#x27;, &#x27;2020-03-01&#x27;, &#x27;2020-04-01&#x27;, &#x27;2020-06-01&#x27;,
               &#x27;2020-10-01&#x27;, &#x27;2020-11-01&#x27;, &#x27;2020-12-01&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-033316d4-0599-4db8-b21c-b2809804ab95' class='xr-section-summary-in' type='checkbox'  checked><label for='section-033316d4-0599-4db8-b21c-b2809804ab95' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>spec :</span></dt><dd>RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327230), resolutions_xy=(30, 30))</dd><dt><span>crs :</span></dt><dd>epsg:32610</dd><dt><span>transform :</span></dt><dd>| 30.00, 0.00, 407580.00|
| 0.00,-30.00, 4327230.00|
| 0.00, 0.00, 1.00|</dd><dt><span>resolution :</span></dt><dd>30</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>We’ll use <code class="docutils literal notranslate"><span class="pre">xarray</span></code>’s native plotting function to visualize the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">rgb</span><span class="o">=</span><span class="s1">&#39;band&#39;</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/dask_for_geoscientists_60_0.png" src="../_images/dask_for_geoscientists_60_0.png" />
</div>
</div>
</section>
</section>
<section id="running-complex-python-functions-with-dask-xarray">
<h2>Running Complex Python Functions with Dask + Xarray<a class="headerlink" href="#running-complex-python-functions-with-dask-xarray" title="Permalink to this headline">#</a></h2>
<p>In the previous section we showed how <code class="docutils literal notranslate"><span class="pre">dask</span></code> can be used to pull data from the cloud while refining your search ahead of time to the data and resolutions that you are interested in. In this section we’ll see how <code class="docutils literal notranslate"><span class="pre">dask</span></code> can be used to do some more complex analyses as well before pulling the data into memory.</p>
<p><code class="docutils literal notranslate"><span class="pre">dask</span></code> does have a native package for interacting with images called <code class="docutils literal notranslate"><span class="pre">dask_image,</span></code> but it can be tricky to use with streaming data in chunks, which makes it difficult to use on large images stored elsewhere in the cloud. We will instead write some custom functions to be used on our dask data, so that we can import our data already transformed.</p>
<section id="implementing-custom-functions-with-dask">
<h3>Implementing Custom Functions with Dask<a class="headerlink" href="#implementing-custom-functions-with-dask" title="Permalink to this headline">#</a></h3>
<p>Let’s start by looking at the normalized difference vegetation index (NDVI). In the cryosphere, this isn’t likely to be an index that we use often, but it’s a great stand in for how we can create custom functions in <code class="docutils literal notranslate"><span class="pre">dask</span></code>. This same principal could be applied to pull in our data as band ratios, or other preprocessing functions that we might be interested in. Similarly to above, we’ll limit this to our area of interest.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">area_of_interest</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">y_utm</span><span class="o">+</span><span class="n">buffer</span><span class="p">:</span><span class="n">y_utm</span><span class="o">-</span><span class="n">buffer</span><span class="p">,</span> <span class="n">x_utm</span><span class="o">-</span><span class="n">buffer</span><span class="p">:</span><span class="n">x_utm</span><span class="o">+</span><span class="n">buffer</span><span class="p">]</span>
<span class="n">area_of_interest</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-6f74f18ec9af45035c661e3ac7f51d1b&#x27; (time: 183,
                                                                band: 5,
                                                                y: 400, x: 400)&gt;
dask.array&lt;getitem, shape=(183, 5, 400, 400), dtype=float64, chunksize=(1, 1, 400, 400), chunktype=numpy.ndarray&gt;
Coordinates: (12/27)
  * time                         (time) datetime64[ns] 2020-02-06T18:51:55.12...
    id                           (time) &lt;U31 &#x27;LC08_L2SP_045033_20200206_02_T1...
  * band                         (band) &lt;U6 &#x27;red&#x27; &#x27;green&#x27; ... &#x27;nir08&#x27; &#x27;swir16&#x27;
  * x                            (x) float64 5.441e+05 5.441e+05 ... 5.561e+05
  * y                            (y) float64 4.187e+06 4.187e+06 ... 4.175e+06
    landsat:wrs_type             &lt;U1 &#x27;2&#x27;
    ...                           ...
    view:off_nadir               int64 0
    landsat:cloud_cover_land     (time) float64 0.19 0.0 0.94 ... 3.0 0.0 5.41
    proj:epsg                    int64 32610
    raster:bands                 object {&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;off...
    title                        (band) &lt;U28 &#x27;Red Band&#x27; ... &#x27;Short-wave Infra...
    epsg                         int64 32610
Attributes:
    spec:        RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327...
    crs:         epsg:32610
    transform:   | 30.00, 0.00, 407580.00|\n| 0.00,-30.00, 4327230.00|\n| 0.0...
    resolution:  30</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-6f74f18ec9af45035c661e3ac7f51d1b'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 183</li><li><span class='xr-has-index'>band</span>: 5</li><li><span class='xr-has-index'>y</span>: 400</li><li><span class='xr-has-index'>x</span>: 400</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-80be5cd0-a219-4a4e-aba5-b0bcf4c599e4' class='xr-array-in' type='checkbox' checked><label for='section-80be5cd0-a219-4a4e-aba5-b0bcf4c599e4' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 1, 400, 400), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.09 GiB </td>
                        <td> 1.22 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (183, 5, 400, 400) </td>
                        <td> (1, 1, 400, 400) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 915 chunks in 4 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="433" height="185" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="54" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="54" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="13" y1="0" x2="13" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="22" y1="0" x2="22" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="32" y1="0" x2="32" y2="25" />
  <line x1="34" y1="0" x2="34" y2="25" />
  <line x1="35" y1="0" x2="35" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="39" y1="0" x2="39" y2="25" />
  <line x1="41" y1="0" x2="41" y2="25" />
  <line x1="42" y1="0" x2="42" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="46" y1="0" x2="46" y2="25" />
  <line x1="47" y1="0" x2="47" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="51" y1="0" x2="51" y2="25" />
  <line x1="53" y1="0" x2="53" y2="25" />
  <line x1="54" y1="0" x2="54" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 54.89999999999999,0.0 54.89999999999999,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="27.450000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >183</text>
  <text x="74.900000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,74.900000,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="124" y1="0" x2="139" y2="15" style="stroke-width:2" />
  <line x1="124" y1="120" x2="139" y2="135" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="124" y1="0" x2="124" y2="120" style="stroke-width:2" />
  <line x1="127" y1="3" x2="127" y2="123" />
  <line x1="130" y1="6" x2="130" y2="126" />
  <line x1="133" y1="9" x2="133" y2="129" />
  <line x1="136" y1="12" x2="136" y2="132" />
  <line x1="139" y1="15" x2="139" y2="135" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="124.0,0.0 139.59572579981145,15.595725799811456 139.59572579981145,135.59572579981145 124.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="124" y1="0" x2="244" y2="0" style="stroke-width:2" />
  <line x1="127" y1="3" x2="247" y2="3" />
  <line x1="130" y1="6" x2="250" y2="6" />
  <line x1="133" y1="9" x2="253" y2="9" />
  <line x1="136" y1="12" x2="256" y2="12" />
  <line x1="139" y1="15" x2="259" y2="15" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="124" y1="0" x2="139" y2="15" style="stroke-width:2" />
  <line x1="244" y1="0" x2="259" y2="15" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="124.0,0.0 244.0,0.0 259.5957257998115,15.595725799811456 139.59572579981145,15.595725799811456" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="139" y1="15" x2="259" y2="15" style="stroke-width:2" />
  <line x1="139" y1="135" x2="259" y2="135" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="139" y1="15" x2="139" y2="135" style="stroke-width:2" />
  <line x1="259" y1="15" x2="259" y2="135" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="139.59572579981145,15.595725799811456 259.5957257998115,15.595725799811456 259.5957257998115,135.59572579981145 139.59572579981145,135.59572579981145" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="199.595726" y="155.595726" font-size="1.0rem" font-weight="100" text-anchor="middle" >400</text>
  <text x="279.595726" y="75.595726" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,279.595726,75.595726)">400</text>
  <text x="121.797863" y="147.797863" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,121.797863,147.797863)">5</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-ba6dae93-599b-4609-944a-76fda9d11bc5' class='xr-section-summary-in' type='checkbox'  ><label for='section-ba6dae93-599b-4609-944a-76fda9d11bc5' class='xr-section-summary' >Coordinates: <span>(27)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-02-06T18:51:55.125422 ... 2...</div><input id='attrs-86b2e895-2c92-49d1-ab94-2d9c228a4f97' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-86b2e895-2c92-49d1-ab94-2d9c228a4f97' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3db6ac5d-d281-49ac-bbcd-9c8a1c3e0cc5' class='xr-var-data-in' type='checkbox'><label for='data-3db6ac5d-d281-49ac-bbcd-9c8a1c3e0cc5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-02-06T18:51:55.125422000&#x27;, &#x27;2020-02-07T18:24:41.082486000&#x27;,
       &#x27;2020-02-08T18:39:33.230747000&#x27;, &#x27;2020-02-08T18:39:57.113314000&#x27;,
       &#x27;2020-02-08T18:40:21.004352000&#x27;, &#x27;2020-02-15T18:46:06.622682000&#x27;,
       &#x27;2020-02-15T18:46:30.509486000&#x27;, &#x27;2020-02-16T18:18:26.204154000&#x27;,
       &#x27;2020-02-16T18:18:50.091152000&#x27;, &#x27;2020-02-21T18:36:19.004475000&#x27;,
       &#x27;2020-02-22T18:51:51.792169000&#x27;, &#x27;2020-02-24T18:39:29.558834000&#x27;,
       &#x27;2020-02-24T18:39:53.445637000&#x27;, &#x27;2020-02-24T18:40:17.336676000&#x27;,
       &#x27;2020-03-02T18:45:37.919773000&#x27;, &#x27;2020-03-02T18:46:01.810812000&#x27;,
       &#x27;2020-03-02T18:46:25.697616000&#x27;, &#x27;2020-03-03T18:17:11.366397000&#x27;,
       &#x27;2020-03-03T18:17:35.250990000&#x27;, &#x27;2020-03-03T18:17:59.136562000&#x27;,
       &#x27;2020-03-10T18:22:59.398883000&#x27;, &#x27;2020-03-25T18:52:01.303967000&#x27;,
       &#x27;2020-03-26T18:22:06.204454000&#x27;, &#x27;2020-03-27T18:39:14.565552000&#x27;,
       &#x27;2020-03-27T18:39:38.443884000&#x27;, &#x27;2020-04-01T18:57:43.737674000&#x27;,
       &#x27;2020-04-02T18:27:53.221579000&#x27;, &#x27;2020-04-02T18:28:17.106946000&#x27;,
       &#x27;2020-04-03T18:45:21.110510000&#x27;, &#x27;2020-04-03T18:45:44.997313000&#x27;,
       &#x27;2020-04-03T18:46:08.879881000&#x27;, &#x27;2020-04-26T18:51:22.067458000&#x27;,
       &#x27;2020-04-27T18:20:14.874528000&#x27;, &#x27;2020-04-27T18:20:38.762105000&#x27;,
       &#x27;2020-04-28T18:38:59.326107000&#x27;, &#x27;2020-04-28T18:39:23.212909000&#x27;,
       &#x27;2020-04-28T18:39:47.099714000&#x27;, &#x27;2020-05-03T18:57:28.812224000&#x27;,
       &#x27;2020-05-04T18:26:00.383487000&#x27;, &#x27;2020-05-04T18:26:24.271284000&#x27;,
       &#x27;2020-05-05T18:45:05.948091000&#x27;, &#x27;2020-05-06T18:13:31.507682000&#x27;,
       &#x27;2020-05-06T18:13:55.395326000&#x27;, &#x27;2020-05-14T18:39:42.697863000&#x27;,
       &#x27;2020-05-20T18:25:01.377536000&#x27;, &#x27;2020-05-21T18:45:07.276785000&#x27;,
       &#x27;2020-05-22T18:12:56.177537000&#x27;, &#x27;2020-05-22T18:13:20.065857000&#x27;,
       &#x27;2020-06-04T18:57:34.846496000&#x27;, &#x27;2020-06-06T18:45:14.511284000&#x27;,
       &#x27;2020-06-06T18:45:38.406559000&#x27;, &#x27;2020-06-07T18:12:00.020270000&#x27;,
       &#x27;2020-06-07T18:12:23.907534000&#x27;, &#x27;2020-06-13T18:51:53.475989000&#x27;,
       &#x27;2020-06-14T18:17:22.483636000&#x27;, &#x27;2020-06-22T18:45:23.684594000&#x27;,
       &#x27;2020-06-23T18:10:39.870328000&#x27;, &#x27;2020-06-23T18:11:03.755368000&#x27;,
       &#x27;2020-06-28T18:28:54.383668000&#x27;, &#x27;2020-06-29T18:51:37.856330000&#x27;,
       &#x27;2020-06-29T18:52:01.747370000&#x27;, &#x27;2020-06-30T18:16:25.592450000&#x27;,
       &#x27;2020-06-30T18:16:49.476803000&#x27;, &#x27;2020-07-01T18:39:17.114813000&#x27;,
       &#x27;2020-07-01T18:39:40.997381000&#x27;, &#x27;2020-07-07T18:22:11.089551000&#x27;,
       &#x27;2020-07-07T18:22:34.973917000&#x27;, &#x27;2020-07-08T18:45:30.829456000&#x27;,
       &#x27;2020-07-09T18:09:42.199927000&#x27;, &#x27;2020-07-09T18:10:06.084360000&#x27;,
       &#x27;2020-07-16T18:15:27.344224000&#x27;, &#x27;2020-07-17T18:39:23.145638000&#x27;,
       &#x27;2020-07-17T18:39:47.036677000&#x27;, &#x27;2020-07-24T18:45:36.004256000&#x27;,
       &#x27;2020-07-25T18:08:43.202579000&#x27;, &#x27;2020-07-25T18:09:07.087828000&#x27;,
       &#x27;2020-08-01T18:14:27.788360000&#x27;, &#x27;2020-08-02T18:39:27.218890000&#x27;,
       &#x27;2020-08-02T18:39:51.105693000&#x27;, &#x27;2020-08-07T18:58:00.513702000&#x27;,
       &#x27;2020-08-09T18:45:39.144963000&#x27;, &#x27;2020-08-10T18:07:42.865186000&#x27;,
       &#x27;2020-08-10T18:08:06.751948000&#x27;, &#x27;2020-08-15T18:25:56.132596000&#x27;,
       &#x27;2020-08-18T18:39:32.654923000&#x27;, &#x27;2020-08-18T18:39:56.537490000&#x27;,
       &#x27;2020-08-18T18:40:20.432766000&#x27;, &#x27;2020-08-25T18:45:47.126649000&#x27;,
       &#x27;2020-08-26T18:06:41.181431000&#x27;, &#x27;2020-08-26T18:07:05.069246000&#x27;,
       &#x27;2020-09-02T18:12:24.606280000&#x27;, &#x27;2020-09-03T18:39:40.471028000&#x27;,
       &#x27;2020-09-03T18:40:04.357831000&#x27;, &#x27;2020-09-09T18:18:07.684985000&#x27;,
       &#x27;2020-09-09T18:18:31.572843000&#x27;, &#x27;2020-09-11T18:05:38.117811000&#x27;,
       &#x27;2020-09-18T18:12:08.681900000&#x27;, &#x27;2020-09-19T18:39:46.139351000&#x27;,
       &#x27;2020-09-19T18:40:10.030390000&#x27;, &#x27;2020-09-19T18:40:33.921429000&#x27;,
       &#x27;2020-09-24T18:58:19.903775000&#x27;, &#x27;2020-09-25T18:17:04.358291000&#x27;,
       &#x27;2020-09-25T18:17:28.245293000&#x27;, &#x27;2020-09-26T18:45:58.738268000&#x27;,
       &#x27;2020-09-27T18:04:35.270402000&#x27;, &#x27;2020-09-27T18:04:59.157424000&#x27;,
       &#x27;2020-09-27T18:05:23.045337000&#x27;, &#x27;2020-10-04T18:10:19.569890000&#x27;,
       &#x27;2020-10-05T18:39:49.495227000&#x27;, &#x27;2020-10-05T18:40:13.382030000&#x27;,
       &#x27;2020-10-11T18:16:03.460512000&#x27;, &#x27;2020-10-11T18:16:27.346155000&#x27;,
       &#x27;2020-10-12T18:46:00.917595000&#x27;, &#x27;2020-10-12T18:46:24.804399000&#x27;,
       &#x27;2020-10-12T18:46:48.695438000&#x27;, &#x27;2020-10-13T18:03:34.117740000&#x27;,
       &#x27;2020-10-13T18:03:58.003189000&#x27;, &#x27;2020-10-13T18:04:21.889310000&#x27;,
       &#x27;2020-10-18T18:21:47.030791000&#x27;, &#x27;2020-10-19T18:52:11.874539000&#x27;,
       &#x27;2020-10-20T18:09:17.566754000&#x27;, &#x27;2020-10-21T18:39:50.171533000&#x27;,
       &#x27;2020-10-21T18:40:14.058337000&#x27;, &#x27;2020-10-26T18:58:22.242644000&#x27;,
       &#x27;2020-10-27T18:15:00.589834000&#x27;, &#x27;2020-10-27T18:15:24.474495000&#x27;,
       &#x27;2020-10-28T18:46:00.387015000&#x27;, &#x27;2020-10-28T18:46:24.273819000&#x27;,
       &#x27;2020-10-29T18:02:30.980870000&#x27;, &#x27;2020-10-29T18:02:54.865533000&#x27;,
       &#x27;2020-10-29T18:03:18.750819000&#x27;, &#x27;2020-11-05T18:08:13.369708000&#x27;,
       &#x27;2020-11-05T18:08:37.254360000&#x27;, &#x27;2020-11-12T18:13:55.270572000&#x27;,
       &#x27;2020-11-12T18:14:19.155311000&#x27;, &#x27;2020-11-14T18:02:13.095974000&#x27;,
       &#x27;2020-11-19T18:19:36.640246000&#x27;, &#x27;2020-11-20T18:52:10.546778000&#x27;,
       &#x27;2020-11-20T18:52:34.433581000&#x27;, &#x27;2020-11-21T18:07:06.535782000&#x27;,
       &#x27;2020-11-22T18:39:49.445371000&#x27;, &#x27;2020-11-22T18:40:13.336411000&#x27;,
       &#x27;2020-11-22T18:40:37.223214000&#x27;, &#x27;2020-11-27T18:58:22.969565000&#x27;,
       &#x27;2020-11-28T18:12:47.179374000&#x27;, &#x27;2020-11-28T18:13:11.065436000&#x27;,
       &#x27;2020-11-29T18:46:01.639313000&#x27;, &#x27;2020-11-29T18:46:25.526116000&#x27;,
       &#x27;2020-11-29T18:46:49.421392000&#x27;, &#x27;2020-11-30T18:00:16.836777000&#x27;,
       &#x27;2020-11-30T18:00:40.723046000&#x27;, &#x27;2020-11-30T18:01:04.610066000&#x27;,
       &#x27;2020-12-06T18:52:12.913886000&#x27;, &#x27;2020-12-06T18:52:36.804926000&#x27;,
       &#x27;2020-12-07T18:05:56.504523000&#x27;, &#x27;2020-12-07T18:06:20.391323000&#x27;,
       &#x27;2020-12-07T18:06:44.279131000&#x27;, &#x27;2020-12-08T18:39:51.253202000&#x27;,
       &#x27;2020-12-08T18:40:15.148477000&#x27;, &#x27;2020-12-14T18:11:35.596617000&#x27;,
       &#x27;2020-12-14T18:11:59.483934000&#x27;, &#x27;2020-12-15T18:46:49.335004000&#x27;,
       &#x27;2020-12-16T17:59:52.607830000&#x27;, &#x27;2020-12-22T18:52:11.148959000&#x27;,
       &#x27;2020-12-22T18:52:35.031526000&#x27;, &#x27;2020-12-23T18:04:43.871207000&#x27;,
       &#x27;2020-12-23T18:05:07.759341000&#x27;, &#x27;2020-12-29T18:58:20.054849000&#x27;,
       &#x27;2020-12-30T18:10:26.114847000&#x27;, &#x27;2020-12-31T18:45:57.754433000&#x27;,
       &#x27;2020-12-31T18:46:21.637001000&#x27;, &#x27;2020-12-31T18:46:45.528039000&#x27;,
       &#x27;2021-01-01T17:57:56.243264000&#x27;, &#x27;2021-01-01T17:58:20.131679000&#x27;,
       &#x27;2021-01-01T17:58:44.021034000&#x27;, &#x27;2021-01-09T18:39:43.203959000&#x27;,
       &#x27;2021-01-09T18:40:30.981802000&#x27;, &#x27;2021-01-16T18:45:50.467085000&#x27;,
       &#x27;2021-01-16T18:46:38.240692000&#x27;, &#x27;2021-01-17T17:56:48.817687000&#x27;,
       &#x27;2021-01-17T17:57:12.705228000&#x27;, &#x27;2021-01-17T17:57:36.593523000&#x27;,
       &#x27;2021-01-23T18:52:00.186800000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U31</div><div class='xr-var-preview xr-preview'>&#x27;LC08_L2SP_045033_20200206_02_T1...</div><input id='attrs-fb2c7c44-be5d-4328-ac64-7abf1898b841' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fb2c7c44-be5d-4328-ac64-7abf1898b841' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-537f2bc3-d186-4f0c-a2d2-cac37ed33404' class='xr-var-data-in' type='checkbox'><label for='data-537f2bc3-d186-4f0c-a2d2-cac37ed33404' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;LC08_L2SP_045033_20200206_02_T1&#x27;,
       &#x27;LE07_L2SP_044033_20200207_02_T1&#x27;,
       &#x27;LC08_L2SP_043033_20200208_02_T1&#x27;,
       &#x27;LC08_L2SP_043034_20200208_02_T1&#x27;,
       &#x27;LC08_L2SP_043035_20200208_02_T1&#x27;,
       &#x27;LC08_L2SP_044034_20200215_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20200215_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20200216_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20200216_02_T1&#x27;,
       &#x27;LE07_L2SP_046033_20200221_02_T1&#x27;,
       &#x27;LC08_L2SP_045033_20200222_02_T1&#x27;,
       &#x27;LC08_L2SP_043033_20200224_02_T1&#x27;,
       &#x27;LC08_L2SP_043034_20200224_02_T1&#x27;,
       &#x27;LC08_L2SP_043035_20200224_02_T1&#x27;,
       &#x27;LC08_L2SP_044033_20200302_02_T1&#x27;,
       &#x27;LC08_L2SP_044034_20200302_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20200302_02_T1&#x27;,
       &#x27;LE07_L2SP_043033_20200303_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20200303_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20200303_02_T1&#x27;,
...
       &#x27;LC08_L2SP_045033_20201222_02_T1&#x27;,
       &#x27;LC08_L2SP_045034_20201222_02_T1&#x27;,
       &#x27;LE07_L2SP_044033_20201223_02_T1&#x27;,
       &#x27;LE07_L2SP_044034_20201223_02_T1&#x27;,
       &#x27;LC08_L2SP_046033_20201229_02_T1&#x27;,
       &#x27;LE07_L2SP_045033_20201230_02_T1&#x27;,
       &#x27;LC08_L2SP_044033_20201231_02_T1&#x27;,
       &#x27;LC08_L2SP_044034_20201231_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20201231_02_T1&#x27;,
       &#x27;LE07_L2SP_043033_20210101_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20210101_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20210101_02_T1&#x27;,
       &#x27;LC08_L2SP_043033_20210109_02_T1&#x27;,
       &#x27;LC08_L2SP_043035_20210109_02_T1&#x27;,
       &#x27;LC08_L2SP_044033_20210116_02_T1&#x27;,
       &#x27;LC08_L2SP_044035_20210116_02_T1&#x27;,
       &#x27;LE07_L2SP_043033_20210117_02_T1&#x27;,
       &#x27;LE07_L2SP_043034_20210117_02_T1&#x27;,
       &#x27;LE07_L2SP_043035_20210117_02_T1&#x27;,
       &#x27;LC08_L2SP_045033_20210123_02_T1&#x27;], dtype=&#x27;&lt;U31&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;red&#x27; &#x27;green&#x27; ... &#x27;nir08&#x27; &#x27;swir16&#x27;</div><input id='attrs-0d038743-7256-4b90-854a-5691480f82d4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0d038743-7256-4b90-854a-5691480f82d4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1a277209-1d1f-43f8-928e-7371233ae20e' class='xr-var-data-in' type='checkbox'><label for='data-1a277209-1d1f-43f8-928e-7371233ae20e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir08&#x27;, &#x27;swir16&#x27;], dtype=&#x27;&lt;U6&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.441e+05 5.441e+05 ... 5.561e+05</div><input id='attrs-c2c07998-d8f2-4422-b0c6-c0251ddfa023' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c2c07998-d8f2-4422-b0c6-c0251ddfa023' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-678f9481-d034-49b0-bd5f-45bea41e1a8c' class='xr-var-data-in' type='checkbox'><label for='data-678f9481-d034-49b0-bd5f-45bea41e1a8c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([544110., 544140., 544170., ..., 556020., 556050., 556080.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.187e+06 4.187e+06 ... 4.175e+06</div><input id='attrs-418ce3be-99af-4b54-bd14-90bd58905cca' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-418ce3be-99af-4b54-bd14-90bd58905cca' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-318dc542-2691-4623-990c-ab6284224d5b' class='xr-var-data-in' type='checkbox'><label for='data-318dc542-2691-4623-990c-ab6284224d5b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4186860., 4186830., 4186800., ..., 4174950., 4174920., 4174890.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;2&#x27;</div><input id='attrs-65087f65-cd93-4efa-bd6b-373367860c21' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-65087f65-cd93-4efa-bd6b-373367860c21' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d256a410-4cfb-43e5-97fa-9300156cd313' class='xr-var-data-in' type='checkbox'><label for='data-d256a410-4cfb-43e5-97fa-9300156cd313' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;2&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:scene_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U21</div><div class='xr-var-preview xr-preview'>&#x27;LC80450332020037LGN00&#x27; ... &#x27;LC8...</div><input id='attrs-28bee67a-f4dc-405f-8ac7-359a856deb6b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-28bee67a-f4dc-405f-8ac7-359a856deb6b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-98482527-fd28-4fb0-b31f-784e542adf39' class='xr-var-data-in' type='checkbox'><label for='data-98482527-fd28-4fb0-b31f-784e542adf39' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;LC80450332020037LGN00&#x27;, &#x27;LE70440332020038EDC00&#x27;,
       &#x27;LC80430332020039LGN00&#x27;, &#x27;LC80430342020039LGN00&#x27;,
       &#x27;LC80430352020039LGN00&#x27;, &#x27;LC80440342020046LGN00&#x27;,
       &#x27;LC80440352020046LGN00&#x27;, &#x27;LE70430342020047EDC00&#x27;,
       &#x27;LE70430352020047EDC00&#x27;, &#x27;LE70460332020052ASN00&#x27;,
       &#x27;LC80450332020053LGN00&#x27;, &#x27;LC80430332020055LGN00&#x27;,
       &#x27;LC80430342020055LGN00&#x27;, &#x27;LC80430352020055LGN00&#x27;,
       &#x27;LC80440332020062LGN00&#x27;, &#x27;LC80440342020062LGN00&#x27;,
       &#x27;LC80440352020062LGN00&#x27;, &#x27;LE70430332020063EDC00&#x27;,
       &#x27;LE70430342020063EDC00&#x27;, &#x27;LE70430352020063EDC00&#x27;,
       &#x27;LE70440332020070EDC00&#x27;, &#x27;LC80450342020085LGN00&#x27;,
       &#x27;LE70440332020086EDC00&#x27;, &#x27;LC80430332020087LGN00&#x27;,
       &#x27;LC80430342020087LGN00&#x27;, &#x27;LC80460332020092LGN00&#x27;,
       &#x27;LE70450332020093EDC00&#x27;, &#x27;LE70450342020093EDC00&#x27;,
       &#x27;LC80440332020094LGN00&#x27;, &#x27;LC80440342020094LGN00&#x27;,
       &#x27;LC80440352020094LGN00&#x27;, &#x27;LC80450332020117LGN00&#x27;,
       &#x27;LE70440332020118EDC00&#x27;, &#x27;LE70440342020118EDC00&#x27;,
       &#x27;LC80430332020119LGN00&#x27;, &#x27;LC80430342020119LGN00&#x27;,
       &#x27;LC80430352020119LGN00&#x27;, &#x27;LC80460332020124LGN00&#x27;,
       &#x27;LE70450332020125EDC00&#x27;, &#x27;LE70450342020125EDC00&#x27;,
...
       &#x27;LE70450332020333EDC00&#x27;, &#x27;LE70450342020333EDC00&#x27;,
       &#x27;LC80440332020334LGN00&#x27;, &#x27;LC80440342020334LGN00&#x27;,
       &#x27;LC80440352020334LGN00&#x27;, &#x27;LE70430332020335EDC00&#x27;,
       &#x27;LE70430342020335EDC00&#x27;, &#x27;LE70430352020335EDC00&#x27;,
       &#x27;LC80450332020341LGN00&#x27;, &#x27;LC80450342020341LGN00&#x27;,
       &#x27;LE70440332020342EDC02&#x27;, &#x27;LE70440342020342EDC02&#x27;,
       &#x27;LE70440352020342EDC02&#x27;, &#x27;LC80430332020343LGN00&#x27;,
       &#x27;LC80430342020343LGN00&#x27;, &#x27;LE70450332020349EDC00&#x27;,
       &#x27;LE70450342020349EDC00&#x27;, &#x27;LC80440352020350LGN00&#x27;,
       &#x27;LE70430352020351EDC00&#x27;, &#x27;LC80450332020357LGN00&#x27;,
       &#x27;LC80450342020357LGN00&#x27;, &#x27;LE70440332020358EDC00&#x27;,
       &#x27;LE70440342020358EDC00&#x27;, &#x27;LC80460332020364LGN00&#x27;,
       &#x27;LE70450332020365EDC00&#x27;, &#x27;LC80440332020366LGN01&#x27;,
       &#x27;LC80440342020366LGN01&#x27;, &#x27;LC80440352020366LGN01&#x27;,
       &#x27;LE70430332021001EDC00&#x27;, &#x27;LE70430342021001EDC00&#x27;,
       &#x27;LE70430352021001EDC00&#x27;, &#x27;LC80430332021009LGN00&#x27;,
       &#x27;LC80430352021009LGN00&#x27;, &#x27;LC80440332021016LGN00&#x27;,
       &#x27;LC80440352021016LGN00&#x27;, &#x27;LE70430332021017EDC00&#x27;,
       &#x27;LE70430342021017EDC00&#x27;, &#x27;LE70430352021017EDC00&#x27;,
       &#x27;LC80450332021023LGN00&#x27;], dtype=&#x27;&lt;U21&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>created</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U27</div><div class='xr-var-preview xr-preview'>&#x27;2022-05-06T17:11:57.420505Z&#x27; .....</div><input id='attrs-114337d5-432a-44cd-ade1-f46cf8b4cc84' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-114337d5-432a-44cd-ade1-f46cf8b4cc84' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-942f85db-a201-4fe8-96fe-f3f86237ce6e' class='xr-var-data-in' type='checkbox'><label for='data-942f85db-a201-4fe8-96fe-f3f86237ce6e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-05-06T17:11:57.420505Z&#x27;, &#x27;2022-05-06T17:35:07.317707Z&#x27;,
       &#x27;2022-05-06T17:49:39.151608Z&#x27;, &#x27;2022-05-06T17:49:43.387084Z&#x27;,
       &#x27;2022-05-06T17:49:47.306542Z&#x27;, &#x27;2022-05-06T17:49:47.411619Z&#x27;,
       &#x27;2022-05-06T17:49:51.187450Z&#x27;, &#x27;2022-05-06T17:43:29.437553Z&#x27;,
       &#x27;2022-05-06T17:43:32.687886Z&#x27;, &#x27;2022-05-06T18:01:26.093047Z&#x27;,
       &#x27;2022-05-06T17:11:57.606517Z&#x27;, &#x27;2022-05-06T17:49:39.320858Z&#x27;,
       &#x27;2022-05-06T17:49:43.532270Z&#x27;, &#x27;2022-05-06T17:49:47.465995Z&#x27;,
       &#x27;2022-05-06T17:49:43.810826Z&#x27;, &#x27;2022-05-06T17:49:47.562827Z&#x27;,
       &#x27;2022-05-06T17:49:51.353997Z&#x27;, &#x27;2022-05-06T17:43:26.440252Z&#x27;,
       &#x27;2022-05-06T17:43:29.577259Z&#x27;, &#x27;2022-05-06T17:43:32.826302Z&#x27;,
       &#x27;2022-05-06T17:35:07.630299Z&#x27;, &#x27;2022-05-06T17:12:02.733233Z&#x27;,
       &#x27;2022-05-06T17:35:07.766736Z&#x27;, &#x27;2022-05-06T17:49:39.714475Z&#x27;,
       &#x27;2022-05-06T17:49:43.853748Z&#x27;, &#x27;2022-05-06T18:04:40.703660Z&#x27;,
       &#x27;2022-05-06T17:18:44.526707Z&#x27;, &#x27;2022-05-06T17:18:48.871346Z&#x27;,
       &#x27;2022-05-06T17:49:44.122681Z&#x27;, &#x27;2022-05-06T17:49:47.831465Z&#x27;,
       &#x27;2022-05-06T17:49:51.690773Z&#x27;, &#x27;2022-05-06T17:11:58.569097Z&#x27;,
       &#x27;2022-05-06T17:35:08.083639Z&#x27;, &#x27;2022-05-06T17:35:11.774007Z&#x27;,
       &#x27;2022-05-06T17:49:40.072646Z&#x27;, &#x27;2022-05-06T17:49:44.172086Z&#x27;,
       &#x27;2022-05-06T17:49:48.153617Z&#x27;, &#x27;2022-05-06T18:04:41.025315Z&#x27;,
       &#x27;2022-05-06T17:18:44.830005Z&#x27;, &#x27;2022-05-06T17:18:49.264298Z&#x27;,
...
       &#x27;2022-05-06T17:18:47.206703Z&#x27;, &#x27;2022-05-06T17:18:51.561987Z&#x27;,
       &#x27;2022-05-06T17:49:46.299987Z&#x27;, &#x27;2022-05-06T17:49:50.061430Z&#x27;,
       &#x27;2022-05-06T17:49:54.078683Z&#x27;, &#x27;2022-05-06T17:43:28.897304Z&#x27;,
       &#x27;2022-05-06T17:43:32.187100Z&#x27;, &#x27;2022-05-06T17:43:35.081679Z&#x27;,
       &#x27;2022-05-06T17:12:01.267444Z&#x27;, &#x27;2022-05-06T17:12:05.984836Z&#x27;,
       &#x27;2022-05-06T17:35:10.252617Z&#x27;, &#x27;2022-05-06T17:35:14.205933Z&#x27;,
       &#x27;2022-05-06T17:35:17.962980Z&#x27;, &#x27;2022-05-06T17:49:42.600625Z&#x27;,
       &#x27;2022-05-06T17:49:46.518309Z&#x27;, &#x27;2022-05-06T17:18:47.386574Z&#x27;,
       &#x27;2022-05-06T17:18:51.735903Z&#x27;, &#x27;2022-05-06T17:49:54.227833Z&#x27;,
       &#x27;2022-05-06T17:43:35.212075Z&#x27;, &#x27;2022-05-06T17:12:01.430038Z&#x27;,
       &#x27;2022-05-06T17:12:06.224529Z&#x27;, &#x27;2022-05-06T17:35:10.510482Z&#x27;,
       &#x27;2022-05-06T17:35:14.387587Z&#x27;, &#x27;2022-05-06T18:04:44.024643Z&#x27;,
       &#x27;2022-05-06T17:18:47.715916Z&#x27;, &#x27;2022-05-06T17:49:46.922437Z&#x27;,
       &#x27;2022-05-06T17:49:50.713335Z&#x27;, &#x27;2022-05-06T17:49:54.744493Z&#x27;,
       &#x27;2022-05-06T18:00:39.031671Z&#x27;, &#x27;2022-05-06T18:00:50.617909Z&#x27;,
       &#x27;2022-05-06T18:01:01.534505Z&#x27;, &#x27;2022-05-06T17:06:23.392361Z&#x27;,
       &#x27;2022-05-06T17:06:56.504144Z&#x27;, &#x27;2022-05-06T17:36:26.063566Z&#x27;,
       &#x27;2022-05-06T17:37:06.444889Z&#x27;, &#x27;2022-05-06T18:00:39.251017Z&#x27;,
       &#x27;2022-05-06T18:00:50.809408Z&#x27;, &#x27;2022-05-06T18:01:01.717543Z&#x27;,
       &#x27;2022-05-06T17:19:21.665595Z&#x27;], dtype=&#x27;&lt;U27&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>description</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Landsat Collection 2 Level-2&#x27;</div><input id='attrs-19df1ed4-60e8-4b2e-b527-28d1d3d33b5e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-19df1ed4-60e8-4b2e-b527-28d1d3d33b5e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-aaa9caf7-794f-4434-ab64-f944ca881204' class='xr-var-data-in' type='checkbox'><label for='data-aaa9caf7-794f-4434-ab64-f944ca881204' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Landsat Collection 2 Level-2&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>sci:doi</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U16</div><div class='xr-var-preview xr-preview'>&#x27;10.5066/P9OGBGM6&#x27; ... &#x27;10.5066/...</div><input id='attrs-df8f7312-7a8a-413b-8279-7e2a7c43fdbd' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-df8f7312-7a8a-413b-8279-7e2a7c43fdbd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-20029eaa-66cf-44df-95de-2c85624b9fd8' class='xr-var-data-in' type='checkbox'><label for='data-20029eaa-66cf-44df-95de-2c85624b9fd8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
...
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;,
       &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9OGBGM6&#x27;, &#x27;10.5066/P9C7I13B&#x27;,
       &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9C7I13B&#x27;, &#x27;10.5066/P9OGBGM6&#x27;],
      dtype=&#x27;&lt;U16&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;02&#x27;</div><input id='attrs-c24d3a14-2a64-41ef-a719-612805834ce0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c24d3a14-2a64-41ef-a719-612805834ce0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a16e1055-2f84-4f35-9985-818f5b356500' class='xr-var-data-in' type='checkbox'><label for='data-a16e1055-2f84-4f35-9985-818f5b356500' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;02&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:sun_azimuth</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>153.1 147.4 152.8 ... 144.5 155.1</div><input id='attrs-d561c8a1-707b-4eb7-bcac-ddeb8115ccc3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d561c8a1-707b-4eb7-bcac-ddeb8115ccc3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1d12ce03-a464-4f87-b34a-3cd73fcdd00a' class='xr-var-data-in' type='checkbox'><label for='data-1d12ce03-a464-4f87-b34a-3cd73fcdd00a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([153.060597  , 147.41212011, 152.76126009, 151.98923408,
       151.19789422, 150.89485366, 150.03846055, 144.91933227,
       144.04180054, 144.86244825, 150.72646427, 150.44461538,
       149.51617669, 148.56086567, 149.46801819, 148.45451191,
       147.40978676, 142.85681032, 141.81468636, 140.74482628,
       141.55187268, 144.78233984, 138.33465749, 145.84278983,
       144.42541147, 145.00816754, 136.76306805, 135.21181003,
       144.65994033, 143.09399826, 141.46025897, 139.61258808,
       129.8755412 , 127.7377408 , 139.07262075, 136.83448846,
       134.47838978, 137.64581503, 127.58324767, 125.28029428,
       137.05251486, 126.91478205, 124.55641003, 128.70901606,
       122.13197972, 132.1202135 , 118.78691088, 116.02561791,
       128.02599189, 127.53745319, 124.26609583, 114.08061589,
       111.16873681, 122.76889912, 115.60719449, 125.02801343,
       114.65999833, 111.82706652, 114.54966646, 124.89560339,
       121.62828736, 114.5851837 , 111.80820903, 124.97507677,
       121.73331785, 115.08348692, 112.37929672, 125.65411322,
       115.31962795, 112.64502412, 116.4997775 , 127.37025358,
       124.4213705 , 129.27189955, 118.68309011, 116.26215017,
       120.83369518, 132.29312683, 129.75607163, 134.18329828,
...
       142.55261905, 141.35184566, 140.10558531, 144.73932068,
       156.14994302, 155.14883375, 146.67242703, 145.67400746,
       157.84927327, 156.94384967, 156.0077217 , 147.17585803,
       146.19476039, 145.1903814 , 148.32587686, 159.25950209,
       148.74524628, 159.60687367, 158.8029483 , 160.38141095,
       150.02889277, 149.20358716, 160.64823362, 159.90813855,
       150.33760004, 149.53098555, 148.70395696, 151.24041626,
       150.49125632, 151.84136877, 151.13976487, 150.56305797,
       152.14233196, 162.06735348, 161.46157767, 152.17618033,
       162.05590883, 161.45707804, 160.84631412, 161.94353296,
       152.13085487, 151.50617374, 161.86606697, 161.28718133,
       160.69713025, 152.06509946, 151.4472435 , 150.81728333,
       161.45379058, 160.88741718, 151.68612362, 151.08682087,
       150.47808244, 161.30049006, 160.73633159, 151.07720484,
       150.48907044, 159.51499671, 149.68047146, 159.83708746,
       159.27393684, 149.99943731, 149.41515151, 158.91455743,
       148.97750902, 158.63406751, 158.057127  , 157.46919034,
       148.65870604, 148.06736769, 147.45957526, 157.30114819,
       156.08419794, 156.21069205, 154.93646744, 145.8037765 ,
       145.16251249, 144.50953657, 155.11245406])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>platform</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;landsat-8&#x27; ... &#x27;landsat-8&#x27;</div><input id='attrs-9ce2af73-7196-49bf-9b19-bda849c5cfa0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9ce2af73-7196-49bf-9b19-bda849c5cfa0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ad707a12-7c64-4368-b694-f587cfbf8614' class='xr-var-data-in' type='checkbox'><label for='data-ad707a12-7c64-4368-b694-f587cfbf8614' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-8&#x27;, &#x27;landsat-7&#x27;,
       &#x27;landsat-7&#x27;, &#x27;landsat-7&#x27;, &#x27;landsat-8&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>eo:cloud_cover</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.14 0.0 0.94 4.66 ... 3.0 0.0 8.92</div><input id='attrs-fded6fca-a16f-4a34-87d7-331d89f39118' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fded6fca-a16f-4a34-87d7-331d89f39118' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-98bd6486-dd53-449d-bf95-9f8f175b8d42' class='xr-var-data-in' type='checkbox'><label for='data-98bd6486-dd53-449d-bf95-9f8f175b8d42' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.400e-01, 0.000e+00, 9.400e-01, 4.660e+00, 1.327e+01, 1.118e+01,
       1.765e+01, 3.000e+00, 0.000e+00, 6.000e+00, 1.266e+01, 1.200e+00,
       3.720e+00, 1.520e+00, 1.880e+00, 5.500e-01, 0.000e+00, 1.000e+00,
       1.000e+00, 1.000e+00, 0.000e+00, 1.940e+01, 1.400e+01, 3.850e+00,
       1.112e+01, 1.704e+01, 0.000e+00, 5.000e+00, 3.600e-01, 4.700e-01,
       1.006e+01, 1.601e+01, 3.000e+00, 1.100e+01, 2.930e+00, 1.250e+00,
       1.138e+01, 2.910e+00, 6.000e+00, 9.000e+00, 6.400e-01, 3.000e+00,
       1.200e+01, 7.860e+00, 1.200e+01, 5.000e-01, 9.000e+00, 2.000e+00,
       1.620e+00, 7.510e+00, 6.580e+00, 7.000e+00, 1.000e+00, 1.341e+01,
       1.000e+00, 1.300e-01, 0.000e+00, 0.000e+00, 5.000e+00, 3.800e-01,
       7.110e+00, 0.000e+00, 6.000e+00, 1.500e-01, 1.750e+00, 0.000e+00,
       2.000e+00, 1.000e-02, 0.000e+00, 0.000e+00, 3.000e+00, 1.270e+00,
       1.510e+00, 5.000e-02, 1.000e+00, 1.000e+00, 0.000e+00, 4.000e-02,
       1.000e-01, 2.410e+00, 0.000e+00, 1.000e+00, 1.000e+00, 0.000e+00,
       7.430e+00, 4.000e+00, 2.680e+00, 5.000e+00, 1.000e+00, 2.000e+00,
       9.000e+00, 4.000e-02, 1.300e-01, 0.000e+00, 0.000e+00, 1.000e+00,
       1.700e+01, 6.000e-02, 4.700e-01, 6.400e-01, 7.510e+00, 1.000e+00,
       9.000e+00, 1.207e+01, 0.000e+00, 0.000e+00, 1.000e+00, 2.000e+00,
       1.500e-01, 8.400e-01, 0.000e+00, 0.000e+00, 2.000e-02, 7.000e-02,
       6.300e-01, 2.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 3.770e+00,
       0.000e+00, 4.600e-01, 4.090e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       3.000e-02, 3.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       1.400e+01, 1.100e+01, 9.000e+00, 3.000e+00, 1.800e+01, 9.170e+00,
       3.690e+00, 0.000e+00, 5.400e-01, 1.460e+00, 3.000e-02, 5.700e-01,
       2.000e+00, 2.000e+00, 9.970e+00, 5.700e-01, 9.000e-02, 1.000e+00,
       1.000e+00, 0.000e+00, 2.730e+00, 1.980e+01, 0.000e+00, 0.000e+00,
       0.000e+00, 8.900e-01, 2.100e+00, 1.000e+00, 0.000e+00, 6.100e+00,
       8.000e+00, 1.170e+00, 1.000e-02, 1.600e+01, 1.000e+01, 1.535e+01,
       1.000e+01, 1.315e+01, 1.116e+01, 1.460e+00, 1.600e+01, 1.300e+01,
       3.000e+00, 8.000e-01, 1.075e+01, 7.900e+00, 1.724e+01, 0.000e+00,
       3.000e+00, 0.000e+00, 8.920e+00])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:correction</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;L2SP&#x27;</div><input id='attrs-06c9445a-8c48-45d4-8bf6-38dcc5e262b3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-06c9445a-8c48-45d4-8bf6-38dcc5e262b3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e4fa52c5-d154-4b2c-91a9-3210d602b6e8' class='xr-var-data-in' type='checkbox'><label for='data-e4fa52c5-d154-4b2c-91a9-3210d602b6e8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;L2SP&#x27;, dtype=&#x27;&lt;U4&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>instruments</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>[&#x27;oli&#x27;, &#x27;tirs&#x27;] ... [&#x27;oli&#x27;, &#x27;tirs&#x27;]</div><input id='attrs-299586cb-9e59-43a4-9cb6-9ec0436be820' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-299586cb-9e59-43a4-9cb6-9ec0436be820' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-61c65355-ca58-44a4-a9d8-c6892bf06c9b' class='xr-var-data-in' type='checkbox'><label for='data-61c65355-ca58-44a4-a9d8-c6892bf06c9b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
...
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]),
       list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;]), list([&#x27;etm+&#x27;]),
       list([&#x27;etm+&#x27;]), list([&#x27;etm+&#x27;]), list([&#x27;oli&#x27;, &#x27;tirs&#x27;])],
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_row</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U3</div><div class='xr-var-preview xr-preview'>&#x27;033&#x27; &#x27;033&#x27; &#x27;033&#x27; ... &#x27;035&#x27; &#x27;033&#x27;</div><input id='attrs-b81fa140-dc51-49e0-9a33-0326eec26367' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b81fa140-dc51-49e0-9a33-0326eec26367' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6857ee34-e395-4daf-93a7-528c75540052' class='xr-var-data-in' type='checkbox'><label for='data-6857ee34-e395-4daf-93a7-528c75540052' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;034&#x27;, &#x27;035&#x27;,
       &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;033&#x27;, &#x27;034&#x27;,
       &#x27;035&#x27;, &#x27;033&#x27;, &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;035&#x27;, &#x27;033&#x27;, &#x27;035&#x27;, &#x27;033&#x27;,
       &#x27;034&#x27;, &#x27;035&#x27;, &#x27;033&#x27;], dtype=&#x27;&lt;U3&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_category</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;T1&#x27;</div><input id='attrs-7e01d536-4f9f-4c2b-b994-97ec17be0057' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7e01d536-4f9f-4c2b-b994-97ec17be0057' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cc706686-35da-4ee5-b694-c28e1f630ae5' class='xr-var-data-in' type='checkbox'><label for='data-cc706686-35da-4ee5-b694-c28e1f630ae5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;T1&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>30</div><input id='attrs-98436fa8-adc0-4a91-bbdd-d00b1bdf695f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-98436fa8-adc0-4a91-bbdd-d00b1bdf695f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-998dbe9c-0c06-464c-8d57-2c3bf5578c19' class='xr-var-data-in' type='checkbox'><label for='data-998dbe9c-0c06-464c-8d57-2c3bf5578c19' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(30)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_path</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U3</div><div class='xr-var-preview xr-preview'>&#x27;045&#x27; &#x27;044&#x27; &#x27;043&#x27; ... &#x27;043&#x27; &#x27;045&#x27;</div><input id='attrs-12916861-a949-4238-a4e5-b86697a98fa4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-12916861-a949-4238-a4e5-b86697a98fa4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ca3c8c0e-84ed-405f-ab23-0e8823e38c67' class='xr-var-data-in' type='checkbox'><label for='data-ca3c8c0e-84ed-405f-ab23-0e8823e38c67' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;046&#x27;, &#x27;045&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;,
       &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;,
       &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;,
       &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;,
       &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;045&#x27;, &#x27;045&#x27;,
       &#x27;043&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;046&#x27;,
       &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;,
       &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;,
       &#x27;043&#x27;, &#x27;045&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;046&#x27;, &#x27;045&#x27;, &#x27;044&#x27;, &#x27;044&#x27;,
       &#x27;044&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;043&#x27;, &#x27;044&#x27;, &#x27;044&#x27;, &#x27;043&#x27;,
       &#x27;043&#x27;, &#x27;043&#x27;, &#x27;045&#x27;], dtype=&#x27;&lt;U3&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:sun_elevation</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>31.14 29.33 31.71 ... 24.73 27.91</div><input id='attrs-ec7c6934-262c-49e1-a730-7ce14ef24b6e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ec7c6934-262c-49e1-a730-7ce14ef24b6e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-406c5b25-45e1-4427-ba15-69b66fdf99ea' class='xr-var-data-in' type='checkbox'><label for='data-406c5b25-45e1-4427-ba15-69b66fdf99ea' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([31.13850722, 29.33345078, 31.70709976, 32.85222732, 33.98889343,
       34.9827108 , 36.1012119 , 32.982675  , 34.00120431, 33.55862895,
       36.20243196, 36.9005139 , 38.00757476, 39.102841  , 39.44478068,
       40.53514017, 41.61156314, 37.34771056, 38.32288262, 39.28188589,
       39.89617539, 49.31334081, 45.82538024, 49.04880299, 50.07211231,
       50.95179278, 48.35588544, 49.20589676, 51.69620275, 52.69699183,
       53.67183656, 59.43107799, 56.20842579, 56.90398483, 59.99894643,
       60.88567368, 61.7299018 , 61.33813644, 57.90664564, 58.54716756,
       61.83158464, 58.33585926, 58.96212752, 65.31380257, 60.68592119,
       64.98308091, 61.41328482, 61.84773262, 66.38906275, 66.48871604,
       67.11428752, 62.29306717, 62.61032285, 67.24634981, 61.89160917,
       66.4739705 , 61.51359251, 61.84146913, 61.15836576, 66.06357602,
       66.62794459, 60.98958995, 61.31609425, 65.90817715, 66.4745067 ,
       60.29185822, 60.62865732, 65.23432442, 60.0633694 , 60.40903798,
       59.16455712, 64.09776187, 64.7231073 , 63.0149807 , 57.80598769,
       58.23611764, 56.59915731, 61.38766828, 62.12775309, 60.36652504,
       59.93781064, 54.86362079, 55.42550871, 53.80537747, 57.84332465,
       58.72128428, 59.5603776 , 56.03772283, 51.24948958, 51.95984845,
       49.46552552, 53.515874  , 54.52550382, 47.56224989, 48.39672006,
       47.00132255, 46.74814017, 48.54056782, 49.6576017 , 50.75667959,
       46.88517807, 42.83755448, 43.79295956, 46.21941839, 42.22221633,
       43.18771127, 44.13458484, 40.02248359, 43.17528236, 44.36940297,
       37.79316222, 38.8357261 , 40.79261141, 42.01143173, 43.22080779,
       37.15522376, 38.20812975, 39.24916877, 35.56006336, 38.4371768 ,
       34.93021184, 37.77826688, 39.0215805 , 36.15113885, 32.75449635,
       33.85875437, 35.51967537, 36.77687788, 32.14839369, 33.25814739,
       34.35781043, 30.08585883, 31.21078917, 28.15611345, 29.29093097,
       29.89999649, 26.39589882, 29.15335149, 30.4291206 , 25.93376511,
       28.70873973, 29.9846543 , 31.25572517, 27.685406  , 24.45148105,
       25.59149293, 27.3180654 , 28.59155017, 29.86109325, 24.07423685,
       25.21337753, 26.34603576, 26.21790982, 27.48665103, 22.93027346,
       24.06352952, 25.18746206, 25.96221884, 27.22926535, 22.07639602,
       23.19969859, 27.78797555, 24.12296004, 24.93413252, 26.18192046,
       21.44974896, 22.55593439, 24.95225452, 21.35310181, 25.02353356,
       26.25532211, 27.48271588, 21.38799866, 22.46834321, 23.54373648,
       25.70776647, 28.12971964, 26.6421628 , 29.03214561, 22.67139963,
       23.70508499, 24.73096613, 27.91297341])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:off_nadir</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-1dae902a-514f-4e2f-a9e9-497f86638174' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1dae902a-514f-4e2f-a9e9-497f86638174' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-588b0026-e2ca-4871-ae53-2216460e5379' class='xr-var-data-in' type='checkbox'><label for='data-588b0026-e2ca-4871-ae53-2216460e5379' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:cloud_cover_land</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.19 0.0 0.94 4.62 ... 3.0 0.0 5.41</div><input id='attrs-340885ae-e466-433a-9369-2f7c15596d9b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-340885ae-e466-433a-9369-2f7c15596d9b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fc9469d9-9bfd-4d20-86c9-4780276be40c' class='xr-var-data-in' type='checkbox'><label for='data-fc9469d9-9bfd-4d20-86c9-4780276be40c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.900e-01, 0.000e+00, 9.400e-01, 4.620e+00, 1.249e+01, 1.545e+01,
       2.406e+01, 3.000e+00, 0.000e+00, 0.000e+00, 1.150e+00, 1.200e+00,
       3.730e+00, 2.500e-01, 1.880e+00, 8.500e-01, 5.000e-02, 1.000e+00,
       1.000e+00, 0.000e+00, 0.000e+00, 3.564e+01, 1.400e+01, 3.850e+00,
       1.112e+01, 3.000e-02, 0.000e+00, 0.000e+00, 3.600e-01, 1.100e-01,
       1.200e-01, 2.720e+00, 3.000e+00, 1.000e+00, 2.930e+00, 1.250e+00,
       1.700e-01, 7.450e+00, 3.000e+00, 1.000e+00, 6.400e-01, 3.000e+00,
       1.300e+01, 7.630e+00, 1.700e+01, 5.000e-01, 9.000e+00, 1.000e+00,
       4.000e-01, 7.510e+00, 7.980e+00, 7.000e+00, 1.000e+00, 8.200e-01,
       1.000e+00, 1.300e-01, 0.000e+00, 0.000e+00, 0.000e+00, 1.800e-01,
       2.610e+00, 0.000e+00, 1.000e+00, 1.500e-01, 1.710e+00, 0.000e+00,
       0.000e+00, 1.000e-02, 0.000e+00, 0.000e+00, 3.000e+00, 1.270e+00,
       1.480e+00, 5.000e-02, 1.000e+00, 1.000e+00, 0.000e+00, 4.000e-02,
       8.000e-02, 1.700e-01, 0.000e+00, 1.000e+00, 0.000e+00, 0.000e+00,
       7.430e+00, 4.000e+00, 3.170e+00, 5.000e+00, 1.000e+00, 1.000e+00,
       9.000e+00, 4.000e-02, 9.000e-02, 0.000e+00, 0.000e+00, 1.000e+00,
       3.000e+00, 6.000e-02, 4.700e-01, 4.000e-02, 2.691e+01, 1.000e+00,
       8.000e+00, 1.207e+01, 0.000e+00, 0.000e+00, 1.000e+00, 2.000e+00,
       1.500e-01, 8.400e-01, 0.000e+00, 0.000e+00, 2.000e-02, 1.000e-01,
       1.100e-01, 2.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 2.700e-01,
       0.000e+00, 4.600e-01, 4.100e+00, 4.000e-02, 0.000e+00, 0.000e+00,
       3.000e-02, 1.600e-01, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       1.000e+00, 1.400e+01, 3.000e+00, 1.000e+00, 3.000e+00, 7.570e+00,
       4.000e-02, 0.000e+00, 5.400e-01, 1.460e+00, 4.000e-02, 4.000e-02,
       0.000e+00, 0.000e+00, 9.970e+00, 8.100e-01, 3.200e-01, 1.000e+00,
       1.000e+00, 0.000e+00, 3.320e+00, 3.960e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 8.900e-01, 2.100e+00, 2.000e+00, 0.000e+00, 1.058e+01,
       1.100e+01, 1.880e+00, 1.600e-01, 1.600e+01, 1.600e+01, 1.000e+02,
       2.000e+00, 1.315e+01, 1.731e+01, 1.570e+00, 1.600e+01, 1.400e+01,
       4.000e+00, 8.000e-01, 1.379e+01, 7.900e+00, 4.000e-01, 0.000e+00,
       3.000e+00, 0.000e+00, 5.410e+00])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-39ba2f2f-7ebc-4940-8336-a264991b257f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-39ba2f2f-7ebc-4940-8336-a264991b257f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f1cada96-cb4c-45b8-bacb-052a417be24d' class='xr-var-data-in' type='checkbox'><label for='data-f1cada96-cb4c-45b8-bacb-052a417be24d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0,...</div><input id='attrs-0ce14699-8e74-498e-b4d2-50983b3e948d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0ce14699-8e74-498e-b4d2-50983b3e948d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8277ca14-d4c2-4a9e-9126-09006d0b9486' class='xr-var-data-in' type='checkbox'><label for='data-8277ca14-d4c2-4a9e-9126-09006d0b9486' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;offset&#x27;: -0.2, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;spatial_resolution&#x27;: 30},
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Red Band&#x27; ... &#x27;Short-wave Infra...</div><input id='attrs-ddac2516-6736-4c6f-8a46-c2a0dbf358be' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ddac2516-6736-4c6f-8a46-c2a0dbf358be' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fe32c177-93e2-447a-82f9-d62404ba36c5' class='xr-var-data-in' type='checkbox'><label for='data-fe32c177-93e2-447a-82f9-d62404ba36c5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Red Band&#x27;, &#x27;Green Band&#x27;, &#x27;Blue Band&#x27;, &#x27;Near Infrared Band 0.8&#x27;,
       &#x27;Short-wave Infrared Band 1.6&#x27;], dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-f4eea591-d7b1-4b68-aece-3ccf85702989' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f4eea591-d7b1-4b68-aece-3ccf85702989' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-341bf74f-45fc-43d3-996f-21309e87ce30' class='xr-var-data-in' type='checkbox'><label for='data-341bf74f-45fc-43d3-996f-21309e87ce30' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-c74a8820-bcc9-4fb5-b84d-bf01ed4cd6c9' class='xr-section-summary-in' type='checkbox'  ><label for='section-c74a8820-bcc9-4fb5-b84d-bf01ed4cd6c9' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-55333c65-17ac-4072-b907-e7dfe411989e' class='xr-index-data-in' type='checkbox'/><label for='index-55333c65-17ac-4072-b907-e7dfe411989e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2020-02-06 18:51:55.125422&#x27;, &#x27;2020-02-07 18:24:41.082486&#x27;,
               &#x27;2020-02-08 18:39:33.230747&#x27;, &#x27;2020-02-08 18:39:57.113314&#x27;,
               &#x27;2020-02-08 18:40:21.004352&#x27;, &#x27;2020-02-15 18:46:06.622682&#x27;,
               &#x27;2020-02-15 18:46:30.509486&#x27;, &#x27;2020-02-16 18:18:26.204154&#x27;,
               &#x27;2020-02-16 18:18:50.091152&#x27;, &#x27;2020-02-21 18:36:19.004475&#x27;,
               ...
               &#x27;2021-01-01 17:58:20.131679&#x27;, &#x27;2021-01-01 17:58:44.021034&#x27;,
               &#x27;2021-01-09 18:39:43.203959&#x27;, &#x27;2021-01-09 18:40:30.981802&#x27;,
               &#x27;2021-01-16 18:45:50.467085&#x27;, &#x27;2021-01-16 18:46:38.240692&#x27;,
               &#x27;2021-01-17 17:56:48.817687&#x27;, &#x27;2021-01-17 17:57:12.705228&#x27;,
               &#x27;2021-01-17 17:57:36.593523&#x27;, &#x27;2021-01-23 18:52:00.186800&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=183, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>band</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-bad4ffe1-c34c-4763-bf2a-469208b02b96' class='xr-index-data-in' type='checkbox'/><label for='index-bad4ffe1-c34c-4763-bf2a-469208b02b96' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir08&#x27;, &#x27;swir16&#x27;], dtype=&#x27;object&#x27;, name=&#x27;band&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-fe461a52-d5d5-469a-84f4-06bd0599d742' class='xr-index-data-in' type='checkbox'/><label for='index-fe461a52-d5d5-469a-84f4-06bd0599d742' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([544110.0, 544140.0, 544170.0, 544200.0, 544230.0, 544260.0,
              544290.0, 544320.0, 544350.0, 544380.0,
              ...
              555810.0, 555840.0, 555870.0, 555900.0, 555930.0, 555960.0,
              555990.0, 556020.0, 556050.0, 556080.0],
             dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=400))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-10f76e11-0689-4490-af36-e430146509dc' class='xr-index-data-in' type='checkbox'/><label for='index-10f76e11-0689-4490-af36-e430146509dc' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([4186860.0, 4186830.0, 4186800.0, 4186770.0, 4186740.0, 4186710.0,
              4186680.0, 4186650.0, 4186620.0, 4186590.0,
              ...
              4175160.0, 4175130.0, 4175100.0, 4175070.0, 4175040.0, 4175010.0,
              4174980.0, 4174950.0, 4174920.0, 4174890.0],
             dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=400))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f3047746-8a75-43db-ad56-0151f345438a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f3047746-8a75-43db-ad56-0151f345438a' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>spec :</span></dt><dd>RasterSpec(epsg=32610, bounds=(407580, 4037010, 694320, 4327230), resolutions_xy=(30, 30))</dd><dt><span>crs :</span></dt><dd>epsg:32610</dd><dt><span>transform :</span></dt><dd>| 30.00, 0.00, 407580.00|
| 0.00,-30.00, 4327230.00|
| 0.00, 0.00, 1.00|</dd><dt><span>resolution :</span></dt><dd>30</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NDVI</span> <span class="o">=</span> <span class="p">(</span><span class="n">area_of_interest</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;swir16&#39;</span><span class="p">)</span> <span class="o">-</span> 
        <span class="n">area_of_interest</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;nir08&#39;</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">area_of_interest</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;swir16&#39;</span><span class="p">)</span> <span class="o">+</span> 
                                               <span class="n">area_of_interest</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;nir08&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Perhaps we are also interested in obtaining an average NDVI across the entire year. Like before we can write this calculation before computing so that we only keep the data that we’re interested persistant in memory. The <code class="docutils literal notranslate"><span class="pre">persist</span></code> function is an alternative to calling <code class="docutils literal notranslate"><span class="pre">compute</span></code> that triggers the computation and stores the results so that subsequent computations can reuse these stored values. This can be useful if we intend to repeat a calculation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">dask</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">ProgressBar</span><span class="p">():</span>
    <span class="n">av_NDVI</span> <span class="o">=</span> <span class="n">NDVI</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">persist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>We can visualize this using <code class="docutils literal notranslate"><span class="pre">dask</span></code>’s built in plotting functionality.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">av_NDVI</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">vmin</span><span class="o">=-</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdBu_r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f02f0db2080&gt;
</pre></div>
</div>
<img alt="../_images/dask_for_geoscientists_68_1.png" src="../_images/dask_for_geoscientists_68_1.png" />
</div>
</div>
</section>
<section id="operating-sci-kit-image-with-dask-for-quick-segmentation">
<h3>Operating Sci-kit Image with Dask for Quick Segmentation<a class="headerlink" href="#operating-sci-kit-image-with-dask-for-quick-segmentation" title="Permalink to this headline">#</a></h3>
<p>What if we want to do something more complicated, like something that requires packages from <code class="docutils literal notranslate"><span class="pre">sklearn</span></code>? We can also pair <code class="docutils literal notranslate"><span class="pre">sklearn</span></code> functionality with dask arrays. First we’ll take the yearly average of the luminance of our data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">luminance</span><span class="p">(</span><span class="n">dask_arr</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">((</span><span class="n">dask_arr</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.2125</span><span class="p">)</span> <span class="o">+</span>
              <span class="p">(</span><span class="n">dask_arr</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.7154</span><span class="p">)</span> <span class="o">+</span>
              <span class="p">(</span><span class="n">dask_arr</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.0721</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lum</span> <span class="o">=</span> <span class="n">luminance</span><span class="p">(</span><span class="n">area_of_interest</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">av_lum</span> <span class="o">=</span> <span class="n">lum</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">av_lum</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-6f74f18ec9af45035c661e3ac7f51d1b&#x27; (y: 400, x: 400)&gt;
dask.array&lt;nanmedian, shape=(400, 400), dtype=float64, chunksize=(302, 302), chunktype=numpy.ndarray&gt;
Coordinates: (12/14)
  * x                            (x) float64 5.441e+05 5.441e+05 ... 5.561e+05
  * y                            (y) float64 4.187e+06 4.187e+06 ... 4.175e+06
    landsat:wrs_type             &lt;U1 &#x27;2&#x27;
    description                  &lt;U28 &#x27;Landsat Collection 2 Level-2&#x27;
    landsat:collection_number    &lt;U2 &#x27;02&#x27;
    landsat:correction           &lt;U4 &#x27;L2SP&#x27;
    ...                           ...
    view:off_nadir               int64 0
    proj:epsg                    int64 32610
    raster:bands                 object {&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;off...
    epsg                         int64 32610
    band                         &lt;U6 &#x27;blue&#x27;
    title                        &lt;U28 &#x27;Blue Band&#x27;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-6f74f18ec9af45035c661e3ac7f51d1b'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>y</span>: 400</li><li><span class='xr-has-index'>x</span>: 400</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-4b77639f-4c60-4571-bf41-621a05940bcf' class='xr-array-in' type='checkbox' checked><label for='section-4b77639f-4c60-4571-bf41-621a05940bcf' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(302, 302), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.22 MiB </td>
                        <td> 712.53 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (400, 400) </td>
                        <td> (302, 302) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 4 chunks in 14 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="90" x2="120" y2="90" />
  <line x1="0" y1="120" x2="120" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="90" y1="0" x2="90" y2="120" />
  <line x1="120" y1="0" x2="120" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >400</text>
  <text x="140.000000" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,60.000000)">400</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-f094fb3f-d7af-4888-a382-04a7ab6299eb' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f094fb3f-d7af-4888-a382-04a7ab6299eb' class='xr-section-summary' >Coordinates: <span>(14)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.441e+05 5.441e+05 ... 5.561e+05</div><input id='attrs-b4e360b7-d799-46e7-ad09-a2ac6dacf883' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b4e360b7-d799-46e7-ad09-a2ac6dacf883' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7eee313a-e645-4859-a1d5-59d12c474319' class='xr-var-data-in' type='checkbox'><label for='data-7eee313a-e645-4859-a1d5-59d12c474319' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([544110., 544140., 544170., ..., 556020., 556050., 556080.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.187e+06 4.187e+06 ... 4.175e+06</div><input id='attrs-298ce7d4-f2ac-4681-ac23-aa2f4ec3e612' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-298ce7d4-f2ac-4681-ac23-aa2f4ec3e612' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-091c49e6-a29f-4918-8515-4a0dce4c5d67' class='xr-var-data-in' type='checkbox'><label for='data-091c49e6-a29f-4918-8515-4a0dce4c5d67' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4186860., 4186830., 4186800., ..., 4174950., 4174920., 4174890.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;2&#x27;</div><input id='attrs-05a87d98-b059-4202-91b3-4039a0534ca0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-05a87d98-b059-4202-91b3-4039a0534ca0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-433da965-53c6-4683-9309-303d30025f1f' class='xr-var-data-in' type='checkbox'><label for='data-433da965-53c6-4683-9309-303d30025f1f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;2&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>description</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Landsat Collection 2 Level-2&#x27;</div><input id='attrs-5988f496-6997-4d62-94b7-1e30157e4293' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5988f496-6997-4d62-94b7-1e30157e4293' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-96cf574d-b4e1-40a2-bab0-61621fd8e1a3' class='xr-var-data-in' type='checkbox'><label for='data-96cf574d-b4e1-40a2-bab0-61621fd8e1a3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Landsat Collection 2 Level-2&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;02&#x27;</div><input id='attrs-ef08cd86-c16e-4636-8845-48eadb07bc35' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ef08cd86-c16e-4636-8845-48eadb07bc35' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8cd5d8a5-5b24-4510-b3fa-fd742445eebd' class='xr-var-data-in' type='checkbox'><label for='data-8cd5d8a5-5b24-4510-b3fa-fd742445eebd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;02&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:correction</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;L2SP&#x27;</div><input id='attrs-865efa21-b369-47b5-889d-cbf4533b8af6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-865efa21-b369-47b5-889d-cbf4533b8af6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e59d858e-0980-481f-9019-8fca1a6a6edd' class='xr-var-data-in' type='checkbox'><label for='data-e59d858e-0980-481f-9019-8fca1a6a6edd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;L2SP&#x27;, dtype=&#x27;&lt;U4&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_category</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;T1&#x27;</div><input id='attrs-b15a4298-829b-4fd3-9a3e-cc2314bdfc10' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b15a4298-829b-4fd3-9a3e-cc2314bdfc10' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-03bbad41-80f0-47d6-9706-dd393a0f7a2c' class='xr-var-data-in' type='checkbox'><label for='data-03bbad41-80f0-47d6-9706-dd393a0f7a2c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;T1&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>30</div><input id='attrs-0160e2ed-c7e6-4762-8d34-16b627975cc1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0160e2ed-c7e6-4762-8d34-16b627975cc1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-436c1364-0272-4f21-8939-3322fc06db80' class='xr-var-data-in' type='checkbox'><label for='data-436c1364-0272-4f21-8939-3322fc06db80' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(30)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:off_nadir</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-cf76ddf7-7d2a-46ae-ab40-042a584fdb03' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-cf76ddf7-7d2a-46ae-ab40-042a584fdb03' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-26c64bb4-f8b3-4132-a971-7b3b1c35edf4' class='xr-var-data-in' type='checkbox'><label for='data-26c64bb4-f8b3-4132-a971-7b3b1c35edf4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-70aace59-2ef4-4091-babc-caa0d997e9f0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-70aace59-2ef4-4091-babc-caa0d997e9f0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-79ded3a5-987b-4491-853d-ef859179c12d' class='xr-var-data-in' type='checkbox'><label for='data-79ded3a5-987b-4491-853d-ef859179c12d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0,...</div><input id='attrs-f6c9e321-489f-4998-bc6c-add95935f284' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f6c9e321-489f-4998-bc6c-add95935f284' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-977f13dc-cc54-4aba-b473-9375fc761604' class='xr-var-data-in' type='checkbox'><label for='data-977f13dc-cc54-4aba-b473-9375fc761604' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;offset&#x27;: -0.2, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;spatial_resolution&#x27;: 30},
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-df90bc81-ebd0-4c92-9aed-a0061f697ac5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-df90bc81-ebd0-4c92-9aed-a0061f697ac5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7b07ba0c-c03d-47bd-a12a-2177ec2e4bd8' class='xr-var-data-in' type='checkbox'><label for='data-7b07ba0c-c03d-47bd-a12a-2177ec2e4bd8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;blue&#x27;</div><input id='attrs-35c4a153-b153-4671-b896-cfd0bbbb510f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-35c4a153-b153-4671-b896-cfd0bbbb510f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e34c4567-5396-4784-9236-53f140d2b897' class='xr-var-data-in' type='checkbox'><label for='data-e34c4567-5396-4784-9236-53f140d2b897' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;blue&#x27;, dtype=&#x27;&lt;U6&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Blue Band&#x27;</div><input id='attrs-e13b9b2c-8b6a-4dde-84f7-355801142365' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e13b9b2c-8b6a-4dde-84f7-355801142365' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c164399b-47a9-4c46-b09d-d6bd9146020f' class='xr-var-data-in' type='checkbox'><label for='data-c164399b-47a9-4c46-b09d-d6bd9146020f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Blue Band&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3c3ec2ef-e7a5-4ba1-b138-04125f714eaf' class='xr-section-summary-in' type='checkbox'  ><label for='section-3c3ec2ef-e7a5-4ba1-b138-04125f714eaf' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d2faf2e5-6928-4748-8590-9ba6fb3a2f05' class='xr-index-data-in' type='checkbox'/><label for='index-d2faf2e5-6928-4748-8590-9ba6fb3a2f05' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([544110.0, 544140.0, 544170.0, 544200.0, 544230.0, 544260.0,
              544290.0, 544320.0, 544350.0, 544380.0,
              ...
              555810.0, 555840.0, 555870.0, 555900.0, 555930.0, 555960.0,
              555990.0, 556020.0, 556050.0, 556080.0],
             dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=400))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-5a834a55-77f3-43d7-b43b-3361bbeab0a9' class='xr-index-data-in' type='checkbox'/><label for='index-5a834a55-77f3-43d7-b43b-3361bbeab0a9' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([4186860.0, 4186830.0, 4186800.0, 4186770.0, 4186740.0, 4186710.0,
              4186680.0, 4186650.0, 4186620.0, 4186590.0,
              ...
              4175160.0, 4175130.0, 4175100.0, 4175070.0, 4175040.0, 4175010.0,
              4174980.0, 4174950.0, 4174920.0, 4174890.0],
             dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=400))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0206aa64-7305-49d4-8103-10cb390ffcd3' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0206aa64-7305-49d4-8103-10cb390ffcd3' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">av_lum</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys_r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f02f0598fd0&gt;
</pre></div>
</div>
<img alt="../_images/dask_for_geoscientists_74_1.png" src="../_images/dask_for_geoscientists_74_1.png" />
</div>
</div>
<p>We still haven’t computed our data, so this is still operating in lazy load, which means that even though we had to bring the data into memory for our plot we didn’t hold it there, and so dask produced the image and then removed the data from memory.</p>
<p>We are about to switch over to using a function from another package, <code class="docutils literal notranslate"><span class="pre">sci-kit</span> <span class="pre">image</span></code>, and this function will require pulling the data into memory in order to run a more complex function. This means that it is important to have enough memory to allow for the function to store whatever copies of the data it needs while it is computing, but it will only save the output in memory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">skimage.filters</span> <span class="kn">import</span> <span class="n">gaussian</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">apply_gaussian</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">gaussian</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">preserve_range</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;reflect&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">smoothed</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">apply_ufunc</span><span class="p">(</span><span class="n">apply_gaussian</span><span class="p">,</span> <span class="n">av_lum</span><span class="p">,</span>
                          <span class="n">dask</span><span class="o">=</span><span class="s1">&#39;allowed&#39;</span><span class="p">,</span> <span class="n">output_dtypes</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">],</span>
                          <span class="n">input_core_dims</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]],</span> <span class="n">output_core_dims</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">smoothed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-6f74f18ec9af45035c661e3ac7f51d1b&#x27; ()&gt;
array(0.07944183)
Coordinates:
    landsat:wrs_type             &lt;U1 &#x27;2&#x27;
    description                  &lt;U28 &#x27;Landsat Collection 2 Level-2&#x27;
    landsat:collection_number    &lt;U2 &#x27;02&#x27;
    landsat:correction           &lt;U4 &#x27;L2SP&#x27;
    landsat:collection_category  &lt;U2 &#x27;T1&#x27;
    gsd                          int64 30
    view:off_nadir               int64 0
    proj:epsg                    int64 32610
    raster:bands                 object {&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;off...
    epsg                         int64 32610
    band                         &lt;U6 &#x27;blue&#x27;
    title                        &lt;U28 &#x27;Blue Band&#x27;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-6f74f18ec9af45035c661e3ac7f51d1b'</div></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-0ed4f27e-a2a0-4a54-94cc-07a6e607b093' class='xr-array-in' type='checkbox' checked><label for='section-0ed4f27e-a2a0-4a54-94cc-07a6e607b093' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.07944</span></div><div class='xr-array-data'><pre>array(0.07944183)</pre></div></div></li><li class='xr-section-item'><input id='section-ebced595-4b4e-47c3-b173-abf7f68d5a31' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ebced595-4b4e-47c3-b173-abf7f68d5a31' class='xr-section-summary' >Coordinates: <span>(12)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>landsat:wrs_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;2&#x27;</div><input id='attrs-f9c5c274-88e0-4f6d-8e4d-217ecfce5df3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f9c5c274-88e0-4f6d-8e4d-217ecfce5df3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-83c21336-bbde-4156-9caa-a066db66347e' class='xr-var-data-in' type='checkbox'><label for='data-83c21336-bbde-4156-9caa-a066db66347e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;2&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>description</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Landsat Collection 2 Level-2&#x27;</div><input id='attrs-de10de0a-a2ac-4934-a34d-a495d2fed129' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-de10de0a-a2ac-4934-a34d-a495d2fed129' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-07c8e243-4c64-4370-b97c-fd0a0e7e9245' class='xr-var-data-in' type='checkbox'><label for='data-07c8e243-4c64-4370-b97c-fd0a0e7e9245' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Landsat Collection 2 Level-2&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;02&#x27;</div><input id='attrs-baae4373-b617-4261-a80e-a530a367b81f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-baae4373-b617-4261-a80e-a530a367b81f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7f995151-b33e-45f6-b711-6dcc27f641d7' class='xr-var-data-in' type='checkbox'><label for='data-7f995151-b33e-45f6-b711-6dcc27f641d7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;02&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:correction</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;L2SP&#x27;</div><input id='attrs-68bf570e-e1e4-4bc7-b51f-98fbcdc3dd5d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-68bf570e-e1e4-4bc7-b51f-98fbcdc3dd5d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ed5e2e3d-4dfd-46d9-93f9-937111d0546a' class='xr-var-data-in' type='checkbox'><label for='data-ed5e2e3d-4dfd-46d9-93f9-937111d0546a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;L2SP&#x27;, dtype=&#x27;&lt;U4&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landsat:collection_category</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;T1&#x27;</div><input id='attrs-af8b0484-3a3d-4a97-ab5c-5dcf8b83e0fa' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-af8b0484-3a3d-4a97-ab5c-5dcf8b83e0fa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8a8c6572-3e73-45ca-aea4-4df2050a731b' class='xr-var-data-in' type='checkbox'><label for='data-8a8c6572-3e73-45ca-aea4-4df2050a731b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;T1&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>30</div><input id='attrs-ec3f1402-f176-4661-a11e-f4ab122fc251' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ec3f1402-f176-4661-a11e-f4ab122fc251' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1c95feb2-b79e-4649-9f17-c0f26b0c852b' class='xr-var-data-in' type='checkbox'><label for='data-1c95feb2-b79e-4649-9f17-c0f26b0c852b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(30)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:off_nadir</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-f59e984e-697b-4f1c-98b1-d61ea0453623' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f59e984e-697b-4f1c-98b1-d61ea0453623' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-09cb1dc3-de0b-4de5-8835-35fafb33dc4c' class='xr-var-data-in' type='checkbox'><label for='data-09cb1dc3-de0b-4de5-8835-35fafb33dc4c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-100c598f-3fef-40d8-81f3-0afb7391ccd0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-100c598f-3fef-40d8-81f3-0afb7391ccd0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-efd4e267-440c-4039-b964-d2a0400e4b39' class='xr-var-data-in' type='checkbox'><label for='data-efd4e267-440c-4039-b964-d2a0400e4b39' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0,...</div><input id='attrs-eacf6326-bdbc-4cf3-b46b-934c9a574198' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-eacf6326-bdbc-4cf3-b46b-934c9a574198' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-876e0990-7ef9-423f-9985-956bd2b8684d' class='xr-var-data-in' type='checkbox'><label for='data-876e0990-7ef9-423f-9985-956bd2b8684d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;scale&#x27;: 2.75e-05, &#x27;nodata&#x27;: 0, &#x27;offset&#x27;: -0.2, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;spatial_resolution&#x27;: 30},
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>32610</div><input id='attrs-d7325596-493b-4991-a43b-a412c74d6e7b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d7325596-493b-4991-a43b-a412c74d6e7b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0cfcd85e-aef5-4065-8f42-a59d6064f57e' class='xr-var-data-in' type='checkbox'><label for='data-0cfcd85e-aef5-4065-8f42-a59d6064f57e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32610)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;blue&#x27;</div><input id='attrs-be4970e9-9781-45be-8148-322259a25ee0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-be4970e9-9781-45be-8148-322259a25ee0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-56340e65-60a3-4032-a002-3a59b3fe8957' class='xr-var-data-in' type='checkbox'><label for='data-56340e65-60a3-4032-a002-3a59b3fe8957' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;blue&#x27;, dtype=&#x27;&lt;U6&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U28</div><div class='xr-var-preview xr-preview'>&#x27;Blue Band&#x27;</div><input id='attrs-9a5c1cf1-84c0-4669-aec9-a632059fc261' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9a5c1cf1-84c0-4669-aec9-a632059fc261' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-78eaa8b4-1970-457c-abfc-9fee6c300067' class='xr-var-data-in' type='checkbox'><label for='data-78eaa8b4-1970-457c-abfc-9fee6c300067' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;Blue Band&#x27;, dtype=&#x27;&lt;U28&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3a653219-b532-4878-8ca9-138cad290f1d' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-3a653219-b532-4878-8ca9-138cad290f1d' class='xr-section-summary'  title='Expand/collapse section'>Indexes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-4eaefb01-ffe6-4298-a34c-e65f99be5749' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-4eaefb01-ffe6-4298-a34c-e65f99be5749' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<p>Once we have run a gaussian filter on our data, we can run a simple threshold our images for a basic segmentation. This will not be as nice as segmentation done with more complex computer vision methods, but can be useful for finding easily delineated objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">absolute_threshold</span> <span class="o">=</span> <span class="n">smoothed</span> <span class="o">&gt;</span> <span class="mf">0.175</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">absolute_threshold</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys_r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f02f066d060&gt;
</pre></div>
</div>
<img alt="../_images/dask_for_geoscientists_82_1.png" src="../_images/dask_for_geoscientists_82_1.png" />
</div>
</div>
<p>If we wanted to run machine learning models using <code class="docutils literal notranslate"><span class="pre">sci-kit</span> <span class="pre">learn</span></code> we could apply the same principle. The really beautiful thing about using <code class="docutils literal notranslate"><span class="pre">dask</span></code> for these tasks is that our initial dataset was estimated to be &gt;600 GB, and we are able to do these relatively high level tasks while streaming in only 20.22 GB that we needed. If we needed to be careful, we could be even more specific about how we implement dask to ensure that we are incredibly efficient with our persistant memory usage.</p>
<p>For a deeper dive into using <code class="docutils literal notranslate"><span class="pre">dask</span></code> with an applied Cryosphere project, head to <a class="reference external" href="https://github.com/CryoInTheCloud/CryoCloudWebsite/blob/main/book/tutorials/ARCOdata_writingZarrs.ipynb">Jonny Kingslake’s tutorial</a> on using ARCO data with <code class="docutils literal notranslate"><span class="pre">zarr</span></code> and <code class="docutils literal notranslate"><span class="pre">dask</span></code>.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./tutorials"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="SlideRule_applications/SlideRule_applications.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">CryoCloud Tutorials: SlideRule</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ARCOdata_writingZarrs.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Analysis-ready, cloud-optimized data: writing zarr directories</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mines Glaciology Laboratory, Colorado School of Mines<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>