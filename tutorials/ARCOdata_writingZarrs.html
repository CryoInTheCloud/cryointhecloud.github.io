
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Analysis-ready, cloud-optimized data: writing zarr directories &#8212; CryoCloud</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Determining ice sheet change using Greenland Ice Mapping Project (GrIMP) tools" href="GrIMP/GrIMP_tutorial_AGU23.html" />
    <link rel="prev" title="Parallelized Cloud Computing with Dask for Geoscientists" href="dask_for_geoscientists.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LZVEY6377Z"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-LZVEY6377Z');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CryoCloud</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to CryoCloud!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Details
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../content/about.html">
   About
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/mission.html">
   Mission
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/Getting_Started.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/hub_best_practices.html">
   CryoCloud Best Practices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/Code_of_Conduct.html">
   CryoCloud Code of Conduct
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../content/citing_cryocloud.html">
   Citing CryoCloud
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Cloud Training
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../recorded/index.html">
   Cloud Training
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  How Tos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../how_tos/index.html">
   How To…
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../how_tos/background/index.html">
     Background Work
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/github.html">
       GitHub
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/jupyterhub.html">
       JupyterHub
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/git.html">
       Git
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/earthdata.html">
       Earthdata Login
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/earthengine.html">
       Google Earth Engine Sign-Up
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/swc.html">
       Software Carpentry Training
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/background/python.html">
       Python Installation and Environments
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/nbdime/nbdime-hub.html">
       nbdime - version control for Jupyter notebooks
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../how_tos/data_access/index.html">
     Data access
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/data_access/Cloud_Sentinel2_access.html">
       Sentinel 2 cloud access
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/data_access/Instructions_for_configuring_AWS_S3_bucket.html">
       Instructions for setting up an AWS S3 bucket for your project
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how_tos/data_access/CryoCloudScratchBucket.html">
       Using CryoCloud S3 Scratch Bucket
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/ICESat2_Earthaccess.html">
       Earthaccess
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Earthdata_Cloud__Single_File__HTTPS_Access_COG_Example.html">
       COG HTTPS
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Earthdata_Cloud__Single_File_Direct_S3_Access_COG_Example.html">
       COG Direct S3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Multi-File_Direct_S3_Access_COG_Example.html">
       Multi-COG Direct S3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Earthdata_Cloud__Single_File__Direct_S3_Access_NetCDF4_Example.html">
       NetCDF/HDF5 Direct S3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../external/Multi-File_Direct_S3_Access_NetCDF_Example.html">
       Multi-NetCDF/HDF5 Direct S3
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Tutorials
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="IS2_cloud_Landsat_integration.html">
     ICESat-2 and Landsat cloud access and data integration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="IS2_ATL15_surface_height_anomalies/IS2_ATL15_surface_height_anomalies.html">
     Using ICESat-2 ATL15 (Gridded Arctic Land Ice Height) to investigate ice-surface height anomalies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../external/ICESAT2_ATL10-h5coro_large_scale_time_series.html">
     ICESat-2 ATL10-h5coro large-scale time series
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="NASA-Earthdata-Cloud-Access/index.html">
     NASA Earthdata Cloud and data access using earthaccess and icepyx
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/1.Intro-Earthdata-Cloud.html">
       Introduction to NASA Earthdata Cloud and ICESat-2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/2.earthdata_search.html">
       Using NASA Earthdata Search to Discover Cloud-Hosted Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/3.earthaccess.html">
       NASA Earthdata Cloud and data access using earthaccess and icepyx
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="NASA-Earthdata-Cloud-Access/4.icepyx.html">
       NASA Earthdata Cloud and data access using earthaccess and icepyx
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="SlideRule_applications/SlideRule_applications.html">
     CryoCloud Tutorials: SlideRule
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dask_for_geoscientists.html">
     Parallelized Cloud Computing with Dask for Geoscientists
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Analysis-ready, cloud-optimized data: writing zarr directories
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="GrIMP/GrIMP_tutorial_AGU23.html">
     Determining ice sheet change using Greenland Ice Mapping Project (GrIMP) tools
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contributing
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../contributing/index.html">
   Contributing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/workflow.html">
     Workflow for contributing to our JupyterBook (or any GitHub project)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/glossary.html">
   Glossaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/IS2-resources.html">
   ICESat-2 Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/open_science.html">
   Open Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/open_source_software.html">
   Open-source Software
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/questions.html">
   How to Get Help
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/CryoInTheCloud/CryoCloudWebsite/main?urlpath=lab/tree/book/tutorials/ARCOdata_writingZarrs.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/CryoInTheCloud/CryoCloudWebsite"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/CryoInTheCloud/CryoCloudWebsite/issues/new?title=Issue%20on%20page%20%2Ftutorials/ARCOdata_writingZarrs.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/CryoInTheCloud/CryoCloudWebsite/edit/main/book/tutorials/ARCOdata_writingZarrs.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/tutorials/ARCOdata_writingZarrs.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#high-dimensional-data-xarray">
   High-dimensional data: xarray
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chunking-dask">
   Chunking: dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xarray-dask">
   Xarray + dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#apres-data-xarray-zarr-dask">
   ApRES data –&gt; xarray –&gt; zarr –&gt; dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structure-of-an-apres-survey">
   Structure of an ApRES survey
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#chirps">
     Chirps
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bursts">
     Bursts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attenuator-settings">
     Attenuator settings
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-raw-apres-data">
   Load raw ApRES data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data">
     The data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#put-these-data-into-an-xarray">
     Put these data into an xarray
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-to-a-zarr-directory">
     Write to a zarr directory
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#save-each-dat-to-a-single-zarr-store">
       Save each
       <code class="docutils literal notranslate">
        <span class="pre">
         dat
        </span>
       </code>
       to a single zarr store
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#lazily-load-every-all-zarr-store-and-write-to-one-big-zarr">
       Lazily load every all zarr store and write to one big zarr
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#take-home-messages">
   Take home messages
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Analysis-ready, cloud-optimized data: writing zarr directories</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#high-dimensional-data-xarray">
   High-dimensional data: xarray
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chunking-dask">
   Chunking: dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#xarray-dask">
   Xarray + dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#apres-data-xarray-zarr-dask">
   ApRES data –&gt; xarray –&gt; zarr –&gt; dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structure-of-an-apres-survey">
   Structure of an ApRES survey
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#chirps">
     Chirps
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bursts">
     Bursts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attenuator-settings">
     Attenuator settings
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-raw-apres-data">
   Load raw ApRES data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data">
     The data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#put-these-data-into-an-xarray">
     Put these data into an xarray
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-to-a-zarr-directory">
     Write to a zarr directory
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#save-each-dat-to-a-single-zarr-store">
       Save each
       <code class="docutils literal notranslate">
        <span class="pre">
         dat
        </span>
       </code>
       to a single zarr store
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#lazily-load-every-all-zarr-store-and-write-to-one-big-zarr">
       Lazily load every all zarr store and write to one big zarr
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#take-home-messages">
   Take home messages
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="analysis-ready-cloud-optimized-data-writing-zarr-directories">
<h1>Analysis-ready, cloud-optimized data: writing zarr directories<a class="headerlink" href="#analysis-ready-cloud-optimized-data-writing-zarr-directories" title="Permalink to this headline">#</a></h1>
<p>This tutorial will introduce analysis-ready, cloud-optimized (ARCO) data and describe one real-world example of restructuring some glaciological data and writing to an ARCO format, zarr. The data is from an ice-penetrating radar called the autonomous phase-sensitive radio-echo sounder (ApRES).</p>
<p>A zarr store (or directory) is an ARCO data format that is well suited for storing high-dimensional, large-volume data in the cloud. A key characteristic of zarr stores is that they are ‘chunked’, meaning that the data is broken up into smaller pieces. This allows for parallel access to the data, which is very useful when you are trying to access subsets of large datasets and/or process large volumes of data in parallel.</p>
<p>Depending on the configuration of the ApRES radar, and the survey conducted, it can produce high-dimensional, very large datasets, making these data suitable for storage with zarrs.</p>
<p>Before we get to the ApRES data we should understand high-dimensional data and chunked data.</p>
<section id="high-dimensional-data-xarray">
<h2>High-dimensional data: xarray<a class="headerlink" href="#high-dimensional-data-xarray" title="Permalink to this headline">#</a></h2>
<p>For our purposes, high-dimensional data is data that has more than 2 dimensions. For example, a typical satallite image is a two-dimensional dataset with two spatial dimensions, x and y (or latitude and longitude). If the satallite image has multiple bands it would be a three-dimensional dataset with two spatial dimensions and one band dimension, and if the satellite data consisted of multiple images quired at the same locatin  at different timethe dataset would be four-dimensional with two spatial dimensions, one band dimension, and one time dimension.</p>
<p><a class="reference external" href="http://xarray.pydata.org/en/stable/">Xarray</a> is a python package designed to store and process high-dimensional data. It is built on top of <a class="reference external" href="https://numpy.org/">numpy</a>, which deals with arrays of data. Xarray adds very useful features including labelling of dimensions and broadcasting of operations across dimensions. Xarray also works very nicely with <a class="reference external" href="https://dask.org/">dask</a>, which is yet another python package, which allows you to ‘chunk’ your data and process it in parallel.</p>
<p>Before we get onto dask, let’s take a look at xarray.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s load an example xarray dataset, supplied with the xarray package:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">tutorial</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;air_temperature&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:  (lat: 25, time: 2920, lon: 53)
Coordinates:
  * lat      (lat) float32 75.0 72.5 70.0 67.5 65.0 ... 25.0 22.5 20.0 17.5 15.0
  * lon      (lon) float32 200.0 202.5 205.0 207.5 ... 322.5 325.0 327.5 330.0
  * time     (time) datetime64[ns] 2013-01-01 ... 2014-12-31T18:00:00
Data variables:
    air      (time, lat, lon) float32 241.2 242.5 243.5 ... 296.5 296.2 295.7
Attributes:
    Conventions:  COARDS
    title:        4x daily NMC reanalysis (1948)
    description:  Data is from NMC initialized reanalysis\n(4x/day).  These a...
    platform:     Model
    references:   http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanaly...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-f23b7d12-d73d-4615-96d4-49826b4c7780' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-f23b7d12-d73d-4615-96d4-49826b4c7780' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>lat</span>: 25</li><li><span class='xr-has-index'>time</span>: 2920</li><li><span class='xr-has-index'>lon</span>: 53</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d3d923dc-2be6-4910-90ab-54e05669734b' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d3d923dc-2be6-4910-90ab-54e05669734b' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>75.0 72.5 70.0 ... 20.0 17.5 15.0</div><input id='attrs-2c138fdb-6388-4fd8-9df6-270db4b36868' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2c138fdb-6388-4fd8-9df6-270db4b36868' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-83b27f31-8f41-4541-978e-bd4c27e13a5a' class='xr-var-data-in' type='checkbox'><label for='data-83b27f31-8f41-4541-978e-bd4c27e13a5a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>Latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([75. , 72.5, 70. , 67.5, 65. , 62.5, 60. , 57.5, 55. , 52.5, 50. , 47.5,
       45. , 42.5, 40. , 37.5, 35. , 32.5, 30. , 27.5, 25. , 22.5, 20. , 17.5,
       15. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>200.0 202.5 205.0 ... 327.5 330.0</div><input id='attrs-b27e6e3e-b459-4b41-874a-c0f7ba01c527' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b27e6e3e-b459-4b41-874a-c0f7ba01c527' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3e3b44c5-f555-4e9e-aac8-a64f751e22a1' class='xr-var-data-in' type='checkbox'><label for='data-3e3b44c5-f555-4e9e-aac8-a64f751e22a1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>Longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([200. , 202.5, 205. , 207.5, 210. , 212.5, 215. , 217.5, 220. , 222.5,
       225. , 227.5, 230. , 232.5, 235. , 237.5, 240. , 242.5, 245. , 247.5,
       250. , 252.5, 255. , 257.5, 260. , 262.5, 265. , 267.5, 270. , 272.5,
       275. , 277.5, 280. , 282.5, 285. , 287.5, 290. , 292.5, 295. , 297.5,
       300. , 302.5, 305. , 307.5, 310. , 312.5, 315. , 317.5, 320. , 322.5,
       325. , 327.5, 330. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2013-01-01 ... 2014-12-31T18:00:00</div><input id='attrs-2259ba22-549e-4969-9e99-1b884f9e3dbb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2259ba22-549e-4969-9e99-1b884f9e3dbb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b52d05e9-428f-4fee-9641-4e3db5553ac9' class='xr-var-data-in' type='checkbox'><label for='data-b52d05e9-428f-4fee-9641-4e3db5553ac9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2013-01-01T00:00:00.000000000&#x27;, &#x27;2013-01-01T06:00:00.000000000&#x27;,
       &#x27;2013-01-01T12:00:00.000000000&#x27;, ..., &#x27;2014-12-31T06:00:00.000000000&#x27;,
       &#x27;2014-12-31T12:00:00.000000000&#x27;, &#x27;2014-12-31T18:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1fdeeffb-6815-4e93-91d6-1511687023d9' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1fdeeffb-6815-4e93-91d6-1511687023d9' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>air</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>241.2 242.5 243.5 ... 296.2 295.7</div><input id='attrs-215497dd-393b-4843-a263-ee6c36ced247' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-215497dd-393b-4843-a263-ee6c36ced247' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e37b1c2a-7f90-484d-a3a0-688bdb209d8b' class='xr-var-data-in' type='checkbox'><label for='data-e37b1c2a-7f90-484d-a3a0-688bdb209d8b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>4xDaily Air temperature at sigma level 995</dd><dt><span>units :</span></dt><dd>degK</dd><dt><span>precision :</span></dt><dd>2</dd><dt><span>GRIB_id :</span></dt><dd>11</dd><dt><span>GRIB_name :</span></dt><dd>TMP</dd><dt><span>var_desc :</span></dt><dd>Air temperature</dd><dt><span>dataset :</span></dt><dd>NMC Reanalysis</dd><dt><span>level_desc :</span></dt><dd>Surface</dd><dt><span>statistic :</span></dt><dd>Individual Obs</dd><dt><span>parent_stat :</span></dt><dd>Other</dd><dt><span>actual_range :</span></dt><dd>[185.16 322.1 ]</dd></dl></div><div class='xr-var-data'><pre>array([[[241.2    , 242.5    , 243.5    , ..., 232.79999, 235.5    ,
         238.59999],
        [243.79999, 244.5    , 244.7    , ..., 232.79999, 235.29999,
         239.29999],
        [250.     , 249.79999, 248.89   , ..., 233.2    , 236.39   ,
         241.7    ],
        ...,
        [296.6    , 296.19998, 296.4    , ..., 295.4    , 295.1    ,
         294.69998],
        [295.9    , 296.19998, 296.79   , ..., 295.9    , 295.9    ,
         295.19998],
        [296.29   , 296.79   , 297.1    , ..., 296.9    , 296.79   ,
         296.6    ]],

       [[242.09999, 242.7    , 243.09999, ..., 232.     , 233.59999,
         235.79999],
        [243.59999, 244.09999, 244.2    , ..., 231.     , 232.5    ,
         235.7    ],
        [253.2    , 252.89   , 252.09999, ..., 230.79999, 233.39   ,
         238.5    ],
...
        [293.69   , 293.88998, 295.38998, ..., 295.09   , 294.69   ,
         294.29   ],
        [296.29   , 297.19   , 297.59   , ..., 295.29   , 295.09   ,
         294.38998],
        [297.79   , 298.38998, 298.49   , ..., 295.69   , 295.49   ,
         295.19   ]],

       [[245.09   , 244.29   , 243.29   , ..., 241.68999, 241.48999,
         241.79   ],
        [249.89   , 249.29   , 248.39   , ..., 239.59   , 240.29   ,
         241.68999],
        [262.99   , 262.19   , 261.38998, ..., 239.89   , 242.59   ,
         246.29   ],
        ...,
        [293.79   , 293.69   , 295.09   , ..., 295.29   , 295.09   ,
         294.69   ],
        [296.09   , 296.88998, 297.19   , ..., 295.69   , 295.69   ,
         295.19   ],
        [297.69   , 298.09   , 298.09   , ..., 296.49   , 296.19   ,
         295.69   ]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ec1c4755-936d-42bf-b2a8-6cae09bdaf73' class='xr-section-summary-in' type='checkbox'  ><label for='section-ec1c4755-936d-42bf-b2a8-6cae09bdaf73' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-7c0357e9-5306-444c-a38c-5231893773ea' class='xr-index-data-in' type='checkbox'/><label for='index-7c0357e9-5306-444c-a38c-5231893773ea' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([75.0, 72.5, 70.0, 67.5, 65.0, 62.5, 60.0, 57.5, 55.0, 52.5, 50.0,
              47.5, 45.0, 42.5, 40.0, 37.5, 35.0, 32.5, 30.0, 27.5, 25.0, 22.5,
              20.0, 17.5, 15.0],
             dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b0fb22cd-6a96-4057-b571-b857b19d4802' class='xr-index-data-in' type='checkbox'/><label for='index-b0fb22cd-6a96-4057-b571-b857b19d4802' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([200.0, 202.5, 205.0, 207.5, 210.0, 212.5, 215.0, 217.5, 220.0,
              222.5, 225.0, 227.5, 230.0, 232.5, 235.0, 237.5, 240.0, 242.5,
              245.0, 247.5, 250.0, 252.5, 255.0, 257.5, 260.0, 262.5, 265.0,
              267.5, 270.0, 272.5, 275.0, 277.5, 280.0, 282.5, 285.0, 287.5,
              290.0, 292.5, 295.0, 297.5, 300.0, 302.5, 305.0, 307.5, 310.0,
              312.5, 315.0, 317.5, 320.0, 322.5, 325.0, 327.5, 330.0],
             dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-6670c29c-440c-444a-bca4-5ee8b66baea0' class='xr-index-data-in' type='checkbox'/><label for='index-6670c29c-440c-444a-bca4-5ee8b66baea0' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2013-01-01 00:00:00&#x27;, &#x27;2013-01-01 06:00:00&#x27;,
               &#x27;2013-01-01 12:00:00&#x27;, &#x27;2013-01-01 18:00:00&#x27;,
               &#x27;2013-01-02 00:00:00&#x27;, &#x27;2013-01-02 06:00:00&#x27;,
               &#x27;2013-01-02 12:00:00&#x27;, &#x27;2013-01-02 18:00:00&#x27;,
               &#x27;2013-01-03 00:00:00&#x27;, &#x27;2013-01-03 06:00:00&#x27;,
               ...
               &#x27;2014-12-29 12:00:00&#x27;, &#x27;2014-12-29 18:00:00&#x27;,
               &#x27;2014-12-30 00:00:00&#x27;, &#x27;2014-12-30 06:00:00&#x27;,
               &#x27;2014-12-30 12:00:00&#x27;, &#x27;2014-12-30 18:00:00&#x27;,
               &#x27;2014-12-31 00:00:00&#x27;, &#x27;2014-12-31 06:00:00&#x27;,
               &#x27;2014-12-31 12:00:00&#x27;, &#x27;2014-12-31 18:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=2920, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3336d9eb-69c5-4a2e-8985-d12407af2e39' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3336d9eb-69c5-4a2e-8985-d12407af2e39' class='xr-section-summary' >Attributes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Conventions :</span></dt><dd>COARDS</dd><dt><span>title :</span></dt><dd>4x daily NMC reanalysis (1948)</dd><dt><span>description :</span></dt><dd>Data is from NMC initialized reanalysis
(4x/day).  These are the 0.9950 sigma level values.</dd><dt><span>platform :</span></dt><dd>Model</dd><dt><span>references :</span></dt><dd>http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis.html</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>This provides a convenient view the structure of the data. We see that there are three dimensions (<code class="docutils literal notranslate"><span class="pre">lat</span></code>, <code class="docutils literal notranslate"><span class="pre">lon</span></code> and <code class="docutils literal notranslate"><span class="pre">time</span></code>) and one variable (<code class="docutils literal notranslate"><span class="pre">air</span></code>). The variable <code class="docutils literal notranslate"><span class="pre">air</span></code> and the coorinates <code class="docutils literal notranslate"><span class="pre">lat</span></code>, <code class="docutils literal notranslate"><span class="pre">lon</span></code> and <code class="docutils literal notranslate"><span class="pre">time</span></code> are all stored as numpy arrays. You can access the numpy array underlying the variable in dataset <code class="docutils literal notranslate"><span class="pre">air</span></code> and verify its type as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">air</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[[241.2    , 242.5    ],
        [243.79999, 244.5    ]],

       [[242.09999, 242.7    ],
        [243.59999, 244.09999]]], dtype=float32)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The variable air has type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">air</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The variable air has type &lt;class &#39;numpy.ndarray&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>A great thing about xarray is that it allows to quickly look at, process, and plot this kind of data. For example, we can plot the mean of <code class="docutils literal notranslate"><span class="pre">air</span></code> over the <code class="docutils literal notranslate"><span class="pre">time</span></code> dimension as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">air</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ARCOdata_writingZarrs_9_0.png" src="../_images/ARCOdata_writingZarrs_9_0.png" />
</div>
</div>
<p>Xarray has many other useful capabilites for slicing, coarsening, and plottnig data, some of which we will use below.</p>
</section>
<section id="chunking-dask">
<h2>Chunking: dask<a class="headerlink" href="#chunking-dask" title="Permalink to this headline">#</a></h2>
<p>The xarray above (<code class="docutils literal notranslate"><span class="pre">ds</span></code>) contained numpy arrays. To process or plot any part of a variable in <code class="docutils literal notranslate"><span class="pre">ds</span></code>, we need to load all of it into memory. This is fine if the data are small; the dataset above was only</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e6</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15.499672 MB
</pre></div>
</div>
</div>
</div>
<p>but this would be an issue if a variable was, say, 100GB. This would be too large to fit into memory on most computers and would complicate processing or plotting the data. This is where chunking and dask come in. Dask provides a new data structure, called a dask array, which is like a numpy array except that it is split up into smaller pieces called chunks. Let’s load an example dask array (straight from the dask <a class="reference external" href="https://examples.dask.org/array.html#Create-Random-array">documentation</a>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dask.array</span> <span class="k">as</span> <span class="nn">da</span>
<span class="n">dask_array</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">),</span> <span class="n">chunks</span><span class="o">=</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">))</span>
<span class="n">dask_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 7.28 TiB </td>
                        <td> 190.73 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (1000000, 1000000) </td>
                        <td> (5000, 5000) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 40000 chunks in 1 graph layer </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="31" x2="120" y2="31" />
  <line x1="0" y1="37" x2="120" y2="37" />
  <line x1="0" y1="43" x2="120" y2="43" />
  <line x1="0" y1="50" x2="120" y2="50" />
  <line x1="0" y1="56" x2="120" y2="56" />
  <line x1="0" y1="63" x2="120" y2="63" />
  <line x1="0" y1="69" x2="120" y2="69" />
  <line x1="0" y1="75" x2="120" y2="75" />
  <line x1="0" y1="81" x2="120" y2="81" />
  <line x1="0" y1="88" x2="120" y2="88" />
  <line x1="0" y1="94" x2="120" y2="94" />
  <line x1="0" y1="100" x2="120" y2="100" />
  <line x1="0" y1="106" x2="120" y2="106" />
  <line x1="0" y1="113" x2="120" y2="113" />
  <line x1="0" y1="120" x2="120" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="120" />
  <line x1="12" y1="0" x2="12" y2="120" />
  <line x1="18" y1="0" x2="18" y2="120" />
  <line x1="25" y1="0" x2="25" y2="120" />
  <line x1="31" y1="0" x2="31" y2="120" />
  <line x1="37" y1="0" x2="37" y2="120" />
  <line x1="43" y1="0" x2="43" y2="120" />
  <line x1="50" y1="0" x2="50" y2="120" />
  <line x1="56" y1="0" x2="56" y2="120" />
  <line x1="63" y1="0" x2="63" y2="120" />
  <line x1="69" y1="0" x2="69" y2="120" />
  <line x1="75" y1="0" x2="75" y2="120" />
  <line x1="81" y1="0" x2="81" y2="120" />
  <line x1="88" y1="0" x2="88" y2="120" />
  <line x1="94" y1="0" x2="94" y2="120" />
  <line x1="100" y1="0" x2="100" y2="120" />
  <line x1="106" y1="0" x2="106" y2="120" />
  <line x1="113" y1="0" x2="113" y2="120" />
  <line x1="120" y1="0" x2="120" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,120.0 0.0,120.0" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >1000000</text>
  <text x="140.000000" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,140.000000,60.000000)">1000000</text>
</svg>
        </td>
    </tr>
</table></div></div>
</div>
<p>This created a dask array containing random values between -0.5 and 0.5. Calling <code class="docutils literal notranslate"><span class="pre">dask_array</span></code> displays a handy table containing information about this dask array. It’s total size is 7TB! Clearly this is much too large to fit into memory. In fact, nothing has been loaded into memory except the structure of the dask array (i.e. the number and shape of the chunks) and the information needed to create it when we need it (i.e. the method <code class="docutils literal notranslate"><span class="pre">random</span></code>).</p>
<p>The table also includes information on the chunks. There are 40,000 of them and each one is 190MB and 5000 by 5000 elements in size. Note that we chose this chunk size when we created the dask array. This is the key to dask arrays: we can choose the chunk size to suit our needs. You have to <a class="reference external" href="https://blog.dask.org/2021/11/02/choosing-dask-chunk-sizes#rough-rules-of-thumb">make this choice carefully</a> to optimize your processing. And worse, if your chunk sizes end up being non-uniform within a dimension, it causes issues when writing to zarr, as we will see later in our real-world example.</p>
<p>Two advantages of using dask arrays instead of an ordinary numpy arrays are 1) that we can view and plot a subset of the data without loading the whole thing into memory, and 2) we can very easily process the data in parallel.</p>
<p>Let’s first load a subset of the data into memory and plot it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">dask_array_sub</span> <span class="o">=</span> <span class="n">dask_array</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">50</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dask_array_sub</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ARCOdata_writingZarrs_16_0.png" src="../_images/ARCOdata_writingZarrs_16_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This is a very small subset of the data: </span><span class="si">{</span><span class="n">dask_array_sub</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e6</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This is a very small subset of the data: 0.02 MB
</pre></div>
</div>
</div>
</div>
<p>Next, let’s start up a cluster, then load and process a much larger subset of the data in parallel:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dask.distributed</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;tcp://127.0.0.1:44687&quot;</span><span class="p">)</span>
<span class="n">client</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;"> </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px;">Client</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">Client-3bffcb05-94a5-11ee-8237-fedfc22e35c9</p>
        <table style="width: 100%; text-align: left;">

        <tr>

            <td style="text-align: left;"><strong>Connection method:</strong> Direct</td>
            <td style="text-align: left;"></td>

        </tr>


            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/8787/status" target="_blank">/user/jkingslake/proxy/8787/status</a>
                </td>
                <td style="text-align: left;"></td>
            </tr>


        </table>


            <button style="margin-bottom: 12px;" data-commandlinker-command="dask:populate-and-launch-layout" data-commandlinker-args='{"url": "/user/jkingslake/proxy/8787/status" }'>
                Launch dashboard in JupyterLab
            </button>



            <details>
            <summary style="margin-bottom: 20px;"><h3 style="display: inline;">Scheduler Info</h3></summary>
            <div style="">
    <div>
        <div style="width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;"> </div>
        <div style="margin-left: 48px;">
            <h3 style="margin-bottom: 0px;">Scheduler</h3>
            <p style="color: #9D9D9D; margin-bottom: 0px;">Scheduler-8742fd81-1126-4f00-bdde-c23d15dc212f</p>
            <table style="width: 100%; text-align: left;">
                <tr>
                    <td style="text-align: left;">
                        <strong>Comm:</strong> tcp://127.0.0.1:44687
                    </td>
                    <td style="text-align: left;">
                        <strong>Workers:</strong> 10
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Dashboard:</strong> <a href="/user/jkingslake/proxy/8787/status" target="_blank">/user/jkingslake/proxy/8787/status</a>
                    </td>
                    <td style="text-align: left;">
                        <strong>Total threads:</strong> 10
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Started:</strong> 53 minutes ago
                    </td>
                    <td style="text-align: left;">
                        <strong>Total memory:</strong> 77.22 GiB
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <details style="margin-left: 48px;">
        <summary style="margin-bottom: 20px;">
            <h3 style="display: inline;">Workers</h3>
        </summary>


        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 0</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:44825
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/44609/status" target="_blank">/user/jkingslake/proxy/44609/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:37037
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-xrusrulx
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 257.64 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 23.84 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 23.85 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 1</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:34303
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/34319/status" target="_blank">/user/jkingslake/proxy/34319/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:44875
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-noj_uxzl
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 282.04 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 26.31 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 26.32 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 2</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:33765
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/34349/status" target="_blank">/user/jkingslake/proxy/34349/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:40715
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-ytc_vscl
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 257.27 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 26.31 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 26.32 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 3</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:33621
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/44353/status" target="_blank">/user/jkingslake/proxy/44353/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:36015
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-26uxlkk4
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 260.57 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 26.23 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 26.24 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 4</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:33549
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/43931/status" target="_blank">/user/jkingslake/proxy/43931/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:36939
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-ont3pt84
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 256.00 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 26.25 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 26.25 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 5</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:39389
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/37989/status" target="_blank">/user/jkingslake/proxy/37989/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:38275
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-u1xyu750
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 4.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 257.56 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 25.39 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 25.40 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 6</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:33209
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/33623/status" target="_blank">/user/jkingslake/proxy/33623/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:42719
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-he8ryllg
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 253.17 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 19.04 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 19.05 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 7</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:45537
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/38631/status" target="_blank">/user/jkingslake/proxy/38631/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:33827
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-2s1_7a7y
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 265.66 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 19.58 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 19.58 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 8</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:38387
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/36123/status" target="_blank">/user/jkingslake/proxy/36123/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:36867
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-uelpl1pb
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 4.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 252.79 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 26.26 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 26.27 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 9</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:38147
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="/user/jkingslake/proxy/34271/status" target="_blank">/user/jkingslake/proxy/34271/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 7.72 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:46463
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-wmkh3k_e
                        </td>
                    </tr>




                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks executing: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in memory: </strong> 
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Tasks ready: </strong> 
                        </td>
                        <td style="text-align: left;">
                            <strong>Tasks in flight: </strong>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>CPU usage:</strong> 2.0%
                        </td>
                        <td style="text-align: left;">
                            <strong>Last seen: </strong> Just now
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Memory usage: </strong> 256.22 MiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Spilled bytes: </strong> 0 B
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Read bytes: </strong> 19.54 kiB
                        </td>
                        <td style="text-align: left;">
                            <strong>Write bytes: </strong> 19.55 kiB
                        </td>
                    </tr>


                </table>
            </details>
            </div>
        </div>


    </details>
</div>
            </details>


    </div>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dask_array_larger_subset</span> <span class="o">=</span> <span class="n">dask_array</span><span class="p">[:</span><span class="mi">20000</span><span class="p">,:</span><span class="mi">100000</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This subset is a little larger: </span><span class="si">{</span><span class="n">dask_array_larger_subset</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e9</span><span class="si">}</span><span class="s2"> GB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This subset is a little larger: 16.0 GB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>   
<span class="c1"># with 10 workers</span>
<span class="n">dask_array_larger_subset</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 150 ms, sys: 54 ms, total: 204 ms
Wall time: 13.1 s
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5000024450518983
</pre></div>
</div>
</div>
</div>
</section>
<section id="xarray-dask">
<h2>Xarray + dask<a class="headerlink" href="#xarray-dask" title="Permalink to this headline">#</a></h2>
<p>Xarray and dask work very nicely together. The dataset we looked at above (<code class="docutils literal notranslate"><span class="pre">ds</span></code>) was made up of numpy arrays. We can instead tell xarray to load the data as dask arrays, therefore avoiding loading anything into memory until we need it. This is called lazily loading the data. We do this by defining the <code class="docutils literal notranslate"><span class="pre">chunks</span></code> argument when we load the data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_dask</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">tutorial</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">,</span>
                              <span class="n">chunks</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">})</span>
<span class="n">ds_dask</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:  (lat: 25, time: 2920, lon: 53)
Coordinates:
  * lat      (lat) float32 75.0 72.5 70.0 67.5 65.0 ... 25.0 22.5 20.0 17.5 15.0
  * lon      (lon) float32 200.0 202.5 205.0 207.5 ... 322.5 325.0 327.5 330.0
  * time     (time) datetime64[ns] 2013-01-01 ... 2014-12-31T18:00:00
Data variables:
    air      (time, lat, lon) float32 dask.array&lt;chunksize=(2920, 5, 5), meta=np.ndarray&gt;
Attributes:
    Conventions:  COARDS
    title:        4x daily NMC reanalysis (1948)
    description:  Data is from NMC initialized reanalysis\n(4x/day).  These a...
    platform:     Model
    references:   http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanaly...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-e70ce4d4-9fbf-4321-9b0d-6a8ab373d41b' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-e70ce4d4-9fbf-4321-9b0d-6a8ab373d41b' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>lat</span>: 25</li><li><span class='xr-has-index'>time</span>: 2920</li><li><span class='xr-has-index'>lon</span>: 53</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-e6070682-905e-4eab-9337-e815c83271aa' class='xr-section-summary-in' type='checkbox'  checked><label for='section-e6070682-905e-4eab-9337-e815c83271aa' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>75.0 72.5 70.0 ... 20.0 17.5 15.0</div><input id='attrs-e6cfb907-e9b0-4ab5-9f4c-c1eeccadb950' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e6cfb907-e9b0-4ab5-9f4c-c1eeccadb950' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a8382b6c-54d9-40f1-8077-3d49ca3ac055' class='xr-var-data-in' type='checkbox'><label for='data-a8382b6c-54d9-40f1-8077-3d49ca3ac055' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>Latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([75. , 72.5, 70. , 67.5, 65. , 62.5, 60. , 57.5, 55. , 52.5, 50. , 47.5,
       45. , 42.5, 40. , 37.5, 35. , 32.5, 30. , 27.5, 25. , 22.5, 20. , 17.5,
       15. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>200.0 202.5 205.0 ... 327.5 330.0</div><input id='attrs-89218dd9-90fe-44e6-97f7-e8c1bc11f20b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-89218dd9-90fe-44e6-97f7-e8c1bc11f20b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1bdd2006-185b-4c88-bfa1-e5e87f7891f5' class='xr-var-data-in' type='checkbox'><label for='data-1bdd2006-185b-4c88-bfa1-e5e87f7891f5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>Longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([200. , 202.5, 205. , 207.5, 210. , 212.5, 215. , 217.5, 220. , 222.5,
       225. , 227.5, 230. , 232.5, 235. , 237.5, 240. , 242.5, 245. , 247.5,
       250. , 252.5, 255. , 257.5, 260. , 262.5, 265. , 267.5, 270. , 272.5,
       275. , 277.5, 280. , 282.5, 285. , 287.5, 290. , 292.5, 295. , 297.5,
       300. , 302.5, 305. , 307.5, 310. , 312.5, 315. , 317.5, 320. , 322.5,
       325. , 327.5, 330. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2013-01-01 ... 2014-12-31T18:00:00</div><input id='attrs-6fb17a31-300f-490f-87e0-2c687e94a230' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6fb17a31-300f-490f-87e0-2c687e94a230' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-06c3e045-045e-4dd0-bc4f-795e1c1ddaca' class='xr-var-data-in' type='checkbox'><label for='data-06c3e045-045e-4dd0-bc4f-795e1c1ddaca' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2013-01-01T00:00:00.000000000&#x27;, &#x27;2013-01-01T06:00:00.000000000&#x27;,
       &#x27;2013-01-01T12:00:00.000000000&#x27;, ..., &#x27;2014-12-31T06:00:00.000000000&#x27;,
       &#x27;2014-12-31T12:00:00.000000000&#x27;, &#x27;2014-12-31T18:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ddeb9a24-65c5-4ae7-b881-e84542afeea3' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ddeb9a24-65c5-4ae7-b881-e84542afeea3' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>air</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(2920, 5, 5), meta=np.ndarray&gt;</div><input id='attrs-4c62cfb2-ee8a-4cda-b37f-389a521429f9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4c62cfb2-ee8a-4cda-b37f-389a521429f9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-50c3905c-805b-484d-ba64-a88d539ebbac' class='xr-var-data-in' type='checkbox'><label for='data-50c3905c-805b-484d-ba64-a88d539ebbac' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>4xDaily Air temperature at sigma level 995</dd><dt><span>units :</span></dt><dd>degK</dd><dt><span>precision :</span></dt><dd>2</dd><dt><span>GRIB_id :</span></dt><dd>11</dd><dt><span>GRIB_name :</span></dt><dd>TMP</dd><dt><span>var_desc :</span></dt><dd>Air temperature</dd><dt><span>dataset :</span></dt><dd>NMC Reanalysis</dd><dt><span>level_desc :</span></dt><dd>Surface</dd><dt><span>statistic :</span></dt><dd>Individual Obs</dd><dt><span>parent_stat :</span></dt><dd>Other</dd><dt><span>actual_range :</span></dt><dd>[185.16 322.1 ]</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 14.76 MiB </td>
                        <td> 285.16 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (2920, 25, 53) </td>
                        <td> (2920, 5, 5) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 55 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="159" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="80" y2="70" style="stroke-width:2" />
  <line x1="10" y1="5" x2="80" y2="75" />
  <line x1="10" y1="10" x2="80" y2="80" />
  <line x1="10" y1="15" x2="80" y2="85" />
  <line x1="10" y1="20" x2="80" y2="90" />
  <line x1="10" y1="25" x2="80" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="25" style="stroke-width:2" />
  <line x1="80" y1="70" x2="80" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 80.58823529411765,70.58823529411765 80.58823529411765,96.00085180870013 10.0,25.41261651458249" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="38" y2="0" style="stroke-width:2" />
  <line x1="80" y1="70" x2="109" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="80" y2="70" style="stroke-width:2" />
  <line x1="12" y1="0" x2="83" y2="70" />
  <line x1="15" y1="0" x2="85" y2="70" />
  <line x1="18" y1="0" x2="88" y2="70" />
  <line x1="20" y1="0" x2="91" y2="70" />
  <line x1="23" y1="0" x2="94" y2="70" />
  <line x1="26" y1="0" x2="96" y2="70" />
  <line x1="28" y1="0" x2="99" y2="70" />
  <line x1="31" y1="0" x2="102" y2="70" />
  <line x1="34" y1="0" x2="104" y2="70" />
  <line x1="36" y1="0" x2="107" y2="70" />
  <line x1="38" y1="0" x2="109" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 38.48973265594604,0.0 109.0779679500637,70.58823529411765 80.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="80" y1="70" x2="109" y2="70" style="stroke-width:2" />
  <line x1="80" y1="75" x2="109" y2="75" />
  <line x1="80" y1="80" x2="109" y2="80" />
  <line x1="80" y1="85" x2="109" y2="85" />
  <line x1="80" y1="90" x2="109" y2="90" />
  <line x1="80" y1="96" x2="109" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="80" y1="70" x2="80" y2="96" style="stroke-width:2" />
  <line x1="83" y1="70" x2="83" y2="96" />
  <line x1="85" y1="70" x2="85" y2="96" />
  <line x1="88" y1="70" x2="88" y2="96" />
  <line x1="91" y1="70" x2="91" y2="96" />
  <line x1="94" y1="70" x2="94" y2="96" />
  <line x1="96" y1="70" x2="96" y2="96" />
  <line x1="99" y1="70" x2="99" y2="96" />
  <line x1="102" y1="70" x2="102" y2="96" />
  <line x1="104" y1="70" x2="104" y2="96" />
  <line x1="107" y1="70" x2="107" y2="96" />
  <line x1="109" y1="70" x2="109" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="80.58823529411765,70.58823529411765 109.0779679500637,70.58823529411765 109.0779679500637,96.00085180870013 80.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.833102" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >53</text>
  <text x="129.077968" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,129.077968,83.294544)">25</text>
  <text x="35.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,35.294118,80.706734)">2920</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-0b63a7e5-a657-47cb-b1f6-ea4ffce0d286' class='xr-section-summary-in' type='checkbox'  ><label for='section-0b63a7e5-a657-47cb-b1f6-ea4ffce0d286' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2686494b-8aee-4896-af0b-a026ad43bb47' class='xr-index-data-in' type='checkbox'/><label for='index-2686494b-8aee-4896-af0b-a026ad43bb47' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([75.0, 72.5, 70.0, 67.5, 65.0, 62.5, 60.0, 57.5, 55.0, 52.5, 50.0,
              47.5, 45.0, 42.5, 40.0, 37.5, 35.0, 32.5, 30.0, 27.5, 25.0, 22.5,
              20.0, 17.5, 15.0],
             dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-f1e3f0d8-1306-4dce-ae1e-0993486547cf' class='xr-index-data-in' type='checkbox'/><label for='index-f1e3f0d8-1306-4dce-ae1e-0993486547cf' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([200.0, 202.5, 205.0, 207.5, 210.0, 212.5, 215.0, 217.5, 220.0,
              222.5, 225.0, 227.5, 230.0, 232.5, 235.0, 237.5, 240.0, 242.5,
              245.0, 247.5, 250.0, 252.5, 255.0, 257.5, 260.0, 262.5, 265.0,
              267.5, 270.0, 272.5, 275.0, 277.5, 280.0, 282.5, 285.0, 287.5,
              290.0, 292.5, 295.0, 297.5, 300.0, 302.5, 305.0, 307.5, 310.0,
              312.5, 315.0, 317.5, 320.0, 322.5, 325.0, 327.5, 330.0],
             dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-72386e37-934e-4842-8005-839d7acd9b7d' class='xr-index-data-in' type='checkbox'/><label for='index-72386e37-934e-4842-8005-839d7acd9b7d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2013-01-01 00:00:00&#x27;, &#x27;2013-01-01 06:00:00&#x27;,
               &#x27;2013-01-01 12:00:00&#x27;, &#x27;2013-01-01 18:00:00&#x27;,
               &#x27;2013-01-02 00:00:00&#x27;, &#x27;2013-01-02 06:00:00&#x27;,
               &#x27;2013-01-02 12:00:00&#x27;, &#x27;2013-01-02 18:00:00&#x27;,
               &#x27;2013-01-03 00:00:00&#x27;, &#x27;2013-01-03 06:00:00&#x27;,
               ...
               &#x27;2014-12-29 12:00:00&#x27;, &#x27;2014-12-29 18:00:00&#x27;,
               &#x27;2014-12-30 00:00:00&#x27;, &#x27;2014-12-30 06:00:00&#x27;,
               &#x27;2014-12-30 12:00:00&#x27;, &#x27;2014-12-30 18:00:00&#x27;,
               &#x27;2014-12-31 00:00:00&#x27;, &#x27;2014-12-31 06:00:00&#x27;,
               &#x27;2014-12-31 12:00:00&#x27;, &#x27;2014-12-31 18:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=2920, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-060928d3-b1d5-45e5-9dad-ce8387c7e19d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-060928d3-b1d5-45e5-9dad-ce8387c7e19d' class='xr-section-summary' >Attributes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Conventions :</span></dt><dd>COARDS</dd><dt><span>title :</span></dt><dd>4x daily NMC reanalysis (1948)</dd><dt><span>description :</span></dt><dd>Data is from NMC initialized reanalysis
(4x/day).  These are the 0.9950 sigma level values.</dd><dt><span>platform :</span></dt><dd>Model</dd><dt><span>references :</span></dt><dd>http://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis.html</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>Now if we take a look at the variable <code class="docutils literal notranslate"><span class="pre">air</span></code> in <code class="docutils literal notranslate"><span class="pre">ds_dask</span></code> we can see that it is a dask array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_dask</span><span class="o">.</span><span class="n">air</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;air&#x27; (time: 2920, lat: 25, lon: 53)&gt;
dask.array&lt;open_dataset-air, shape=(2920, 25, 53), dtype=float32, chunksize=(2920, 5, 5), chunktype=numpy.ndarray&gt;
Coordinates:
  * lat      (lat) float32 75.0 72.5 70.0 67.5 65.0 ... 25.0 22.5 20.0 17.5 15.0
  * lon      (lon) float32 200.0 202.5 205.0 207.5 ... 322.5 325.0 327.5 330.0
  * time     (time) datetime64[ns] 2013-01-01 ... 2014-12-31T18:00:00
Attributes:
    long_name:     4xDaily Air temperature at sigma level 995
    units:         degK
    precision:     2
    GRIB_id:       11
    GRIB_name:     TMP
    var_desc:      Air temperature
    dataset:       NMC Reanalysis
    level_desc:    Surface
    statistic:     Individual Obs
    parent_stat:   Other
    actual_range:  [185.16 322.1 ]</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'air'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 2920</li><li><span class='xr-has-index'>lat</span>: 25</li><li><span class='xr-has-index'>lon</span>: 53</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-7235923e-c0ef-4361-9a74-dc2c489b8ed2' class='xr-array-in' type='checkbox' checked><label for='section-7235923e-c0ef-4361-9a74-dc2c489b8ed2' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(2920, 5, 5), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 14.76 MiB </td>
                        <td> 285.16 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (2920, 25, 53) </td>
                        <td> (2920, 5, 5) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 55 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="159" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="80" y2="70" style="stroke-width:2" />
  <line x1="10" y1="5" x2="80" y2="75" />
  <line x1="10" y1="10" x2="80" y2="80" />
  <line x1="10" y1="15" x2="80" y2="85" />
  <line x1="10" y1="20" x2="80" y2="90" />
  <line x1="10" y1="25" x2="80" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="25" style="stroke-width:2" />
  <line x1="80" y1="70" x2="80" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 80.58823529411765,70.58823529411765 80.58823529411765,96.00085180870013 10.0,25.41261651458249" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="38" y2="0" style="stroke-width:2" />
  <line x1="80" y1="70" x2="109" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="80" y2="70" style="stroke-width:2" />
  <line x1="12" y1="0" x2="83" y2="70" />
  <line x1="15" y1="0" x2="85" y2="70" />
  <line x1="18" y1="0" x2="88" y2="70" />
  <line x1="20" y1="0" x2="91" y2="70" />
  <line x1="23" y1="0" x2="94" y2="70" />
  <line x1="26" y1="0" x2="96" y2="70" />
  <line x1="28" y1="0" x2="99" y2="70" />
  <line x1="31" y1="0" x2="102" y2="70" />
  <line x1="34" y1="0" x2="104" y2="70" />
  <line x1="36" y1="0" x2="107" y2="70" />
  <line x1="38" y1="0" x2="109" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 38.48973265594604,0.0 109.0779679500637,70.58823529411765 80.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="80" y1="70" x2="109" y2="70" style="stroke-width:2" />
  <line x1="80" y1="75" x2="109" y2="75" />
  <line x1="80" y1="80" x2="109" y2="80" />
  <line x1="80" y1="85" x2="109" y2="85" />
  <line x1="80" y1="90" x2="109" y2="90" />
  <line x1="80" y1="96" x2="109" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="80" y1="70" x2="80" y2="96" style="stroke-width:2" />
  <line x1="83" y1="70" x2="83" y2="96" />
  <line x1="85" y1="70" x2="85" y2="96" />
  <line x1="88" y1="70" x2="88" y2="96" />
  <line x1="91" y1="70" x2="91" y2="96" />
  <line x1="94" y1="70" x2="94" y2="96" />
  <line x1="96" y1="70" x2="96" y2="96" />
  <line x1="99" y1="70" x2="99" y2="96" />
  <line x1="102" y1="70" x2="102" y2="96" />
  <line x1="104" y1="70" x2="104" y2="96" />
  <line x1="107" y1="70" x2="107" y2="96" />
  <line x1="109" y1="70" x2="109" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="80.58823529411765,70.58823529411765 109.0779679500637,70.58823529411765 109.0779679500637,96.00085180870013 80.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.833102" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >53</text>
  <text x="129.077968" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,129.077968,83.294544)">25</text>
  <text x="35.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,35.294118,80.706734)">2920</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-ef5f8a64-01c6-4e4a-824a-a1d5ff52f5ad' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ef5f8a64-01c6-4e4a-824a-a1d5ff52f5ad' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>75.0 72.5 70.0 ... 20.0 17.5 15.0</div><input id='attrs-f67e7ad6-2581-46fc-89b4-ca1e028628c2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f67e7ad6-2581-46fc-89b4-ca1e028628c2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8807803f-527c-4f92-bab7-80fe8359b988' class='xr-var-data-in' type='checkbox'><label for='data-8807803f-527c-4f92-bab7-80fe8359b988' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>Latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([75. , 72.5, 70. , 67.5, 65. , 62.5, 60. , 57.5, 55. , 52.5, 50. , 47.5,
       45. , 42.5, 40. , 37.5, 35. , 32.5, 30. , 27.5, 25. , 22.5, 20. , 17.5,
       15. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>200.0 202.5 205.0 ... 327.5 330.0</div><input id='attrs-fde7f5cb-3681-4fce-bb40-b9c748421c0b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fde7f5cb-3681-4fce-bb40-b9c748421c0b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-08605164-2438-4073-a8fd-098dad776d3c' class='xr-var-data-in' type='checkbox'><label for='data-08605164-2438-4073-a8fd-098dad776d3c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>Longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([200. , 202.5, 205. , 207.5, 210. , 212.5, 215. , 217.5, 220. , 222.5,
       225. , 227.5, 230. , 232.5, 235. , 237.5, 240. , 242.5, 245. , 247.5,
       250. , 252.5, 255. , 257.5, 260. , 262.5, 265. , 267.5, 270. , 272.5,
       275. , 277.5, 280. , 282.5, 285. , 287.5, 290. , 292.5, 295. , 297.5,
       300. , 302.5, 305. , 307.5, 310. , 312.5, 315. , 317.5, 320. , 322.5,
       325. , 327.5, 330. ], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2013-01-01 ... 2014-12-31T18:00:00</div><input id='attrs-e4499222-8dd7-43a1-8897-d0631b8b8268' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e4499222-8dd7-43a1-8897-d0631b8b8268' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c1e6652c-fc8b-4da0-9de5-cd16d8451dd9' class='xr-var-data-in' type='checkbox'><label for='data-c1e6652c-fc8b-4da0-9de5-cd16d8451dd9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2013-01-01T00:00:00.000000000&#x27;, &#x27;2013-01-01T06:00:00.000000000&#x27;,
       &#x27;2013-01-01T12:00:00.000000000&#x27;, ..., &#x27;2014-12-31T06:00:00.000000000&#x27;,
       &#x27;2014-12-31T12:00:00.000000000&#x27;, &#x27;2014-12-31T18:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-47511958-241e-4f82-89da-a14b028f6f58' class='xr-section-summary-in' type='checkbox'  ><label for='section-47511958-241e-4f82-89da-a14b028f6f58' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-608b064a-b98d-48ae-8968-5d92c34c8788' class='xr-index-data-in' type='checkbox'/><label for='index-608b064a-b98d-48ae-8968-5d92c34c8788' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([75.0, 72.5, 70.0, 67.5, 65.0, 62.5, 60.0, 57.5, 55.0, 52.5, 50.0,
              47.5, 45.0, 42.5, 40.0, 37.5, 35.0, 32.5, 30.0, 27.5, 25.0, 22.5,
              20.0, 17.5, 15.0],
             dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2c49c25a-9738-433d-b887-55072de07257' class='xr-index-data-in' type='checkbox'/><label for='index-2c49c25a-9738-433d-b887-55072de07257' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([200.0, 202.5, 205.0, 207.5, 210.0, 212.5, 215.0, 217.5, 220.0,
              222.5, 225.0, 227.5, 230.0, 232.5, 235.0, 237.5, 240.0, 242.5,
              245.0, 247.5, 250.0, 252.5, 255.0, 257.5, 260.0, 262.5, 265.0,
              267.5, 270.0, 272.5, 275.0, 277.5, 280.0, 282.5, 285.0, 287.5,
              290.0, 292.5, 295.0, 297.5, 300.0, 302.5, 305.0, 307.5, 310.0,
              312.5, 315.0, 317.5, 320.0, 322.5, 325.0, 327.5, 330.0],
             dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-83984bb2-79f9-46b9-9916-2294906a327f' class='xr-index-data-in' type='checkbox'/><label for='index-83984bb2-79f9-46b9-9916-2294906a327f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2013-01-01 00:00:00&#x27;, &#x27;2013-01-01 06:00:00&#x27;,
               &#x27;2013-01-01 12:00:00&#x27;, &#x27;2013-01-01 18:00:00&#x27;,
               &#x27;2013-01-02 00:00:00&#x27;, &#x27;2013-01-02 06:00:00&#x27;,
               &#x27;2013-01-02 12:00:00&#x27;, &#x27;2013-01-02 18:00:00&#x27;,
               &#x27;2013-01-03 00:00:00&#x27;, &#x27;2013-01-03 06:00:00&#x27;,
               ...
               &#x27;2014-12-29 12:00:00&#x27;, &#x27;2014-12-29 18:00:00&#x27;,
               &#x27;2014-12-30 00:00:00&#x27;, &#x27;2014-12-30 06:00:00&#x27;,
               &#x27;2014-12-30 12:00:00&#x27;, &#x27;2014-12-30 18:00:00&#x27;,
               &#x27;2014-12-31 00:00:00&#x27;, &#x27;2014-12-31 06:00:00&#x27;,
               &#x27;2014-12-31 12:00:00&#x27;, &#x27;2014-12-31 18:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=2920, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b88e7dfa-f636-4183-89de-496965bc2ba8' class='xr-section-summary-in' type='checkbox'  ><label for='section-b88e7dfa-f636-4183-89de-496965bc2ba8' class='xr-section-summary' >Attributes: <span>(11)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>4xDaily Air temperature at sigma level 995</dd><dt><span>units :</span></dt><dd>degK</dd><dt><span>precision :</span></dt><dd>2</dd><dt><span>GRIB_id :</span></dt><dd>11</dd><dt><span>GRIB_name :</span></dt><dd>TMP</dd><dt><span>var_desc :</span></dt><dd>Air temperature</dd><dt><span>dataset :</span></dt><dd>NMC Reanalysis</dd><dt><span>level_desc :</span></dt><dd>Surface</dd><dt><span>statistic :</span></dt><dd>Individual Obs</dd><dt><span>parent_stat :</span></dt><dd>Other</dd><dt><span>actual_range :</span></dt><dd>[185.16 322.1 ]</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>The convenient thing is that if an xarray contains dask arrays (instead of the usual numpy arrays), operations applied to the xarray will automatically be performed in parallel in the cluster. We will see this in action below using ApRES data.</p>
</section>
<section id="apres-data-xarray-zarr-dask">
<h2>ApRES data –&gt; xarray –&gt; zarr –&gt; dask<a class="headerlink" href="#apres-data-xarray-zarr-dask" title="Permalink to this headline">#</a></h2>
<p>We are now ready to take a look at some real-world data. The data we will look at is from an ApRES radar. We will</p>
<ul class="simple">
<li><p>discuss the structure of an ApRES survey,</p></li>
<li><p>load some raw ApRES data,</p></li>
<li><p>structure the data as an xarray, and</p></li>
<li><p>write this xarray to a zarr directory.</p></li>
</ul>
<p>This will make use of a library we have developed called <a class="reference external" href="https://github.com/ldeo-glaciology/XApRES">xApRES</a>. The main developers of this library have so far been Jonny Kingslake, George Lu, and Elizabeth Case. We very much welcome collaboration from anyone interested in efficient ways to process, store, and analyze ApRES data.</p>
</section>
<section id="structure-of-an-apres-survey">
<h2>Structure of an ApRES survey<a class="headerlink" href="#structure-of-an-apres-survey" title="Permalink to this headline">#</a></h2>
<p>The structure of an ApRES survey can get quite complex. The figure below depicts one possible structure of a so-called unattended survey (the details do not matter here, but ApRES can be operated in attended and unattended modes and the structure of data varies between the modes).</p>
<p><img alt="ApRES data structure" src="../_images/ApRES_data_diagram.png" /></p>
<section id="chirps">
<h3>Chirps<a class="headerlink" href="#chirps" title="Permalink to this headline">#</a></h3>
<p>The radar emits individual ‘chirps’ which each generate a 40,001-element-long time series of data. The chirps are emitted at a rate of 1 per second.</p>
</section>
<section id="bursts">
<h3>Bursts<a class="headerlink" href="#bursts" title="Permalink to this headline">#</a></h3>
<p>The chirps are grouped into ‘bursts’, which each contain a user-definable number of chirps, which in the data below is 20 chirps. The system is setup to perform bursts at regular intervals. The data below has a burst interval of 15 minutes.</p>
</section>
<section id="attenuator-settings">
<h3>Attenuator settings<a class="headerlink" href="#attenuator-settings" title="Permalink to this headline">#</a></h3>
<p>The ApRES has user-definable attenuator settings which are chosen during installation to ensure the signal is not too strong or too weak. Typically we choose more than one attenuator setting and cycle through them during each burst. So for example, if we have 3 attneuator settings, and 20 chirps per burst, per settting, the sequence of chirps would be 20 chirps using attenuator setting 1, followed by 20 chirps using attenuator setting 2, followed by 20 chirps using attenuator setting 3, followed by 20 chirps using attenuator setting 1, and so on.</p>
<p>This complexity leads to a four-dimensional dataset: 1) the time of each burst, 2) the chirp number within each burst, 3) the attenuator setting, and 4) the sample number in chirp. A typical workflow for processing datasets collected by such a survey is through nested for-loops and it is a major challenge keeping track of which chirp belongs where.</p>
<p>This is where xarray can really help. Let’s next load some raw ApRES data using some scripts fro a library we have been developing called xApRES.</p>
</section>
</section>
<section id="load-raw-apres-data">
<h2>Load raw ApRES data<a class="headerlink" href="#load-raw-apres-data" title="Permalink to this headline">#</a></h2>
<p>Raw ApRES data are stored in files with an extension <code class="docutils literal notranslate"><span class="pre">.dat</span></code>. First we install and import the xApRES library:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install xapres -q
<span class="kn">import</span> <span class="nn">xapres</span> <span class="k">as</span> <span class="nn">xa</span>
</pre></div>
</div>
</div>
</div>
<section id="the-data">
<h3>The data<a class="headerlink" href="#the-data" title="Permalink to this headline">#</a></h3>
<p>The ApRES data we will be using were collected in the ablation zone of the Greenland Ice Sheet by a team led by Meredith Nettles (Lamont-Doherty Earth Observatory, LDEO) and Laura Stevens (University of Oxford), including George Lu (LDEO), Stacy Larochelle (LDEO), Marianne Okal (Earthscope), Kristin Arnold (IRIS Alpine), and Josh Rines (Stanford University). The project was funded by the US National Science Foundation (project number: 2003464). Three ApRES units were positioned near several supraglacial lakes that periodically drain to the bed of the ice sheet. The units collected a burst every 15 minutes for up to 18 months. You can learn more about the science being done with these data (using the tools described here) in two oral presentation at AGU this week: <a class="reference external" href="https://agu.confex.com/agu/fm23/meetingapp.cgi/Paper/1321546">one</a> led by Stacy Larochelle and <a class="reference external" href="https://agu.confex.com/agu/fm23/meetingapp.cgi/Paper/1316057">one</a> led by George Lu.</p>
<p>The map below shows the location of the three ApRES units over a ESA Sentinel-2 image from July 10, 2022 (created by George Lu).
We will be looking at data from A11.</p>
<p><img alt="Map of ApRES locations in greenland" src="../_images/ApRES_map.png" /></p>
<p>Using xApRES we will create an instance of a <code class="docutils literal notranslate"><span class="pre">from_dats</span></code> object, then use two methods of these objects (<code class="docutils literal notranslate"><span class="pre">list_files</span></code> and <code class="docutils literal notranslate"><span class="pre">load_single</span></code>) to load 1 chirp from within 1 burst from within 1 <code class="docutils literal notranslate"><span class="pre">.dat</span></code> file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fd</span> <span class="o">=</span> <span class="n">xa</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">from_dats</span><span class="p">()</span>
<span class="n">dat_file_list</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">list_files</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;gs://ldeo-glaciology/GL_apres_2022/A101&#39;</span><span class="p">,</span> 
                <span class="n">remote_load</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">fd</span><span class="o">.</span><span class="n">load_single</span><span class="p">(</span><span class="n">dat_file_list</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="n">remote_load</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">burst_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">chirp_num</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s take a look at the raw chirp data. It is 40001 elements long, as mentioned above, and we can plot it as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">single_chirp</span><span class="o">.</span><span class="n">vdat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>40001
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt_1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">single_chirp</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">fd</span><span class="o">.</span><span class="n">single_chirp</span><span class="o">.</span><span class="n">vdat</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">fd</span><span class="o">.</span><span class="n">single_chirp</span><span class="o">.</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="o">-</span><span class="mf">1.25</span><span class="p">,</span><span class="mf">1.25</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Amplitude (V)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ARCOdata_writingZarrs_37_0.png" src="../_images/ARCOdata_writingZarrs_37_0.png" />
</div>
</div>
<p>We wont get into the details of processing ApRES data., but to obtain a representation of the reflection power as a function of depth we apply a fast fourier transform to the chirp. This is done in xApRES as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fd</span><span class="o">.</span><span class="n">single_chirp</span><span class="o">.</span><span class="n">FormProfile</span><span class="p">()</span><span class="o">.</span><span class="n">PlotProfile</span><span class="p">(</span><span class="mi">1400</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ARCOdata_writingZarrs_39_0.png" src="../_images/ARCOdata_writingZarrs_39_0.png" />
</div>
</div>
</section>
<section id="put-these-data-into-an-xarray">
<h3>Put these data into an xarray<a class="headerlink" href="#put-these-data-into-an-xarray" title="Permalink to this headline">#</a></h3>
<p>The methods demonstrated above work well for loading and plotting single chirps, but as discussed above, when we have a large complex pRES dataset with multiple chirps and bursts and attenuator settings, we need a more convenient way of storing and accessing the data. When the data gets very large, we also need to be able to load and process subsets of the data without loading the whole thing into memory. Xarray can help.</p>
<p>xApRES has a collection of tools to load multiple <code class="docutils literal notranslate"><span class="pre">.dat</span></code> files and put them in to a useful structure within an xarray.</p>
<p>Next we will use one of the tools to load all the data from one dat file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xa</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">generate_xarray</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="s1">&#39;gs://ldeo-glaciology/GL_apres_2022/A101&#39;</span><span class="p">,</span> 
                             <span class="n">file_numbers_to_process</span><span class="o">=</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span> 
                             <span class="n">remote_load</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:          (time: 94, chirp_time: 40001, chirp_num: 20,
                      attenuator_setting_pair: 2, profile_range: 7134)
Coordinates:
  * time             (time) datetime64[ns] 2022-06-23T01:36:56 ... 2022-06-24...
  * chirp_time       (chirp_time) float64 0.0 2.5e-05 5e-05 ... 1.0 1.0 1.0
  * profile_range    (profile_range) float64 0.0 0.2103 ... 1.5e+03 1.5e+03
  * chirp_num        (chirp_num) int64 0 1 2 3 4 5 6 7 ... 13 14 15 16 17 18 19
    filename         (time) &lt;U83 &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DI...
    burst_number     (time) int64 0 1 2 3 4 5 6 7 8 ... 86 87 88 89 90 91 92 93
    AFGain           (attenuator_setting_pair) int64 -4 -14
    attenuator       (attenuator_setting_pair) float64 5.0 5.0
    orientation      (time) &lt;U7 &#x27;unknown&#x27; &#x27;unknown&#x27; ... &#x27;unknown&#x27; &#x27;unknown&#x27;
Dimensions without coordinates: attenuator_setting_pair
Data variables:
    chirp            (time, chirp_time, chirp_num, attenuator_setting_pair) float64 ...
    profile          (time, profile_range, chirp_num, attenuator_setting_pair) complex128 ...
    latitude         (time) float64 68.71 68.71 68.71 ... 68.71 68.71 68.71
    longitude        (time) float64 -49.55 -49.55 -49.55 ... -49.55 -49.55
    battery_voltage  (time) float64 13.89 13.87 13.94 ... 13.85 13.84 13.84
    temperature_1    (time) float64 2.031 0.4609 508.9 ... 1.641 0.2656 510.9
    temperature_2    (time) float64 5.195 3.039 3.234 ... 4.805 2.25 0.6797</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-c09ca525-16f8-4815-bdb0-37ee0658e699' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-c09ca525-16f8-4815-bdb0-37ee0658e699' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 94</li><li><span class='xr-has-index'>chirp_time</span>: 40001</li><li><span class='xr-has-index'>chirp_num</span>: 20</li><li><span>attenuator_setting_pair</span>: 2</li><li><span class='xr-has-index'>profile_range</span>: 7134</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-149292d8-da75-4852-8a4a-346bf6e5c3ad' class='xr-section-summary-in' type='checkbox'  checked><label for='section-149292d8-da75-4852-8a4a-346bf6e5c3ad' class='xr-section-summary' >Coordinates: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-06-23T01:36:56 ... 2022-06-...</div><input id='attrs-3be7d34f-4dfa-4356-888f-b107f951b08c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3be7d34f-4dfa-4356-888f-b107f951b08c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-63aee477-9a8a-42e8-a2d2-38275e4f0360' class='xr-var-data-in' type='checkbox'><label for='data-63aee477-9a8a-42e8-a2d2-38275e4f0360' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of burst</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-06-23T01:36:56.000000000&#x27;, &#x27;2022-06-23T01:51:57.000000000&#x27;,
       &#x27;2022-06-23T02:06:53.000000000&#x27;, &#x27;2022-06-23T02:21:52.000000000&#x27;,
       &#x27;2022-06-23T02:36:53.000000000&#x27;, &#x27;2022-06-23T02:51:52.000000000&#x27;,
       &#x27;2022-06-23T03:06:53.000000000&#x27;, &#x27;2022-06-23T03:21:59.000000000&#x27;,
       &#x27;2022-06-23T03:36:59.000000000&#x27;, &#x27;2022-06-23T03:51:53.000000000&#x27;,
       &#x27;2022-06-23T04:06:52.000000000&#x27;, &#x27;2022-06-23T04:21:52.000000000&#x27;,
       &#x27;2022-06-23T04:36:52.000000000&#x27;, &#x27;2022-06-23T04:51:52.000000000&#x27;,
       &#x27;2022-06-23T05:06:52.000000000&#x27;, &#x27;2022-06-23T05:21:53.000000000&#x27;,
       &#x27;2022-06-23T05:36:52.000000000&#x27;, &#x27;2022-06-23T05:51:52.000000000&#x27;,
       &#x27;2022-06-23T06:06:59.000000000&#x27;, &#x27;2022-06-23T06:21:53.000000000&#x27;,
       &#x27;2022-06-23T06:36:53.000000000&#x27;, &#x27;2022-06-23T06:52:02.000000000&#x27;,
       &#x27;2022-06-23T07:06:52.000000000&#x27;, &#x27;2022-06-23T07:21:51.000000000&#x27;,
       &#x27;2022-06-23T07:36:52.000000000&#x27;, &#x27;2022-06-23T07:51:52.000000000&#x27;,
       &#x27;2022-06-23T08:06:52.000000000&#x27;, &#x27;2022-06-23T08:21:52.000000000&#x27;,
       &#x27;2022-06-23T08:36:55.000000000&#x27;, &#x27;2022-06-23T08:52:03.000000000&#x27;,
       &#x27;2022-06-23T09:06:40.000000000&#x27;, &#x27;2022-06-23T09:21:40.000000000&#x27;,
       &#x27;2022-06-23T09:36:40.000000000&#x27;, &#x27;2022-06-23T09:51:40.000000000&#x27;,
       &#x27;2022-06-23T10:06:40.000000000&#x27;, &#x27;2022-06-23T10:21:41.000000000&#x27;,
       &#x27;2022-06-23T10:36:41.000000000&#x27;, &#x27;2022-06-23T10:51:40.000000000&#x27;,
       &#x27;2022-06-23T11:06:40.000000000&#x27;, &#x27;2022-06-23T11:21:40.000000000&#x27;,
       &#x27;2022-06-23T11:36:40.000000000&#x27;, &#x27;2022-06-23T11:51:40.000000000&#x27;,
       &#x27;2022-06-23T12:06:40.000000000&#x27;, &#x27;2022-06-23T12:21:40.000000000&#x27;,
       &#x27;2022-06-23T12:36:40.000000000&#x27;, &#x27;2022-06-23T12:51:41.000000000&#x27;,
       &#x27;2022-06-23T13:06:46.000000000&#x27;, &#x27;2022-06-23T13:21:53.000000000&#x27;,
       &#x27;2022-06-23T13:36:40.000000000&#x27;, &#x27;2022-06-23T13:51:41.000000000&#x27;,
       &#x27;2022-06-23T14:06:41.000000000&#x27;, &#x27;2022-06-23T14:21:41.000000000&#x27;,
       &#x27;2022-06-23T14:36:42.000000000&#x27;, &#x27;2022-06-23T14:51:41.000000000&#x27;,
       &#x27;2022-06-23T15:06:41.000000000&#x27;, &#x27;2022-06-23T15:21:41.000000000&#x27;,
       &#x27;2022-06-23T15:37:03.000000000&#x27;, &#x27;2022-06-23T15:51:40.000000000&#x27;,
       &#x27;2022-06-23T16:06:42.000000000&#x27;, &#x27;2022-06-23T16:21:40.000000000&#x27;,
       &#x27;2022-06-23T16:36:41.000000000&#x27;, &#x27;2022-06-23T16:51:41.000000000&#x27;,
       &#x27;2022-06-23T17:06:41.000000000&#x27;, &#x27;2022-06-23T17:21:41.000000000&#x27;,
       &#x27;2022-06-23T17:37:03.000000000&#x27;, &#x27;2022-06-23T17:51:39.000000000&#x27;,
       &#x27;2022-06-23T18:06:41.000000000&#x27;, &#x27;2022-06-23T18:21:46.000000000&#x27;,
       &#x27;2022-06-23T18:36:39.000000000&#x27;, &#x27;2022-06-23T18:51:40.000000000&#x27;,
       &#x27;2022-06-23T19:06:40.000000000&#x27;, &#x27;2022-06-23T19:21:40.000000000&#x27;,
       &#x27;2022-06-23T19:36:41.000000000&#x27;, &#x27;2022-06-23T19:51:41.000000000&#x27;,
       &#x27;2022-06-23T20:06:42.000000000&#x27;, &#x27;2022-06-23T20:21:51.000000000&#x27;,
       &#x27;2022-06-23T20:36:41.000000000&#x27;, &#x27;2022-06-23T20:51:41.000000000&#x27;,
       &#x27;2022-06-23T21:06:41.000000000&#x27;, &#x27;2022-06-23T21:21:41.000000000&#x27;,
       &#x27;2022-06-23T21:36:41.000000000&#x27;, &#x27;2022-06-23T21:51:41.000000000&#x27;,
       &#x27;2022-06-23T22:07:03.000000000&#x27;, &#x27;2022-06-23T22:21:40.000000000&#x27;,
       &#x27;2022-06-23T22:36:41.000000000&#x27;, &#x27;2022-06-23T22:51:39.000000000&#x27;,
       &#x27;2022-06-23T23:06:40.000000000&#x27;, &#x27;2022-06-23T23:21:40.000000000&#x27;,
       &#x27;2022-06-23T23:36:40.000000000&#x27;, &#x27;2022-06-23T23:51:41.000000000&#x27;,
       &#x27;2022-06-24T00:06:42.000000000&#x27;, &#x27;2022-06-24T00:21:42.000000000&#x27;,
       &#x27;2022-06-24T00:36:43.000000000&#x27;, &#x27;2022-06-24T00:51:51.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_time</span></div><div class='xr-var-dims'>(chirp_time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 2.5e-05 5e-05 ... 1.0 1.0 1.0</div><input id='attrs-e449f12e-e86e-4120-b540-f9511ba6c299' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e449f12e-e86e-4120-b540-f9511ba6c299' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c928c5e8-3fb7-40e5-b7a3-b40159d49aee' class='xr-var-data-in' type='checkbox'><label for='data-c928c5e8-3fb7-40e5-b7a3-b40159d49aee' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of samples during chirps</dd><dt><span>name :</span></dt><dd>time of samples during chirps</dd><dt><span>units :</span></dt><dd>seconds</dd></dl></div><div class='xr-var-data'><pre>array([0.00000e+00, 2.50000e-05, 5.00000e-05, ..., 9.99950e-01, 9.99975e-01,
       1.00000e+00])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>profile_range</span></div><div class='xr-var-dims'>(profile_range)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.2103 ... 1.5e+03 1.5e+03</div><input id='attrs-b21df0f5-ee23-4fb9-8480-76a7c189fc3d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b21df0f5-ee23-4fb9-8480-76a7c189fc3d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8abfcef5-163f-49b5-b56e-077c52a335bc' class='xr-var-data-in' type='checkbox'><label for='data-8abfcef5-163f-49b5-b56e-077c52a335bc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>meters</dd></dl></div><div class='xr-var-data'><pre>array([0.000000e+00, 2.102896e-01, 4.205791e-01, ..., 1.499575e+03,
       1.499785e+03, 1.499995e+03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_num</span></div><div class='xr-var-dims'>(chirp_num)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 14 15 16 17 18 19</div><input id='attrs-f7ef7c55-0500-4658-b5a8-a8c8684616de' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f7ef7c55-0500-4658-b5a8-a8c8684616de' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5cd39bff-a51e-480f-b8a4-3aa6c2933fe1' class='xr-var-data-in' type='checkbox'><label for='data-5cd39bff-a51e-480f-b8a4-3aa6c2933fe1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>chirp number</dd><dt><span>description :</span></dt><dd>the number of each chirp within each burst</dd></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>filename</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U83</div><div class='xr-var-preview xr-preview'>&#x27;ldeo-glaciology/GL_apres_2022/A...</div><input id='attrs-976c7549-6ee5-4406-8e3a-81fd918d5679' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-976c7549-6ee5-4406-8e3a-81fd918d5679' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-43fe39f1-6025-4b41-9b81-385ce7b7edff' class='xr-var-data-in' type='checkbox'><label for='data-43fe39f1-6025-4b41-9b81-385ce7b7edff' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the name of the file that contains each burst</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
...
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;,
       &#x27;ldeo-glaciology/GL_apres_2022/A101/CardA/DIR2022-05-26-1536/DATA2022-06-23-0136.DAT&#x27;],
      dtype=&#x27;&lt;U83&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>burst_number</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 88 89 90 91 92 93</div><input id='attrs-8589c11d-e61c-4443-9861-cd2082a1feec' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8589c11d-e61c-4443-9861-cd2082a1feec' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3d3f8a43-6cec-4386-a917-43840353aee7' class='xr-var-data-in' type='checkbox'><label for='data-3d3f8a43-6cec-4386-a917-43840353aee7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each burst within each file</dd></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,
       34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50,
       51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67,
       68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84,
       85, 86, 87, 88, 89, 90, 91, 92, 93])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>AFGain</span></div><div class='xr-var-dims'>(attenuator_setting_pair)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>-4 -14</div><input id='attrs-da731857-4c73-44d0-92f1-82bad4a8158a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-da731857-4c73-44d0-92f1-82bad4a8158a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-92064e20-9048-4aa2-9b46-13cae83b5ba8' class='xr-var-data-in' type='checkbox'><label for='data-92064e20-9048-4aa2-9b46-13cae83b5ba8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>audio-frequency gain control setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><pre>array([ -4, -14])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>attenuator</span></div><div class='xr-var-dims'>(attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.0 5.0</div><input id='attrs-6b12ed6c-1a5d-40f9-9b0a-9dab1b2ffbc1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6b12ed6c-1a5d-40f9-9b0a-9dab1b2ffbc1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-572a0582-4565-4059-a2e0-d063f32544cb' class='xr-var-data-in' type='checkbox'><label for='data-572a0582-4565-4059-a2e0-d063f32544cb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>radio-frequency attenuator setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><pre>array([5., 5.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>orientation</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U7</div><div class='xr-var-preview xr-preview'>&#x27;unknown&#x27; &#x27;unknown&#x27; ... &#x27;unknown&#x27;</div><input id='attrs-1b4d898d-3d92-4601-82b8-2969a842950d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1b4d898d-3d92-4601-82b8-2969a842950d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c18da888-09c1-4ebd-ae16-9da7a53c49a7' class='xr-var-data-in' type='checkbox'><label for='data-c18da888-09c1-4ebd-ae16-9da7a53c49a7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>HH, HV, VH, or VV antenna orientation as described in Ersahadi et al 2022 doi:10.5194/tc-16-1719-2022</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;,
       &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;, &#x27;unknown&#x27;], dtype=&#x27;&lt;U7&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a50e7fc1-96a1-44ab-afdb-735776001249' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a50e7fc1-96a1-44ab-afdb-735776001249' class='xr-section-summary' >Data variables: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>chirp</span></div><div class='xr-var-dims'>(time, chirp_time, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.06676 0.06779 ... -0.9668 -0.2927</div><input id='attrs-5457f150-727f-497d-b676-3111caa05648' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5457f150-727f-497d-b676-3111caa05648' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-82a10995-39ee-4d9d-9052-1a32731c4029' class='xr-var-data-in' type='checkbox'><label for='data-82a10995-39ee-4d9d-9052-1a32731c4029' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>de-ramped chirp</dd><dt><span>units :</span></dt><dd>volts</dd><dt><span>description :</span></dt><dd>voltage from the analog-to-digital converter after the received signal has been mixed with the transmitted signal and the result has been filtered to leave only the low frequency compponent corresponding to the differences in the frequencies of the Tx and Rx signals</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 6.67572021e-02,  6.77871704e-02],
         [-1.39236450e-02,  3.42559814e-02],
         [-4.12750244e-02, -1.98745728e-02],
         ...,
         [-3.52096558e-02,  2.09426880e-02],
         [ 1.45072937e-01,  9.53674316e-03],
         [-1.48773193e-02,  3.89099121e-03]],

        [[ 3.59344482e-02,  6.72912598e-02],
         [-7.46917725e-02,  3.90625000e-02],
         [-3.49807739e-02, -1.41525269e-02],
         ...,
         [-9.62066650e-02,  2.28118896e-02],
         [ 2.07366943e-01,  1.38854980e-02],
         [ 1.09863281e-02,  1.64031982e-02]],

        [[-2.79388428e-01, -1.75476074e-02],
         [-3.80516052e-01,  3.17382812e-02],
         [-1.31568909e-01, -1.84249878e-02],
         ...,
...
         ...,
         [ 2.20870972e-02,  2.81143188e-02],
         [ 2.76565552e-02,  2.72750854e-02],
         [ 3.61251831e-02,  2.74276733e-02]],

        [[-7.59124756e-03,  1.38854980e-02],
         [-4.30679321e-02,  6.59942627e-03],
         [-3.63159180e-02,  6.40869141e-03],
         ...,
         [-1.18637085e-02,  1.67465210e-02],
         [-6.37054443e-03,  1.42288208e-02],
         [-3.89099121e-03,  1.47247314e-02]],

        [[-9.69543457e-01, -2.94189453e-01],
         [-9.81063843e-01, -2.96287537e-01],
         [-9.77172852e-01, -2.95982361e-01],
         ...,
         [-9.71374512e-01, -2.92510986e-01],
         [-9.68055725e-01, -2.93273926e-01],
         [-9.66835022e-01, -2.92739868e-01]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>profile</span></div><div class='xr-var-dims'>(time, profile_range, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>complex128</div><div class='xr-var-preview xr-preview'>(0.010510674085874113+0j) ... (-...</div><input id='attrs-a89774cd-4a72-472c-bb12-bf6d3ec293ec' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a89774cd-4a72-472c-bb12-bf6d3ec293ec' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-724b56c5-7896-4d4c-b6b9-6275dedc3cfd' class='xr-var-data-in' type='checkbox'><label for='data-724b56c5-7896-4d4c-b6b9-6275dedc3cfd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>profile</dd><dt><span>units :</span></dt><dd>-</dd><dt><span>description :</span></dt><dd>complex profile computed from the fourier transform of the de-ramped chirp</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 1.05106741e-02+0.00000000e+00j,
           1.08683756e-02+0.00000000e+00j],
         [ 1.05202487e-02+0.00000000e+00j,
           1.08686791e-02+0.00000000e+00j],
         [ 1.05214892e-02+0.00000000e+00j,
           1.08722432e-02+0.00000000e+00j],
         ...,
         [ 1.05526683e-02+0.00000000e+00j,
           1.09014942e-02+0.00000000e+00j],
         [ 1.05561980e-02+0.00000000e+00j,
           1.09005425e-02+0.00000000e+00j],
         [ 1.05555235e-02+0.00000000e+00j,
           1.09020877e-02+0.00000000e+00j]],

        [[ 6.87654948e-06+9.26221299e-03j,
           2.62546845e-06+9.57720616e-03j],
         [ 8.40296395e-06+9.27103332e-03j,
           2.34363450e-06+9.57746871e-03j],
         [ 8.32230342e-06+9.27216972e-03j,
           2.33378445e-06+9.58072192e-03j],
...
         [ 5.52602264e-06+2.05003942e-05j,
           1.07498299e-05-1.40413823e-06j],
         [-1.40790484e-06+3.39613402e-05j,
           3.30262138e-06+1.04449625e-05j],
         [ 3.22189292e-06+4.63970563e-05j,
           2.38404620e-06+5.09878855e-06j]],

        [[-6.10397341e-07+3.49851428e-05j,
          -2.08889185e-06+2.84959121e-06j],
         [-5.89037309e-06+2.29462790e-05j,
          -6.62506498e-08-3.23939442e-06j],
         [ 1.76619358e-05+2.38125711e-05j,
          -3.44848854e-06+7.34902270e-06j],
         ...,
         [-2.25171974e-05+4.73599853e-06j,
           3.22732252e-06+1.00639419e-05j],
         [-1.98250025e-05-3.84439780e-06j,
          -1.05106024e-05+1.34817615e-06j],
         [-3.41412406e-05+7.89723629e-06j,
          -6.32450099e-07+2.00325429e-06j]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>68.71 68.71 68.71 ... 68.71 68.71</div><input id='attrs-1267f160-2c31-4503-8804-61aafe78ad29' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1267f160-2c31-4503-8804-61aafe78ad29' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-065d6b6a-af74-4a70-9d17-d84e75abd776' class='xr-var-data-in' type='checkbox'><label for='data-065d6b6a-af74-4a70-9d17-d84e75abd776' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees</dd><dt><span>long_name :</span></dt><dd>latitude of burst</dd></dl></div><div class='xr-var-data'><pre>array([68.7104, 68.7105, 68.7102, 68.7101, 68.7101, 68.7101, 68.7101,
       68.7101, 68.7102, 68.7102, 68.71  , 68.7101, 68.71  , 68.7099,
       68.7098, 68.7099, 68.71  , 68.7101, 68.7101, 68.7101, 68.7101,
       68.7102, 68.7101, 68.7101, 68.7101, 68.7101, 68.7101, 68.7101,
       68.7101, 68.7101, 68.7101, 68.7102, 68.7102, 68.7102, 68.7101,
       68.7101, 68.7102, 68.7101, 68.7099, 68.71  , 68.71  , 68.7101,
       68.71  , 68.71  , 68.71  , 68.7099, 68.7097, 68.7102, 68.7102,
       68.7102, 68.7101, 68.7102, 68.7102, 68.7103, 68.7102, 68.7102,
       68.7101, 68.7102, 68.7102, 68.7101, 68.7102, 68.7101, 68.7101,
       68.7102, 68.7101, 68.7102, 68.7101, 68.7101, 68.7102, 68.7102,
       68.7102, 68.7102, 68.7101, 68.7101, 68.7101, 68.7101, 68.7101,
       68.7104, 68.7104, 68.7103, 68.7104, 68.7104, 68.7101, 68.7101,
       68.7101, 68.7102, 68.7101, 68.7101, 68.7101, 68.71  , 68.7101,
       68.7102, 68.7101, 68.7101])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-49.55 -49.55 ... -49.55 -49.55</div><input id='attrs-4f496257-030e-45ed-95a4-1d1bef36c67e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4f496257-030e-45ed-95a4-1d1bef36c67e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-400e47af-3751-47e0-aa95-d02997cb1d31' class='xr-var-data-in' type='checkbox'><label for='data-400e47af-3751-47e0-aa95-d02997cb1d31' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees</dd><dt><span>long_name :</span></dt><dd>longitude of burst</dd></dl></div><div class='xr-var-data'><pre>array([-49.5532, -49.5518, -49.5527, -49.5534, -49.5535, -49.553 ,
       -49.5536, -49.5536, -49.5536, -49.5536, -49.5534, -49.5533,
       -49.553 , -49.5533, -49.5538, -49.5536, -49.554 , -49.5529,
       -49.5534, -49.5534, -49.5533, -49.5535, -49.5535, -49.5536,
       -49.5536, -49.5536, -49.5536, -49.5536, -49.5536, -49.5536,
       -49.5536, -49.5536, -49.5536, -49.5537, -49.5537, -49.5537,
       -49.5538, -49.5536, -49.5535, -49.5535, -49.5535, -49.5535,
       -49.5534, -49.5534, -49.5534, -49.5533, -49.5528, -49.5537,
       -49.554 , -49.5543, -49.5541, -49.5541, -49.5542, -49.5541,
       -49.5541, -49.554 , -49.5536, -49.5538, -49.5538, -49.5536,
       -49.5537, -49.5537, -49.5536, -49.554 , -49.5536, -49.5537,
       -49.5536, -49.5536, -49.5535, -49.5536, -49.5537, -49.5538,
       -49.5535, -49.5537, -49.5539, -49.5537, -49.5538, -49.5534,
       -49.5533, -49.5533, -49.5542, -49.5538, -49.5536, -49.5537,
       -49.5536, -49.5536, -49.5537, -49.5536, -49.5535, -49.5535,
       -49.5534, -49.5536, -49.5534, -49.5536])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>battery_voltage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>13.89 13.87 13.94 ... 13.84 13.84</div><input id='attrs-e5dd2718-1016-4d81-a2d7-858856bb0bae' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e5dd2718-1016-4d81-a2d7-858856bb0bae' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0d1544b8-8e27-4fcd-bc78-30a24917d6c8' class='xr-var-data-in' type='checkbox'><label for='data-0d1544b8-8e27-4fcd-bc78-30a24917d6c8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>volts</dd><dt><span>long_name :</span></dt><dd>battery voltage</dd></dl></div><div class='xr-var-data'><pre>array([13.8896, 13.8655, 13.938 , 13.8856, 13.652 , 13.652 , 13.6077,
       13.5956, 13.5835, 13.6198, 13.7124, 13.8655, 14.0911, 14.0105,
       13.9823, 13.9501, 13.9541, 13.9622, 13.9501, 13.9541, 13.9702,
       13.9541, 13.9742, 13.9299, 13.9299, 13.9178, 13.9178, 13.9058,
       13.8776, 13.8373, 13.8735, 13.8735, 13.8373, 13.8292, 13.8252,
       13.797 , 13.7809, 13.8171, 13.7769, 13.7728, 13.7769, 13.7607,
       13.7527, 13.7446, 13.7567, 13.7648, 13.7406, 13.7446, 13.7446,
       13.7406, 13.7648, 13.7648, 13.7648, 13.7648, 13.7205, 13.7245,
       13.7164, 13.7487, 13.6963, 13.7084, 13.7043, 13.7164, 13.7205,
       13.7124, 13.7164, 13.7164, 13.7043, 13.7003, 13.7325, 13.6963,
       13.7043, 13.7205, 13.7124, 13.6923, 13.6963, 13.7084, 13.7205,
       13.7406, 13.7446, 13.7406, 13.7406, 13.7366, 13.7527, 13.7366,
       13.7487, 13.7809, 13.793 , 13.801 , 13.8212, 13.801 , 13.8252,
       13.8494, 13.8373, 13.8373])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.031 0.4609 508.9 ... 0.2656 510.9</div><input id='attrs-b571dc00-4840-454f-9ba4-948b59474ea1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b571dc00-4840-454f-9ba4-948b59474ea1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8a8470ca-b423-4029-bcb7-3dcc6040860e' class='xr-var-data-in' type='checkbox'><label for='data-8a8470ca-b423-4029-bcb7-3dcc6040860e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>celsius</dd><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in one location</dd></dl></div><div class='xr-var-data'><pre>array([2.03125e+00, 4.60937e-01, 5.08938e+02, 5.09328e+02, 5.05602e+02,
       5.06781e+02, 5.04422e+02, 5.10109e+02, 5.10305e+02, 2.42187e+00,
       2.22656e+00, 2.81250e+00, 2.42187e+00, 2.81250e+00, 3.20312e+00,
       2.81250e+00, 3.39844e+00, 3.59375e+00, 3.99219e+00, 3.59375e+00,
       4.38281e+00, 4.38281e+00, 3.00781e+00, 4.60937e-01, 4.77344e+00,
       2.81250e+00, 4.57812e+00, 4.18750e+00, 3.59375e+00, 3.59375e+00,
       5.11875e+02, 2.81250e+00, 5.10500e+02, 5.10695e+02, 5.07953e+02,
       5.07563e+02, 5.06188e+02, 5.07367e+02, 5.07953e+02, 5.08938e+02,
       5.10891e+02, 5.11289e+02, 2.65625e-01, 4.60937e-01, 1.83594e+00,
       4.60937e-01, 2.22656e+00, 6.56250e-01, 1.64062e+00, 4.60937e-01,
       1.64062e+00, 1.64062e+00, 1.64062e+00, 1.83594e+00, 2.03125e+00,
       2.03125e+00, 1.83594e+00, 1.24219e+00, 1.24219e+00, 1.24219e+00,
       1.24219e+00, 1.64062e+00, 2.81250e+00, 1.64062e+00, 2.03125e+00,
       3.39844e+00, 3.20312e+00, 3.00781e+00, 2.61719e+00, 4.38281e+00,
       4.38281e+00, 4.38281e+00, 4.38281e+00, 4.38281e+00, 4.96875e+00,
       4.38281e+00, 4.38281e+00, 4.38281e+00, 4.38281e+00, 4.57812e+00,
       3.79687e+00, 2.81250e+00, 3.99219e+00, 3.99219e+00, 3.20312e+00,
       3.20312e+00, 3.20312e+00, 1.24219e+00, 1.83594e+00, 2.03125e+00,
       1.64062e+00, 1.64062e+00, 2.65625e-01, 5.10891e+02])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.195 3.039 3.234 ... 2.25 0.6797</div><input id='attrs-9dcf2226-b151-46fe-9fb1-01a4c22afb18' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9dcf2226-b151-46fe-9fb1-01a4c22afb18' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f2293cd7-d3fa-44a1-9db2-435602f4ac8d' class='xr-var-data-in' type='checkbox'><label for='data-f2293cd7-d3fa-44a1-9db2-435602f4ac8d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>celsius</dd><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in a second location</dd></dl></div><div class='xr-var-data'><pre>array([5.19531e+00, 3.03906e+00, 3.23437e+00, 2.05469e+00, 2.84375e+00,
       3.82031e+00, 4.80469e+00, 3.82031e+00, 2.45312e+00, 3.23437e+00,
       3.23437e+00, 2.84375e+00, 2.64844e+00, 1.07813e+00, 1.46875e+00,
       3.03906e+00, 6.79687e-01, 2.45312e+00, 2.05469e+00, 1.66406e+00,
       1.07813e+00, 1.85937e+00, 2.05469e+00, 2.05469e+00, 8.82812e-01,
       1.27344e+00, 1.27344e+00, 4.84375e-01, 1.27344e+00, 2.25000e+00,
       3.03906e+00, 2.84375e+00, 2.84375e+00, 3.62500e+00, 3.62500e+00,
       4.02344e+00, 4.60937e+00, 3.42969e+00, 2.45312e+00, 1.85937e+00,
       2.25000e+00, 2.25000e+00, 2.64844e+00, 2.64844e+00, 3.82031e+00,
       5.19531e+00, 4.80469e+00, 3.82031e+00, 3.82031e+00, 5.11508e+02,
       3.03906e+00, 5.11508e+02, 3.03906e+00, 5.19531e+00, 5.19531e+00,
       2.45312e+00, 2.45312e+00, 4.02344e+00, 4.02344e+00, 4.60937e+00,
       4.02344e+00, 3.62500e+00, 3.62500e+00, 4.41406e+00, 3.62500e+00,
       5.00000e+00, 3.82031e+00, 4.21875e+00, 4.21875e+00, 7.16406e+00,
       6.96875e+00, 6.96875e+00, 5.78906e+00, 8.73437e+00, 6.76562e+00,
       7.35937e+00, 7.16406e+00, 6.96875e+00, 5.59375e+00, 5.59375e+00,
       3.62500e+00, 5.59375e+00, 3.82031e+00, 3.82031e+00, 4.41406e+00,
       4.02344e+00, 4.41406e+00, 4.02344e+00, 5.19531e+00, 5.19531e+00,
       3.82031e+00, 4.80469e+00, 2.25000e+00, 6.79687e-01])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-02d73c6d-0b3e-47e5-9de2-23ce7de16cee' class='xr-section-summary-in' type='checkbox'  ><label for='section-02d73c6d-0b3e-47e5-9de2-23ce7de16cee' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-8274d9b2-0057-4956-9050-8c05dab7e836' class='xr-index-data-in' type='checkbox'/><label for='index-8274d9b2-0057-4956-9050-8c05dab7e836' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-06-23 01:36:56&#x27;, &#x27;2022-06-23 01:51:57&#x27;,
               &#x27;2022-06-23 02:06:53&#x27;, &#x27;2022-06-23 02:21:52&#x27;,
               &#x27;2022-06-23 02:36:53&#x27;, &#x27;2022-06-23 02:51:52&#x27;,
               &#x27;2022-06-23 03:06:53&#x27;, &#x27;2022-06-23 03:21:59&#x27;,
               &#x27;2022-06-23 03:36:59&#x27;, &#x27;2022-06-23 03:51:53&#x27;,
               &#x27;2022-06-23 04:06:52&#x27;, &#x27;2022-06-23 04:21:52&#x27;,
               &#x27;2022-06-23 04:36:52&#x27;, &#x27;2022-06-23 04:51:52&#x27;,
               &#x27;2022-06-23 05:06:52&#x27;, &#x27;2022-06-23 05:21:53&#x27;,
               &#x27;2022-06-23 05:36:52&#x27;, &#x27;2022-06-23 05:51:52&#x27;,
               &#x27;2022-06-23 06:06:59&#x27;, &#x27;2022-06-23 06:21:53&#x27;,
               &#x27;2022-06-23 06:36:53&#x27;, &#x27;2022-06-23 06:52:02&#x27;,
               &#x27;2022-06-23 07:06:52&#x27;, &#x27;2022-06-23 07:21:51&#x27;,
               &#x27;2022-06-23 07:36:52&#x27;, &#x27;2022-06-23 07:51:52&#x27;,
               &#x27;2022-06-23 08:06:52&#x27;, &#x27;2022-06-23 08:21:52&#x27;,
               &#x27;2022-06-23 08:36:55&#x27;, &#x27;2022-06-23 08:52:03&#x27;,
               &#x27;2022-06-23 09:06:40&#x27;, &#x27;2022-06-23 09:21:40&#x27;,
               &#x27;2022-06-23 09:36:40&#x27;, &#x27;2022-06-23 09:51:40&#x27;,
               &#x27;2022-06-23 10:06:40&#x27;, &#x27;2022-06-23 10:21:41&#x27;,
               &#x27;2022-06-23 10:36:41&#x27;, &#x27;2022-06-23 10:51:40&#x27;,
               &#x27;2022-06-23 11:06:40&#x27;, &#x27;2022-06-23 11:21:40&#x27;,
               &#x27;2022-06-23 11:36:40&#x27;, &#x27;2022-06-23 11:51:40&#x27;,
               &#x27;2022-06-23 12:06:40&#x27;, &#x27;2022-06-23 12:21:40&#x27;,
               &#x27;2022-06-23 12:36:40&#x27;, &#x27;2022-06-23 12:51:41&#x27;,
               &#x27;2022-06-23 13:06:46&#x27;, &#x27;2022-06-23 13:21:53&#x27;,
               &#x27;2022-06-23 13:36:40&#x27;, &#x27;2022-06-23 13:51:41&#x27;,
               &#x27;2022-06-23 14:06:41&#x27;, &#x27;2022-06-23 14:21:41&#x27;,
               &#x27;2022-06-23 14:36:42&#x27;, &#x27;2022-06-23 14:51:41&#x27;,
               &#x27;2022-06-23 15:06:41&#x27;, &#x27;2022-06-23 15:21:41&#x27;,
               &#x27;2022-06-23 15:37:03&#x27;, &#x27;2022-06-23 15:51:40&#x27;,
               &#x27;2022-06-23 16:06:42&#x27;, &#x27;2022-06-23 16:21:40&#x27;,
               &#x27;2022-06-23 16:36:41&#x27;, &#x27;2022-06-23 16:51:41&#x27;,
               &#x27;2022-06-23 17:06:41&#x27;, &#x27;2022-06-23 17:21:41&#x27;,
               &#x27;2022-06-23 17:37:03&#x27;, &#x27;2022-06-23 17:51:39&#x27;,
               &#x27;2022-06-23 18:06:41&#x27;, &#x27;2022-06-23 18:21:46&#x27;,
               &#x27;2022-06-23 18:36:39&#x27;, &#x27;2022-06-23 18:51:40&#x27;,
               &#x27;2022-06-23 19:06:40&#x27;, &#x27;2022-06-23 19:21:40&#x27;,
               &#x27;2022-06-23 19:36:41&#x27;, &#x27;2022-06-23 19:51:41&#x27;,
               &#x27;2022-06-23 20:06:42&#x27;, &#x27;2022-06-23 20:21:51&#x27;,
               &#x27;2022-06-23 20:36:41&#x27;, &#x27;2022-06-23 20:51:41&#x27;,
               &#x27;2022-06-23 21:06:41&#x27;, &#x27;2022-06-23 21:21:41&#x27;,
               &#x27;2022-06-23 21:36:41&#x27;, &#x27;2022-06-23 21:51:41&#x27;,
               &#x27;2022-06-23 22:07:03&#x27;, &#x27;2022-06-23 22:21:40&#x27;,
               &#x27;2022-06-23 22:36:41&#x27;, &#x27;2022-06-23 22:51:39&#x27;,
               &#x27;2022-06-23 23:06:40&#x27;, &#x27;2022-06-23 23:21:40&#x27;,
               &#x27;2022-06-23 23:36:40&#x27;, &#x27;2022-06-23 23:51:41&#x27;,
               &#x27;2022-06-24 00:06:42&#x27;, &#x27;2022-06-24 00:21:42&#x27;,
               &#x27;2022-06-24 00:36:43&#x27;, &#x27;2022-06-24 00:51:51&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>chirp_time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-996aa2e3-678f-4e8e-8105-13ef7ccad784' class='xr-index-data-in' type='checkbox'/><label for='index-996aa2e3-678f-4e8e-8105-13ef7ccad784' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([                   0.0,                2.5e-05,
                               5e-05,  7.500000000000001e-05,
                              0.0001,               0.000125,
              0.00015000000000000001,               0.000175,
                              0.0002, 0.00022500000000000002,
              ...
                  0.9997750000000001,                 0.9998,
                  0.9998250000000001,                0.99985,
                  0.9998750000000001,                 0.9999,
                  0.9999250000000001,                0.99995,
                  0.9999750000000001,                    1.0],
             dtype=&#x27;float64&#x27;, name=&#x27;chirp_time&#x27;, length=40001))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>profile_range</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-83f9a9c3-d421-45c6-9da5-77749a931fb9' class='xr-index-data-in' type='checkbox'/><label for='index-83f9a9c3-d421-45c6-9da5-77749a931fb9' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([               0.0, 0.2102895577845166, 0.4205791155690332,
              0.6308686733535498, 0.8411582311380664,  1.051447788922583,
              1.2617373467070996, 1.4720269044916163, 1.6823164622761329,
              1.8926060200606494,
              ...
              1498.1028096568964, 1498.3130992146807, 1498.5233887724653,
              1498.7336783302499, 1498.9439678880344,  1499.154257445819,
              1499.3645470036033, 1499.5748365613879, 1499.7851261191724,
               1499.995415676957],
             dtype=&#x27;float64&#x27;, name=&#x27;profile_range&#x27;, length=7134))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>chirp_num</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-51bfa0bc-fb6d-4d23-8b69-05f6d5a656d9' class='xr-index-data-in' type='checkbox'/><label for='index-51bfa0bc-fb6d-4d23-8b69-05f6d5a656d9' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
            19],
           dtype=&#x27;int64&#x27;, name=&#x27;chirp_num&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-749f95fc-ae11-4695-8900-57b542cbd6dd' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-749f95fc-ae11-4695-8900-57b542cbd6dd' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<p>Here’s a screenshot of the output of the cell above (in case this takes a long time to run):</p>
<p><img alt="Screenshot of output of cell above" src="../_images/xapres_xarray_screenshot.png" /></p>
<p>The resulting xarray has five dimensions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attenuator_setting_pair</span></code>: this is an index referring to the attenuator setting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code>: the time of aquisistion of each burst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chirp_time</span></code>: the time since the beginning of each chirp of each sample within a chirp. As each chirp lasts 1 second, chirp_time varies from 0 to 1 second. There are 40001 samples by default, so the length of <code class="docutils literal notranslate"><span class="pre">chirp_time</span></code> is 40001.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chirp_num</span></code>: this is number of chirps in each burst using each attenuator_setting_pair. So if the ApRES unit was configured to use 2 attenuator setting pairs and produce 20 chirps for each in each burst, the total number of chirps in a burst will be 2x20 = 40.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile_range</span></code>: the range to each sample in the profiles computed from each chirp using the fft.</p></li>
</ul>
<p>The two most important data variables are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chirp</span></code>: the voltage measured during each chirp after the received signal is mixed with the simultaneously transmitted signal and low-pass filtered. This is an array of real values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile</span></code>: the profiles resulting from an fft of the chirps. This is an array of complex values.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.632827896
</pre></div>
</div>
</div>
</div>
<p>We can now use xarray to slicing, simple processing and plotting of the data, which would be time consuming and error prine using the raw data. For example, in one line we can select one of the two attenuator setting, compute decibels from the profile data, take the mean of the chirps in each burst, and plot the results:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">attenuator_setting_pair</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">dB</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chirp_num&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">aspect</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ARCOdata_writingZarrs_45_0.png" src="../_images/ARCOdata_writingZarrs_45_0.png" />
</div>
</div>
</section>
<section id="write-to-a-zarr-directory">
<h3>Write to a zarr directory<a class="headerlink" href="#write-to-a-zarr-directory" title="Permalink to this headline">#</a></h3>
<p>Finally, we are on to the stage where we are going to write a zarr directory. The motivation for doing this the speed with which we will be able to access the data: it took 2 minutes to load and process the very small subset of the data above. If we want to do calculations using more of the dataset, it would be impractical to run <code class="docutils literal notranslate"><span class="pre">xa.load.generate_xarray</span></code> each time.</p>
<p>For demonstration, we can save a subset of the dataset loaded above to a zarr store in the cryocloud s3 bucket as follows. Load two useful libraries for interacting with cloud storage:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">s3fs</span>
<span class="kn">import</span> <span class="nn">fsspec</span>
<span class="kn">import</span> <span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
<p>Next we find the url of the temporary directory assigned to us by cryocloud based on our github user names:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scratch</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SCRATCH_BUCKET&#39;</span><span class="p">]</span>
<span class="n">scratch</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;s3://nasa-cryo-scratch/jkingslake&#39;
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://s3fs.readthedocs.io/en/latest/api.html">s3fs</a> provides tools to list and delete files and other operations:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s3</span> <span class="o">=</span> <span class="n">s3fs</span><span class="o">.</span><span class="n">S3FileSystem</span><span class="p">()</span>
<span class="n">s3</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">scratch</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;nasa-cryo-scratch/jkingslake/temp1&#39;]
</pre></div>
</div>
</div>
</div>
<p>Let’s create a subest of the dataset <code class="docutils literal notranslate"><span class="pre">ds</span></code> we created above from <code class="docutils literal notranslate"><span class="pre">dat</span></code> files:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_small</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can write the dataset to a zarr store:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scratch</span><span class="si">}</span><span class="s2">/temp2&quot;</span>
<span class="n">mapper</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">get_mapper</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="n">ds_small</span><span class="o">.</span><span class="n">to_zarr</span><span class="p">(</span><span class="n">mapper</span><span class="p">,</span> <span class="n">consolidated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;xarray.backends.zarr.ZarrStore at 0x7f6495772ce0&gt;
</pre></div>
</div>
</div>
</div>
<p>Finally, we reload the data and compare it to <code class="docutils literal notranslate"><span class="pre">ds</span></code> to ensure we accurately wrote it to and read it from the bucket:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_reloaded</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;zarr&#39;</span><span class="p">,</span> <span class="n">consolidated</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="p">{})</span> 
<span class="n">ds_reloaded</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:          (attenuator_setting_pair: 2, time: 4, chirp_time: 40001,
                      chirp_num: 20, profile_range: 7134)
Coordinates:
    AFGain           (attenuator_setting_pair) int64 dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;
    attenuator       (attenuator_setting_pair) float64 dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;
    burst_number     (time) int64 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
  * chirp_num        (chirp_num) int64 0 1 2 3 4 5 6 7 ... 13 14 15 16 17 18 19
  * chirp_time       (chirp_time) timedelta64[ns] 00:00:00 ... 00:00:01
    filename         (time) &lt;U83 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
    orientation      (time) &lt;U7 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
  * profile_range    (profile_range) float64 0.0 0.2103 ... 1.5e+03 1.5e+03
  * time             (time) datetime64[ns] 2022-06-23T01:36:56 ... 2022-06-23...
Dimensions without coordinates: attenuator_setting_pair
Data variables:
    battery_voltage  (time) float64 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
    chirp            (time, chirp_time, chirp_num, attenuator_setting_pair) float64 dask.array&lt;chunksize=(1, 10001, 10, 1), meta=np.ndarray&gt;
    latitude         (time) float64 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
    longitude        (time) float64 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
    profile          (time, profile_range, chirp_num, attenuator_setting_pair) complex128 dask.array&lt;chunksize=(1, 3567, 10, 1), meta=np.ndarray&gt;
    temperature_1    (time) float64 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;
    temperature_2    (time) float64 dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-f019f436-ded1-4273-afef-9da7ac3d69e2' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-f019f436-ded1-4273-afef-9da7ac3d69e2' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>attenuator_setting_pair</span>: 2</li><li><span class='xr-has-index'>time</span>: 4</li><li><span class='xr-has-index'>chirp_time</span>: 40001</li><li><span class='xr-has-index'>chirp_num</span>: 20</li><li><span class='xr-has-index'>profile_range</span>: 7134</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-633a1372-f0d3-467d-85bf-dd1a081db860' class='xr-section-summary-in' type='checkbox'  checked><label for='section-633a1372-f0d3-467d-85bf-dd1a081db860' class='xr-section-summary' >Coordinates: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>AFGain</span></div><div class='xr-var-dims'>(attenuator_setting_pair)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;</div><input id='attrs-0e6d2354-4fc3-4f0f-95a2-4a451d11e38e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0e6d2354-4fc3-4f0f-95a2-4a451d11e38e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c77e7e13-7c03-425e-b611-2c2e89d15d4d' class='xr-var-data-in' type='checkbox'><label for='data-c77e7e13-7c03-425e-b611-2c2e89d15d4d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>audio-frequency gain control setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 16 B </td>
                        <td> 16 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (2,) </td>
                        <td> (2,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> int64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="110" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="60" x2="120" y2="60" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="60" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="60" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,60.0 0.0,60.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="80.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="140.000000" y="30.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,30.000000)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>attenuator</span></div><div class='xr-var-dims'>(attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;</div><input id='attrs-b8e46f2a-fed7-4928-b394-fe13235de8ab' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b8e46f2a-fed7-4928-b394-fe13235de8ab' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c91ff94d-ab8f-4449-93da-a1a51be626b2' class='xr-var-data-in' type='checkbox'><label for='data-c91ff94d-ab8f-4449-93da-a1a51be626b2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>radio-frequency attenuator setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 16 B </td>
                        <td> 16 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (2,) </td>
                        <td> (2,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="110" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="60" x2="120" y2="60" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="60" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="60" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,60.0 0.0,60.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="80.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="140.000000" y="30.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,30.000000)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>burst_number</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-32642a33-4cf1-4853-a40a-12a76e2c1795' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-32642a33-4cf1-4853-a40a-12a76e2c1795' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fcc090b7-c560-4ecc-b912-bc9a4dfca1ea' class='xr-var-data-in' type='checkbox'><label for='data-fcc090b7-c560-4ecc-b912-bc9a4dfca1ea' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each burst within each file</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 32 B </td>
                        <td> 32 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> int64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_num</span></div><div class='xr-var-dims'>(chirp_num)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 14 15 16 17 18 19</div><input id='attrs-db7e1072-40e5-44ec-a916-de917310fca9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-db7e1072-40e5-44ec-a916-de917310fca9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1c6db596-7026-4217-b7fb-62fabbaa2cbe' class='xr-var-data-in' type='checkbox'><label for='data-1c6db596-7026-4217-b7fb-62fabbaa2cbe' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each chirp within each burst</dd><dt><span>long_name :</span></dt><dd>chirp number</dd></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_time</span></div><div class='xr-var-dims'>(chirp_time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>00:00:00 ... 00:00:01</div><input id='attrs-652deeda-be19-41e5-b699-56016fb33081' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-652deeda-be19-41e5-b699-56016fb33081' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6dba1299-9530-47ec-bb04-10954fe83eae' class='xr-var-data-in' type='checkbox'><label for='data-6dba1299-9530-47ec-bb04-10954fe83eae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of samples during chirps</dd><dt><span>name :</span></dt><dd>time of samples during chirps</dd></dl></div><div class='xr-var-data'><pre>array([         0,      25000,      50000, ...,  999950000,  999975000,
       1000000000], dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>filename</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U83</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-cf2887a3-48bb-409b-8f00-089cbd772b85' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cf2887a3-48bb-409b-8f00-089cbd772b85' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a09e2814-a8ed-48f2-9e0d-9ba8be7e7ee0' class='xr-var-data-in' type='checkbox'><label for='data-a09e2814-a8ed-48f2-9e0d-9ba8be7e7ee0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the name of the file that contains each burst</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.30 kiB </td>
                        <td> 1.30 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> <U83 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>orientation</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U7</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-531aa947-2075-46b3-8519-d17feb9d74d9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-531aa947-2075-46b3-8519-d17feb9d74d9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2a8393b3-4ac2-4adb-b7f2-b8082061140d' class='xr-var-data-in' type='checkbox'><label for='data-2a8393b3-4ac2-4adb-b7f2-b8082061140d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>HH, HV, VH, or VV antenna orientation as described in Ersahadi et al 2022 doi:10.5194/tc-16-1719-2022</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 112 B </td>
                        <td> 112 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> <U7 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>profile_range</span></div><div class='xr-var-dims'>(profile_range)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.2103 ... 1.5e+03 1.5e+03</div><input id='attrs-46b4f1f2-4d3e-4ef5-bbc2-d7e5e1464df8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-46b4f1f2-4d3e-4ef5-bbc2-d7e5e1464df8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4dc214d8-75de-484f-83d8-0161403bed65' class='xr-var-data-in' type='checkbox'><label for='data-4dc214d8-75de-484f-83d8-0161403bed65' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>meters</dd></dl></div><div class='xr-var-data'><pre>array([0.000000e+00, 2.102896e-01, 4.205791e-01, ..., 1.499575e+03,
       1.499785e+03, 1.499995e+03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-06-23T01:36:56 ... 2022-06-...</div><input id='attrs-d8d43825-3752-47eb-8c84-d8a5aee678a6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d8d43825-3752-47eb-8c84-d8a5aee678a6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-57427435-b890-44da-b807-1179953d4cfe' class='xr-var-data-in' type='checkbox'><label for='data-57427435-b890-44da-b807-1179953d4cfe' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of burst</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-06-23T01:36:56.000000000&#x27;, &#x27;2022-06-23T01:51:57.000000000&#x27;,
       &#x27;2022-06-23T02:06:53.000000000&#x27;, &#x27;2022-06-23T02:21:52.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2124625d-71cb-41f7-bd5c-73ed71e22ba5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2124625d-71cb-41f7-bd5c-73ed71e22ba5' class='xr-section-summary' >Data variables: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>battery_voltage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-7e3d719f-74d8-4374-addf-755e471402d1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7e3d719f-74d8-4374-addf-755e471402d1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-50d2d706-cd41-4ce7-998b-886481815ce5' class='xr-var-data-in' type='checkbox'><label for='data-50d2d706-cd41-4ce7-998b-886481815ce5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>battery voltage</dd><dt><span>units :</span></dt><dd>volts</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 32 B </td>
                        <td> 32 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>chirp</span></div><div class='xr-var-dims'>(time, chirp_time, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 10001, 10, 1), meta=np.ndarray&gt;</div><input id='attrs-eac430b5-ea08-4efc-acbd-69f78405b108' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-eac430b5-ea08-4efc-acbd-69f78405b108' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6b57dc55-7645-45d1-b053-7379f1caf39a' class='xr-var-data-in' type='checkbox'><label for='data-6b57dc55-7645-45d1-b053-7379f1caf39a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>voltage from the analog-to-digital converter after the received signal has been mixed with the transmitted signal and the result has been filtered to leave only the low frequency compponent corresponding to the differences in the frequencies of the Tx and Rx signals</dd><dt><span>long_name :</span></dt><dd>de-ramped chirp</dd><dt><span>units :</span></dt><dd>volts</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 48.83 MiB </td>
                        <td> 781.33 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4, 40001, 20, 2) </td>
                        <td> (1, 10001, 10, 1) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 64 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="336" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="25" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="45.412617" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,45.412617,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="165" y2="70" style="stroke-width:2" />
  <line x1="95" y1="12" x2="165" y2="83" />
  <line x1="95" y1="25" x2="165" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="95" y2="25" style="stroke-width:2" />
  <line x1="112" y1="17" x2="112" y2="43" />
  <line x1="130" y1="35" x2="130" y2="60" />
  <line x1="147" y1="52" x2="147" y2="78" />
  <line x1="165" y1="70" x2="165" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 165.58823529411765,70.58823529411765 165.58823529411765,96.00085180870013 95.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="112" y1="17" x2="138" y2="17" />
  <line x1="130" y1="35" x2="155" y2="35" />
  <line x1="147" y1="52" x2="173" y2="52" />
  <line x1="165" y1="70" x2="191" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="165" y2="70" style="stroke-width:2" />
  <line x1="107" y1="0" x2="178" y2="70" />
  <line x1="120" y1="0" x2="191" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 120.41261651458248,0.0 191.00085180870013,70.58823529411765 165.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="165" y1="70" x2="191" y2="70" style="stroke-width:2" />
  <line x1="165" y1="83" x2="191" y2="83" />
  <line x1="165" y1="96" x2="191" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="165" y1="70" x2="165" y2="96" style="stroke-width:2" />
  <line x1="178" y1="70" x2="178" y2="96" />
  <line x1="191" y1="70" x2="191" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="165.58823529411765,70.58823529411765 191.00085180870013,70.58823529411765 191.00085180870013,96.00085180870013 165.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="178.294544" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="211.000852" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,211.000852,83.294544)">20</text>
  <text x="120.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,120.294118,80.706734)">40001</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-2d39e1d1-3220-4d6f-9db0-b2239f8cd626' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2d39e1d1-3220-4d6f-9db0-b2239f8cd626' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d10c83c8-246a-44c0-bc5b-4528d7a7def6' class='xr-var-data-in' type='checkbox'><label for='data-d10c83c8-246a-44c0-bc5b-4528d7a7def6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude of burst</dd><dt><span>units :</span></dt><dd>degrees</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 32 B </td>
                        <td> 32 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-cbbb648d-0bbe-4a84-ac38-3d57b5ffb7fb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cbbb648d-0bbe-4a84-ac38-3d57b5ffb7fb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-772a1f88-4439-467b-99a2-cc7d12a26d5e' class='xr-var-data-in' type='checkbox'><label for='data-772a1f88-4439-467b-99a2-cc7d12a26d5e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude of burst</dd><dt><span>units :</span></dt><dd>degrees</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 32 B </td>
                        <td> 32 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>profile</span></div><div class='xr-var-dims'>(time, profile_range, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>complex128</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 3567, 10, 1), meta=np.ndarray&gt;</div><input id='attrs-3bbe24ed-509e-4f61-800c-f88103b218c8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3bbe24ed-509e-4f61-800c-f88103b218c8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2426a253-1a3d-4fde-8155-0b999f58145c' class='xr-var-data-in' type='checkbox'><label for='data-2426a253-1a3d-4fde-8155-0b999f58145c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>complex profile computed from the fourier transform of the de-ramped chirp</dd><dt><span>long_name :</span></dt><dd>profile</dd><dt><span>units :</span></dt><dd>-</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 17.42 MiB </td>
                        <td> 557.34 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4, 7134, 20, 2) </td>
                        <td> (1, 3567, 10, 1) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 32 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> complex128 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="336" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="25" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="45.412617" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,45.412617,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="165" y2="70" style="stroke-width:2" />
  <line x1="95" y1="12" x2="165" y2="83" />
  <line x1="95" y1="25" x2="165" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="95" y2="25" style="stroke-width:2" />
  <line x1="130" y1="35" x2="130" y2="60" />
  <line x1="165" y1="70" x2="165" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 165.58823529411765,70.58823529411765 165.58823529411765,96.00085180870013 95.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="130" y1="35" x2="155" y2="35" />
  <line x1="165" y1="70" x2="191" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="165" y2="70" style="stroke-width:2" />
  <line x1="107" y1="0" x2="178" y2="70" />
  <line x1="120" y1="0" x2="191" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 120.41261651458248,0.0 191.00085180870013,70.58823529411765 165.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="165" y1="70" x2="191" y2="70" style="stroke-width:2" />
  <line x1="165" y1="83" x2="191" y2="83" />
  <line x1="165" y1="96" x2="191" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="165" y1="70" x2="165" y2="96" style="stroke-width:2" />
  <line x1="178" y1="70" x2="178" y2="96" />
  <line x1="191" y1="70" x2="191" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="165.58823529411765,70.58823529411765 191.00085180870013,70.58823529411765 191.00085180870013,96.00085180870013 165.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="178.294544" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="211.000852" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,211.000852,83.294544)">20</text>
  <text x="120.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,120.294118,80.706734)">7134</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-5cd35cf5-297f-4c56-aa40-a76de13160eb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5cd35cf5-297f-4c56-aa40-a76de13160eb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-eaa60710-391f-455d-a6d4-daa79e6e1873' class='xr-var-data-in' type='checkbox'><label for='data-eaa60710-391f-455d-a6d4-daa79e6e1873' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in one location</dd><dt><span>units :</span></dt><dd>celsius</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 32 B </td>
                        <td> 32 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(4,), meta=np.ndarray&gt;</div><input id='attrs-2cba981e-e78b-452c-869f-b89790ab8b50' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2cba981e-e78b-452c-869f-b89790ab8b50' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-725c0df1-d678-4ef3-b5fe-be60b06fbd40' class='xr-var-data-in' type='checkbox'><label for='data-725c0df1-d678-4ef3-b5fe-be60b06fbd40' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in a second location</dd><dt><span>units :</span></dt><dd>celsius</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 32 B </td>
                        <td> 32 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (4,) </td>
                        <td> (4,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="92" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="42" x2="120" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="42" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,42.89879552186203 0.0,42.89879552186203" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="62.898796" font-size="1.0rem" font-weight="100" text-anchor="middle" >4</text>
  <text x="140.000000" y="21.449398" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,21.449398)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-407a7361-3319-40dd-a593-189fb81c00b9' class='xr-section-summary-in' type='checkbox'  ><label for='section-407a7361-3319-40dd-a593-189fb81c00b9' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>chirp_num</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-1b9fb8f5-771e-48e1-90ca-4c146283d945' class='xr-index-data-in' type='checkbox'/><label for='index-1b9fb8f5-771e-48e1-90ca-4c146283d945' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
            19],
           dtype=&#x27;int64&#x27;, name=&#x27;chirp_num&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>chirp_time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-92ed317c-6ba6-42ff-8a35-fe61ce656211' class='xr-index-data-in' type='checkbox'/><label for='index-92ed317c-6ba6-42ff-8a35-fe61ce656211' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(TimedeltaIndex([       &#x27;0 days 00:00:00&#x27;, &#x27;0 days 00:00:00.000025&#x27;,
                &#x27;0 days 00:00:00.000050&#x27;, &#x27;0 days 00:00:00.000075&#x27;,
                &#x27;0 days 00:00:00.000100&#x27;, &#x27;0 days 00:00:00.000125&#x27;,
                &#x27;0 days 00:00:00.000150&#x27;, &#x27;0 days 00:00:00.000175&#x27;,
                &#x27;0 days 00:00:00.000200&#x27;, &#x27;0 days 00:00:00.000225&#x27;,
                ...
                &#x27;0 days 00:00:00.999775&#x27;, &#x27;0 days 00:00:00.999800&#x27;,
                &#x27;0 days 00:00:00.999825&#x27;, &#x27;0 days 00:00:00.999850&#x27;,
                &#x27;0 days 00:00:00.999875&#x27;, &#x27;0 days 00:00:00.999900&#x27;,
                &#x27;0 days 00:00:00.999925&#x27;, &#x27;0 days 00:00:00.999950&#x27;,
                &#x27;0 days 00:00:00.999975&#x27;,        &#x27;0 days 00:00:01&#x27;],
               dtype=&#x27;timedelta64[ns]&#x27;, name=&#x27;chirp_time&#x27;, length=40001, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>profile_range</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-e5fd647a-6f24-4e10-8278-65404ff351f5' class='xr-index-data-in' type='checkbox'/><label for='index-e5fd647a-6f24-4e10-8278-65404ff351f5' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([               0.0, 0.2102895577845166, 0.4205791155690332,
              0.6308686733535498, 0.8411582311380664,  1.051447788922583,
              1.2617373467070996, 1.4720269044916163, 1.6823164622761329,
              1.8926060200606494,
              ...
              1498.1028096568964, 1498.3130992146807, 1498.5233887724653,
              1498.7336783302499, 1498.9439678880344,  1499.154257445819,
              1499.3645470036033, 1499.5748365613879, 1499.7851261191724,
               1499.995415676957],
             dtype=&#x27;float64&#x27;, name=&#x27;profile_range&#x27;, length=7134))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b49ccb06-7f74-432c-9977-3ae21c98669a' class='xr-index-data-in' type='checkbox'/><label for='index-b49ccb06-7f74-432c-9977-3ae21c98669a' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-06-23 01:36:56&#x27;, &#x27;2022-06-23 01:51:57&#x27;,
               &#x27;2022-06-23 02:06:53&#x27;, &#x27;2022-06-23 02:21:52&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-73c3dad2-f48c-4eef-8784-86f0fcea831a' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-73c3dad2-f48c-4eef-8784-86f0fcea831a' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_reloaded</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">ds_small</span><span class="o">.</span><span class="n">profile</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>If we want to delete the zarr store from the scratch bucket use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s3</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This worked fine, but when we attempt to apply this to a whole season of data from this ApRES unit, we run encouner an issue. The step above involved loading the data in the <code class="docutils literal notranslate"><span class="pre">dat</span></code> file into memory; we dont have a way of lazily loading from <code class="docutils literal notranslate"><span class="pre">dat</span></code> files. The issue is that we cannot whole season of data into memory. To estimate the total size of these data, we can check the length of the list of <code class="docutils literal notranslate"><span class="pre">dat</span></code> files we created earlier (‘dat_file_list’) and multiply by the size of the xarray dataset we generated from one <code class="docutils literal notranslate"><span class="pre">dat</span></code> file above (<code class="docutils literal notranslate"><span class="pre">ds</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dat_file_list</span><span class="p">)</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e9</span><span class="si">}</span><span class="s2"> GB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>622.107428376 GB
</pre></div>
</div>
</div>
</div>
<p>Our way around this issue was to first save the xarray loaded from each <code class="docutils literal notranslate"><span class="pre">dat</span></code> file to a single zarr store, then load all the individual zarr stores lazily into a single xarray dataset and save this to one big zarr store.</p>
<section id="save-each-dat-to-a-single-zarr-store">
<h4>Save each <code class="docutils literal notranslate"><span class="pre">dat</span></code> to a single zarr store<a class="headerlink" href="#save-each-dat-to-a-single-zarr-store" title="Permalink to this headline">#</a></h4>
<p>We used <a class="reference external" href="https://github.com/ldeo-glaciology/xapres/blob/master/notebooks/to_zarr/to_individual_zarr.ipynb">this</a> notebook to save each <code class="docutils literal notranslate"><span class="pre">dat</span></code> file’s data to an individual zarr store. The key cell is recreated below. This code will not work here, but we ran it on infrastructure very similar to cryocloud on a dask cluster.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">xapres_to_zarr</span><span class="p">(</span><span class="n">site</span><span class="p">):</span>  
    <span class="n">directory</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;gs://ldeo-glaciology/GL_apres_2022/</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s2">&quot;</span>
    
    <span class="n">fd</span> <span class="o">=</span> <span class="n">xa</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">from_dats</span><span class="p">(</span><span class="n">max_range</span><span class="o">=</span><span class="mi">1400</span><span class="p">)</span>
    <span class="n">dat_file_list</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">list_files</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">directory</span><span class="p">,</span> 
                <span class="n">remote_load</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../../../secrets/ldeo-glaciology-bc97b12df06b.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">token_file</span><span class="p">)</span>
    
    <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">tqdm_slack</span><span class="p">(</span><span class="n">dat_file_list</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="n">slack_token</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s1">&#39;python-timer&#39;</span><span class="p">):</span> 
        
        <span class="n">fd</span> <span class="o">=</span> <span class="n">xa</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">from_dats</span><span class="p">(</span><span class="n">max_range</span><span class="o">=</span><span class="mi">1400</span><span class="p">)</span>
        <span class="n">fd</span><span class="o">.</span><span class="n">load_all</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> 
                <span class="n">remote_load</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                <span class="n">file_names_to_process</span><span class="o">=</span><span class="p">[</span><span class="n">file</span><span class="p">])</span>
        
        <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;gs://ldeo-glaciology/apres/greenland/2022/</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s1">/individual_zarrs_2/dat_</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> 
        <span class="n">mapper</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">get_mapper</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>

        <span class="n">ds</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">data</span>
        <span class="c1">#ds = fd.data.chunk({&#39;time&#39;:1,&#39;attenuator_setting_pair&#39;:-1, &#39;chirp_num&#39;:-1, &#39;profile_range&#39;: -1, &#39;chirp_time&#39;:-1  })</span>
        
        <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">to_zarr</span><span class="p">(</span><span class="n">mapper</span><span class="p">,</span> <span class="n">consolidated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        
        <span class="k">del</span> <span class="n">xa</span>
        <span class="k">del</span> <span class="n">ds</span>
        <span class="n">num</span><span class="o">+=</span><span class="mi">1</span>
        
</pre></div>
</div>
</section>
<section id="lazily-load-every-all-zarr-store-and-write-to-one-big-zarr">
<h4>Lazily load every all zarr store and write to one big zarr<a class="headerlink" href="#lazily-load-every-all-zarr-store-and-write-to-one-big-zarr" title="Permalink to this headline">#</a></h4>
<p>The next step is to load each zarr file lazily into a single xarray dataset and save this to a single zarr store. We used <a class="reference external" href="https://github.com/ldeo-glaciology/xapres/blob/master/notebooks/to_zarr/write_big_zarrs.ipynb">this</a> notebook to do this. The key code is as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">zarrs_to_onezarr</span><span class="p">(</span><span class="n">site</span><span class="p">):</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;gs://ldeo-glaciology/apres/greenland/2022/</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s1">/individual_zarrs_2/dat_*&#39;</span><span class="p">,</span>
                               <span class="n">chunks</span> <span class="o">=</span> <span class="p">{},</span> 
                               <span class="n">engine</span> <span class="o">=</span> <span class="s1">&#39;zarr&#39;</span><span class="p">,</span> 
                               <span class="n">consolidated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                               <span class="n">parallel</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;attenuator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">attenuator</span><span class="p">[</span><span class="mi">500</span><span class="p">]</span>
    <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;AFGain&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">AFGain</span><span class="p">[</span><span class="mi">500</span><span class="p">]</span>
        
    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">ds</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">ds</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="s1">&#39;chunks&#39;</span><span class="p">]</span>

    <span class="n">profile_stacked</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;chirp_num&#39;</span><span class="p">)</span>
    <span class="n">ds_stacked</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">assign</span><span class="p">({</span><span class="s1">&#39;profile_stacked&#39;</span><span class="p">:</span><span class="n">profile_stacked</span><span class="p">})</span>
    <span class="n">ds_stacked_rechunked</span> <span class="o">=</span> <span class="n">ds_stacked</span><span class="o">.</span><span class="n">chunk</span><span class="p">({</span><span class="s1">&#39;time&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">})</span>
    
    <span class="c1">#encoding = {i: {&quot;dtype&quot;: &quot;float64&quot;} for i in ds_stacked_rechunked.data_vars}</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;seconds since 1970-01-01&#39;</span><span class="p">}}</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;gs://ldeo-glaciology/apres/greenland/2022/single_zarrs_noencode/</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s1">&#39;</span> 
    <span class="n">mapper</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">get_mapper</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span> 
    <span class="k">with</span> <span class="n">performance_report</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ds_stacked_rechunked_</span><span class="si">{</span><span class="n">site</span><span class="si">}</span><span class="s1">.html&#39;</span><span class="p">):</span>
        <span class="n">ds_stacked_rechunked</span><span class="o">.</span><span class="n">to_zarr</span><span class="p">(</span><span class="n">mapper</span><span class="p">,</span> <span class="n">consolidated</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">safe_chunks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
</pre></div>
</div>
<p>The method described above works in principle, but in practice we found that the process continued for a very long time, gradually filling the notebook memory, until the kernal finally died.</p>
<p>The issue was chunking!</p>
<p>Let’s take a look at the chunk sizes of the zarr stores we created above:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasets</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;gs://ldeo-glaciology/apres/greenland/2022/A103/individual_zarrs_2/dat_</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">127</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">]:</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span>
                         <span class="n">chunks</span> <span class="o">=</span> <span class="p">{},</span> 
                         <span class="n">engine</span> <span class="o">=</span> <span class="s1">&#39;zarr&#39;</span><span class="p">,</span> 
                         <span class="n">consolidated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">dim_to_print</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span>
    <span class="n">dim_num</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">get_axis_num</span><span class="p">(</span><span class="n">dim_to_print</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Chunk sizes along the </span><span class="si">{</span><span class="n">dim_to_print</span><span class="si">}</span><span class="s2"> dimension = </span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">chunks</span><span class="p">[</span><span class="n">dim_num</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Chunk sizes along the time dimension = (1,)
Chunk sizes along the time dimension = (3, 3, 3, 3)
Chunk sizes along the time dimension = (1, 1, 1)
Chunk sizes along the time dimension = (10, 10, 10, 10)
Chunk sizes along the time dimension = (1,)
Chunk sizes along the time dimension = (12, 12, 12, 12, 12, 12, 12, 10)
Chunk sizes along the time dimension = (12, 12, 12, 12, 12, 12, 12, 10)
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.chunks</span></code> attribute contains a list (actually a tuple) with each element corresponding to a different dimension and containing a list of the chunk sizes. In the cell above we extracted the list corresponding to the time dimension.</p>
<p>The chunk sizes vary within each xarray and between xarrays. To see the implications of this, we will lazily load a few of the individual zarr stores into a single xarray dataset, then take a look at the resulting chunk sizes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_some_zarrs</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">],</span>
                           <span class="n">chunks</span> <span class="o">=</span> <span class="p">{},</span> 
                           <span class="n">engine</span> <span class="o">=</span> <span class="s1">&#39;zarr&#39;</span><span class="p">,</span> 
                           <span class="n">consolidated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                           <span class="n">parallel</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">ds_some_zarrs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:          (time: 245, attenuator_setting_pair: 2, chirp_time: 40001,
                      chirp_num: 20, profile_range: 6658)
Coordinates:
    AFGain           (time, attenuator_setting_pair) int64 dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;
    attenuator       (time, attenuator_setting_pair) float64 dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;
    burst_number     (time) int64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
  * chirp_num        (chirp_num) int64 0 1 2 3 4 5 6 7 ... 13 14 15 16 17 18 19
  * chirp_time       (chirp_time) timedelta64[ns] 00:00:00 ... 00:00:01
    filename         (time) &lt;U83 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
  * profile_range    (profile_range) float64 0.0 0.2103 ... 1.4e+03 1.4e+03
  * time             (time) datetime64[ns] 2022-02-17T16:37:49 ... 2022-05-28...
Dimensions without coordinates: attenuator_setting_pair
Data variables:
    battery_voltage  (time) float64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
    chirp            (time, chirp_time, chirp_num, attenuator_setting_pair) float64 dask.array&lt;chunksize=(1, 5001, 5, 1), meta=np.ndarray&gt;
    latitude         (time) float64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
    longitude        (time) float64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
    profile          (time, profile_range, chirp_num, attenuator_setting_pair) complex128 dask.array&lt;chunksize=(1, 1665, 5, 1), meta=np.ndarray&gt;
    temperature_1    (time) float64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
    temperature_2    (time) float64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-d9ddfd55-0ef0-4851-b35d-655901754ad4' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-d9ddfd55-0ef0-4851-b35d-655901754ad4' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 245</li><li><span>attenuator_setting_pair</span>: 2</li><li><span class='xr-has-index'>chirp_time</span>: 40001</li><li><span class='xr-has-index'>chirp_num</span>: 20</li><li><span class='xr-has-index'>profile_range</span>: 6658</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-93bf7a36-2c84-40c6-8d68-04f628580781' class='xr-section-summary-in' type='checkbox'  checked><label for='section-93bf7a36-2c84-40c6-8d68-04f628580781' class='xr-section-summary' >Coordinates: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>AFGain</span></div><div class='xr-var-dims'>(time, attenuator_setting_pair)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;</div><input id='attrs-e066ebf4-da71-4824-a7ae-cca92d85c9cb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e066ebf4-da71-4824-a7ae-cca92d85c9cb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d918a496-b5f6-4781-9c10-611168041979' class='xr-var-data-in' type='checkbox'><label for='data-d918a496-b5f6-4781-9c10-611168041979' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>audio-frequency gain control setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 3.83 kiB </td>
                        <td> 1.47 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245, 2) </td>
                        <td> (94, 2) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 14 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> int64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="75" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="0" x2="25" y2="0" />
  <line x1="0" y1="6" x2="25" y2="6" />
  <line x1="0" y1="7" x2="25" y2="7" />
  <line x1="0" y1="27" x2="25" y2="27" />
  <line x1="0" y1="27" x2="25" y2="27" />
  <line x1="0" y1="73" x2="25" y2="73" />
  <line x1="0" y1="120" x2="25" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="25" y1="0" x2="25" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="45.412617" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,45.412617,60.000000)">245</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>attenuator</span></div><div class='xr-var-dims'>(time, attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;</div><input id='attrs-7720c3be-2273-4cc2-877d-235084cdcd0b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7720c3be-2273-4cc2-877d-235084cdcd0b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-afa17b11-d5ea-4181-a026-a1c6e42596a6' class='xr-var-data-in' type='checkbox'><label for='data-afa17b11-d5ea-4181-a026-a1c6e42596a6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>radio-frequency attenuator setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 3.83 kiB </td>
                        <td> 1.47 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245, 2) </td>
                        <td> (94, 2) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 14 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="75" height="170" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="0" x2="25" y2="0" />
  <line x1="0" y1="6" x2="25" y2="6" />
  <line x1="0" y1="7" x2="25" y2="7" />
  <line x1="0" y1="27" x2="25" y2="27" />
  <line x1="0" y1="27" x2="25" y2="27" />
  <line x1="0" y1="73" x2="25" y2="73" />
  <line x1="0" y1="120" x2="25" y2="120" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="120" style="stroke-width:2" />
  <line x1="25" y1="0" x2="25" y2="120" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,120.0 0.0,120.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="140.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="45.412617" y="60.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,45.412617,60.000000)">245</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>burst_number</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-52e72af7-37e1-4ea0-9bbc-220257d4904c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-52e72af7-37e1-4ea0-9bbc-220257d4904c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b6ca6112-67fc-4819-b61d-ce5a84a9cd1b' class='xr-var-data-in' type='checkbox'><label for='data-b6ca6112-67fc-4819-b61d-ce5a84a9cd1b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each burst within each file</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.91 kiB </td>
                        <td> 752 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> int64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_num</span></div><div class='xr-var-dims'>(chirp_num)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 14 15 16 17 18 19</div><input id='attrs-b24837e1-f7b3-4f65-a408-ee830352d7ea' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b24837e1-f7b3-4f65-a408-ee830352d7ea' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d609da4c-5f76-48a4-a48a-c44be9c5909c' class='xr-var-data-in' type='checkbox'><label for='data-d609da4c-5f76-48a4-a48a-c44be9c5909c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each chirp within each burst</dd><dt><span>long_name :</span></dt><dd>chirp number</dd></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_time</span></div><div class='xr-var-dims'>(chirp_time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>00:00:00 ... 00:00:01</div><input id='attrs-4eae8c4b-862f-444a-afd3-cfd8c4817e3a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4eae8c4b-862f-444a-afd3-cfd8c4817e3a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-77309f49-def5-4bd6-a33d-2b41a14a8d5d' class='xr-var-data-in' type='checkbox'><label for='data-77309f49-def5-4bd6-a33d-2b41a14a8d5d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of samples during chirps</dd><dt><span>name :</span></dt><dd>time of samples during chirps</dd></dl></div><div class='xr-var-data'><pre>array([         0,      25000,      50000, ...,  999950000,  999975000,
       1000000000], dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>filename</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U83</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-410c2cd8-c001-441d-a671-f386653ebbb6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-410c2cd8-c001-441d-a671-f386653ebbb6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-130d1ec3-c790-4080-881b-757fbb97c4bd' class='xr-var-data-in' type='checkbox'><label for='data-130d1ec3-c790-4080-881b-757fbb97c4bd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the name of the file that contains each burst</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 79.43 kiB </td>
                        <td> 30.48 kiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> <U83 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>profile_range</span></div><div class='xr-var-dims'>(profile_range)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.2103 ... 1.4e+03 1.4e+03</div><input id='attrs-3f945878-ee80-4528-8b6d-dcbb286e03ac' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3f945878-ee80-4528-8b6d-dcbb286e03ac' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-69f48577-c76c-4179-b76f-6bb799c86c55' class='xr-var-data-in' type='checkbox'><label for='data-69f48577-c76c-4179-b76f-6bb799c86c55' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>meters</dd></dl></div><div class='xr-var-data'><pre>array([0.000000e+00, 2.102896e-01, 4.205791e-01, ..., 1.399477e+03,
       1.399687e+03, 1.399898e+03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-02-17T16:37:49 ... 2022-05-...</div><input id='attrs-b9dd500e-ef11-4725-b1b7-0da9c6d30010' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b9dd500e-ef11-4725-b1b7-0da9c6d30010' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cd3e768d-e37b-42e7-8d97-4b5c1d05eb51' class='xr-var-data-in' type='checkbox'><label for='data-cd3e768d-e37b-42e7-8d97-4b5c1d05eb51' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of burst</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-02-17T16:37:49.000000000&#x27;, &#x27;2022-02-17T16:40:10.000000000&#x27;,
       &#x27;2022-02-17T16:55:04.000000000&#x27;, ..., &#x27;2022-05-28T11:43:06.000000000&#x27;,
       &#x27;2022-05-28T11:58:08.000000000&#x27;, &#x27;2022-05-28T12:13:08.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1bdb05a6-33d1-4c80-bcf2-09fa00d841bd' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1bdb05a6-33d1-4c80-bcf2-09fa00d841bd' class='xr-section-summary' >Data variables: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>battery_voltage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-2f2e5d12-e868-4344-97b9-59a5723cdc73' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2f2e5d12-e868-4344-97b9-59a5723cdc73' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-af2f22f3-080f-42b1-a6c6-c602461b4e99' class='xr-var-data-in' type='checkbox'><label for='data-af2f22f3-080f-42b1-a6c6-c602461b4e99' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>battery voltage</dd><dt><span>units :</span></dt><dd>volts</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.91 kiB </td>
                        <td> 752 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>chirp</span></div><div class='xr-var-dims'>(time, chirp_time, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 5001, 5, 1), meta=np.ndarray&gt;</div><input id='attrs-e88d03b8-75f9-4cbc-8075-c5b5a134d5e9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e88d03b8-75f9-4cbc-8075-c5b5a134d5e9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-11fdb022-ad9d-4d7e-a2ee-a251f83085ae' class='xr-var-data-in' type='checkbox'><label for='data-11fdb022-ad9d-4d7e-a2ee-a251f83085ae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>voltage from the analog-to-digital converter after the received signal has been mixed with the transmitted signal and the result has been filtered to leave only the low frequency compponent corresponding to the differences in the frequencies of the Tx and Rx signals</dd><dt><span>long_name :</span></dt><dd>de-ramped chirp</dd><dt><span>units :</span></dt><dd>volts</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 2.92 GiB </td>
                        <td> 2.29 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245, 40001, 20, 2) </td>
                        <td> (12, 5001, 5, 1) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 2904 chunks in 22 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="336" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="25" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="13" y1="0" x2="13" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="45.412617" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,45.412617,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="165" y2="70" style="stroke-width:2" />
  <line x1="95" y1="6" x2="165" y2="76" />
  <line x1="95" y1="12" x2="165" y2="83" />
  <line x1="95" y1="19" x2="165" y2="89" />
  <line x1="95" y1="25" x2="165" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="95" y2="25" style="stroke-width:2" />
  <line x1="103" y1="8" x2="103" y2="34" />
  <line x1="112" y1="17" x2="112" y2="43" />
  <line x1="112" y1="17" x2="112" y2="43" />
  <line x1="121" y1="26" x2="121" y2="51" />
  <line x1="130" y1="35" x2="130" y2="60" />
  <line x1="130" y1="35" x2="130" y2="60" />
  <line x1="139" y1="44" x2="139" y2="69" />
  <line x1="147" y1="52" x2="147" y2="78" />
  <line x1="147" y1="52" x2="147" y2="78" />
  <line x1="156" y1="61" x2="156" y2="87" />
  <line x1="165" y1="70" x2="165" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 165.58823529411765,70.58823529411765 165.58823529411765,96.00085180870013 95.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="103" y1="8" x2="129" y2="8" />
  <line x1="112" y1="17" x2="138" y2="17" />
  <line x1="112" y1="17" x2="138" y2="17" />
  <line x1="121" y1="26" x2="146" y2="26" />
  <line x1="130" y1="35" x2="155" y2="35" />
  <line x1="130" y1="35" x2="155" y2="35" />
  <line x1="139" y1="44" x2="164" y2="44" />
  <line x1="147" y1="52" x2="173" y2="52" />
  <line x1="147" y1="52" x2="173" y2="52" />
  <line x1="156" y1="61" x2="182" y2="61" />
  <line x1="165" y1="70" x2="191" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="165" y2="70" style="stroke-width:2" />
  <line x1="107" y1="0" x2="178" y2="70" />
  <line x1="120" y1="0" x2="191" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 120.41261651458248,0.0 191.00085180870013,70.58823529411765 165.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="165" y1="70" x2="191" y2="70" style="stroke-width:2" />
  <line x1="165" y1="76" x2="191" y2="76" />
  <line x1="165" y1="83" x2="191" y2="83" />
  <line x1="165" y1="89" x2="191" y2="89" />
  <line x1="165" y1="96" x2="191" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="165" y1="70" x2="165" y2="96" style="stroke-width:2" />
  <line x1="178" y1="70" x2="178" y2="96" />
  <line x1="191" y1="70" x2="191" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="165.58823529411765,70.58823529411765 191.00085180870013,70.58823529411765 191.00085180870013,96.00085180870013 165.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="178.294544" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="211.000852" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,211.000852,83.294544)">20</text>
  <text x="120.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,120.294118,80.706734)">40001</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-066214d6-f73d-4834-9c85-ac53a0e7c427' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-066214d6-f73d-4834-9c85-ac53a0e7c427' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-beeb05a0-d06c-4033-a9e6-ef2befd5b7fc' class='xr-var-data-in' type='checkbox'><label for='data-beeb05a0-d06c-4033-a9e6-ef2befd5b7fc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude of burst</dd><dt><span>units :</span></dt><dd>degrees</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.91 kiB </td>
                        <td> 752 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-b5c67d31-ca29-4eab-a7e1-1b0642c04b22' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b5c67d31-ca29-4eab-a7e1-1b0642c04b22' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-acad2289-2237-43d9-b47d-c44c4cb4e0c3' class='xr-var-data-in' type='checkbox'><label for='data-acad2289-2237-43d9-b47d-c44c4cb4e0c3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude of burst</dd><dt><span>units :</span></dt><dd>degrees</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.91 kiB </td>
                        <td> 752 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>profile</span></div><div class='xr-var-dims'>(time, profile_range, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>complex128</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1665, 5, 1), meta=np.ndarray&gt;</div><input id='attrs-e629c8a4-cfc6-4898-b17a-aef086682082' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e629c8a4-cfc6-4898-b17a-aef086682082' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b57d59bf-8d58-4dc8-9a11-257564f306c4' class='xr-var-data-in' type='checkbox'><label for='data-b57d59bf-8d58-4dc8-9a11-257564f306c4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>complex profile computed from the fourier transform of the de-ramped chirp</dd><dt><span>long_name :</span></dt><dd>profile</dd><dt><span>units :</span></dt><dd>-</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 0.97 GiB </td>
                        <td> 1.52 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245, 6658, 20, 2) </td>
                        <td> (12, 1665, 5, 1) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1160 chunks in 22 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> complex128 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="350" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="32" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="32" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="13" y1="0" x2="13" y2="25" />
  <line x1="15" y1="0" x2="15" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="26" y1="0" x2="26" y2="25" />
  <line x1="28" y1="0" x2="28" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="32" y1="0" x2="32" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 32.6245602509526,0.0 32.6245602509526,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="16.312280" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="52.624560" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,52.624560,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="102" y1="0" x2="172" y2="70" style="stroke-width:2" />
  <line x1="102" y1="6" x2="172" y2="76" />
  <line x1="102" y1="12" x2="172" y2="83" />
  <line x1="102" y1="19" x2="172" y2="89" />
  <line x1="102" y1="25" x2="172" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="102" y1="0" x2="102" y2="25" style="stroke-width:2" />
  <line x1="119" y1="17" x2="119" y2="43" />
  <line x1="137" y1="35" x2="137" y2="60" />
  <line x1="137" y1="35" x2="137" y2="60" />
  <line x1="154" y1="52" x2="154" y2="78" />
  <line x1="172" y1="70" x2="172" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="102.0,0.0 172.58823529411765,70.58823529411765 172.58823529411765,96.00085180870013 102.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="102" y1="0" x2="127" y2="0" style="stroke-width:2" />
  <line x1="119" y1="17" x2="145" y2="17" />
  <line x1="137" y1="35" x2="162" y2="35" />
  <line x1="137" y1="35" x2="162" y2="35" />
  <line x1="154" y1="52" x2="180" y2="52" />
  <line x1="172" y1="70" x2="198" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="102" y1="0" x2="172" y2="70" style="stroke-width:2" />
  <line x1="114" y1="0" x2="185" y2="70" />
  <line x1="127" y1="0" x2="198" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="102.0,0.0 127.41261651458248,0.0 198.00085180870013,70.58823529411765 172.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="172" y1="70" x2="198" y2="70" style="stroke-width:2" />
  <line x1="172" y1="76" x2="198" y2="76" />
  <line x1="172" y1="83" x2="198" y2="83" />
  <line x1="172" y1="89" x2="198" y2="89" />
  <line x1="172" y1="96" x2="198" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="172" y1="70" x2="172" y2="96" style="stroke-width:2" />
  <line x1="185" y1="70" x2="185" y2="96" />
  <line x1="198" y1="70" x2="198" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="172.58823529411765,70.58823529411765 198.00085180870013,70.58823529411765 198.00085180870013,96.00085180870013 172.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="185.294544" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="218.000852" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,218.000852,83.294544)">20</text>
  <text x="127.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,127.294118,80.706734)">6658</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-7f121134-e2de-4b5c-918f-ddb1cb8fb8b2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7f121134-e2de-4b5c-918f-ddb1cb8fb8b2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c8006831-1da4-43a6-8163-a70d9de842cb' class='xr-var-data-in' type='checkbox'><label for='data-c8006831-1da4-43a6-8163-a70d9de842cb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in one location</dd><dt><span>units :</span></dt><dd>celsius</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.91 kiB </td>
                        <td> 752 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-4b6ab78e-997c-4192-bbea-40126204e7f0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4b6ab78e-997c-4192-bbea-40126204e7f0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-376e52cd-6836-40bc-8d1e-28d1248fdd16' class='xr-var-data-in' type='checkbox'><label for='data-376e52cd-6836-40bc-8d1e-28d1248fdd16' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in a second location</dd><dt><span>units :</span></dt><dd>celsius</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 1.91 kiB </td>
                        <td> 752 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (245,) </td>
                        <td> (94,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 7 chunks in 15 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="0" y1="0" x2="0" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="73" y1="0" x2="73" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >245</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-1663d3b4-c3bc-4188-8ac4-6c0c3f9a57fb' class='xr-section-summary-in' type='checkbox'  ><label for='section-1663d3b4-c3bc-4188-8ac4-6c0c3f9a57fb' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>chirp_num</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-09951b16-29ae-443b-83d8-651ad839b503' class='xr-index-data-in' type='checkbox'/><label for='index-09951b16-29ae-443b-83d8-651ad839b503' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
            19],
           dtype=&#x27;int64&#x27;, name=&#x27;chirp_num&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>chirp_time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-14d8c3d4-ea2e-4b20-b378-974fcee29400' class='xr-index-data-in' type='checkbox'/><label for='index-14d8c3d4-ea2e-4b20-b378-974fcee29400' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(TimedeltaIndex([       &#x27;0 days 00:00:00&#x27;, &#x27;0 days 00:00:00.000025&#x27;,
                &#x27;0 days 00:00:00.000050&#x27;, &#x27;0 days 00:00:00.000075&#x27;,
                &#x27;0 days 00:00:00.000100&#x27;, &#x27;0 days 00:00:00.000125&#x27;,
                &#x27;0 days 00:00:00.000150&#x27;, &#x27;0 days 00:00:00.000175&#x27;,
                &#x27;0 days 00:00:00.000200&#x27;, &#x27;0 days 00:00:00.000225&#x27;,
                ...
                &#x27;0 days 00:00:00.999775&#x27;, &#x27;0 days 00:00:00.999800&#x27;,
                &#x27;0 days 00:00:00.999825&#x27;, &#x27;0 days 00:00:00.999850&#x27;,
                &#x27;0 days 00:00:00.999875&#x27;, &#x27;0 days 00:00:00.999900&#x27;,
                &#x27;0 days 00:00:00.999925&#x27;, &#x27;0 days 00:00:00.999950&#x27;,
                &#x27;0 days 00:00:00.999975&#x27;,        &#x27;0 days 00:00:01&#x27;],
               dtype=&#x27;timedelta64[ns]&#x27;, name=&#x27;chirp_time&#x27;, length=40001, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>profile_range</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-1519af3e-e22a-4428-a54b-d99104810d25' class='xr-index-data-in' type='checkbox'/><label for='index-1519af3e-e22a-4428-a54b-d99104810d25' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([               0.0, 0.2102895577845166, 0.4205791155690332,
              0.6308686733535498, 0.8411582311380664,  1.051447788922583,
              1.2617373467070996, 1.4720269044916163, 1.6823164622761329,
              1.8926060200606494,
              ...
              1398.0049801514665, 1398.2152697092508, 1398.4255592670354,
                1398.63584882482, 1398.8461383826045,  1399.056427940389,
              1399.2667174981734,  1399.477007055958, 1399.6872966137425,
               1399.897586171527],
             dtype=&#x27;float64&#x27;, name=&#x27;profile_range&#x27;, length=6658))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-0d40fa04-e20d-4478-bbfa-72d03bcef810' class='xr-index-data-in' type='checkbox'/><label for='index-0d40fa04-e20d-4478-bbfa-72d03bcef810' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-02-17 16:37:49&#x27;, &#x27;2022-02-17 16:40:10&#x27;,
               &#x27;2022-02-17 16:55:04&#x27;, &#x27;2022-02-17 17:10:04&#x27;,
               &#x27;2022-02-17 17:25:04&#x27;, &#x27;2022-02-17 17:40:04&#x27;,
               &#x27;2022-02-17 17:55:04&#x27;, &#x27;2022-02-17 18:10:04&#x27;,
               &#x27;2022-02-17 18:25:04&#x27;, &#x27;2022-02-17 18:40:04&#x27;,
               ...
               &#x27;2022-05-28 09:58:06&#x27;, &#x27;2022-05-28 10:13:06&#x27;,
               &#x27;2022-05-28 10:28:05&#x27;, &#x27;2022-05-28 10:43:05&#x27;,
               &#x27;2022-05-28 10:58:07&#x27;, &#x27;2022-05-28 11:13:06&#x27;,
               &#x27;2022-05-28 11:28:07&#x27;, &#x27;2022-05-28 11:43:06&#x27;,
               &#x27;2022-05-28 11:58:08&#x27;, &#x27;2022-05-28 12:13:08&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=245, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f04fc99f-8bf8-47c2-8f45-33b4a5a08c2b' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-f04fc99f-8bf8-47c2-8f45-33b4a5a08c2b' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ds_some_zarrs</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">chunks</span><span class="p">[</span><span class="n">dim_num</span><span class="p">]);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Chunk number&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Chunk size&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Chunk size&#39;)
</pre></div>
</div>
<img alt="../_images/ARCOdata_writingZarrs_69_1.png" src="../_images/ARCOdata_writingZarrs_69_1.png" />
</div>
</div>
<p>This presents a problem because <a class="reference external" href="https://zarr.readthedocs.io/en/stable/spec/v2.html#chunks">zarr stores require uniform chunk sizes</a> within each dimension (except for the last chunk). When it comes to writing the whole lazily loaded xarray, this means that you must first ‘rechunk’ the data. This is a very costly operation, which is why this stage of the procedure was failing. In this toy scenario illustrated in the figure below, one chunk in the original dataset is potentially accessed by multiple workers simultaneously working on writing multiple chunks. At the same time, each new chunk in the rechunked dataset must be built using data from multiple chunks in the original dataset. In large datasets, this gets very computationally intensive.</p>
<p><img alt="chunking" src="../_images/chunking.png" /></p>
<p>The solution was to rechunk the data loaded from each <code class="docutils literal notranslate"><span class="pre">dat</span></code> file prior to the frst write to zarr so that the length of the chunks in the time dimension is 1, using the following line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">chunk</span><span class="p">({</span><span class="s1">&#39;time&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;attenuator_setting_pair&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;chirp_num&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;profile_range&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;chirp_time&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span>  <span class="p">})</span>
</pre></div>
</div>
<p>Finally, when each individual zarr store was lazily loaded, we rechunked to 20 in the time dimension before concatenating, so that the resulting xarray had reasonable chunk sizes.</p>
<p>The full procedure is summarized in the following diagram:</p>
<p><img alt="apres_worksflow" src="../_images/apres_workflow.png" /></p>
<p>The result is a zarr store containing a whole season of data from ApRES site A103:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xa</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">load_zarr</span><span class="p">(</span><span class="s2">&quot;A103&quot;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">]</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:          (attenuator_setting_pair: 2, time: 11763,
                      chirp_time: 40001, chirp_num: 20, profile_range: 6658)
Coordinates:
    AFGain           (attenuator_setting_pair) int64 dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;
    attenuator       (attenuator_setting_pair) float64 dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;
    burst_number     (time) int64 dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;
  * chirp_num        (chirp_num) int64 0 1 2 3 4 5 6 7 ... 13 14 15 16 17 18 19
  * chirp_time       (chirp_time) timedelta64[ns] 00:00:00 ... 00:00:01
  * profile_range    (profile_range) float64 0.0 0.2103 ... 1.4e+03 1.4e+03
  * time             (time) datetime64[ns] 2022-02-17T16:37:49 ... 2022-09-25...
Dimensions without coordinates: attenuator_setting_pair
Data variables:
    battery_voltage  (time) float64 dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;
    chirp            (time, chirp_time, chirp_num, attenuator_setting_pair) float64 dask.array&lt;chunksize=(20, 40001, 20, 2), meta=np.ndarray&gt;
    latitude         (time) float64 dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;
    longitude        (time) float64 dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;
    profile          (time, profile_range, chirp_num, attenuator_setting_pair) complex128 dask.array&lt;chunksize=(20, 6658, 20, 2), meta=np.ndarray&gt;
    profile_stacked  (time, profile_range, attenuator_setting_pair) complex128 dask.array&lt;chunksize=(20, 6658, 2), meta=np.ndarray&gt;
    temperature_1    (time) float64 dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;
    temperature_2    (time) float64 dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-771b02df-2859-487f-b01c-871c7412d3e4' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-771b02df-2859-487f-b01c-871c7412d3e4' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>attenuator_setting_pair</span>: 2</li><li><span class='xr-has-index'>time</span>: 11763</li><li><span class='xr-has-index'>chirp_time</span>: 40001</li><li><span class='xr-has-index'>chirp_num</span>: 20</li><li><span class='xr-has-index'>profile_range</span>: 6658</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-57cda239-8dc7-4297-8e76-0d47bf5bf3fe' class='xr-section-summary-in' type='checkbox'  checked><label for='section-57cda239-8dc7-4297-8e76-0d47bf5bf3fe' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>AFGain</span></div><div class='xr-var-dims'>(attenuator_setting_pair)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;</div><input id='attrs-c231a3c6-2b60-414d-ae95-59bd3cfcafd7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c231a3c6-2b60-414d-ae95-59bd3cfcafd7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9dfcf98a-606f-4ac4-9b72-72dd9445420f' class='xr-var-data-in' type='checkbox'><label for='data-9dfcf98a-606f-4ac4-9b72-72dd9445420f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>audio-frequency gain control setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 16 B </td>
                        <td> 16 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (2,) </td>
                        <td> (2,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> int64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="110" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="60" x2="120" y2="60" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="60" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="60" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,60.0 0.0,60.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="80.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="140.000000" y="30.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,30.000000)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>attenuator</span></div><div class='xr-var-dims'>(attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;</div><input id='attrs-3dc3e202-25ae-4c9e-9b3e-3b2b80efae19' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3dc3e202-25ae-4c9e-9b3e-3b2b80efae19' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7125d56c-56b0-41dc-9f87-161686367f60' class='xr-var-data-in' type='checkbox'><label for='data-7125d56c-56b0-41dc-9f87-161686367f60' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>radio-frequency attenuator setting</dd><dt><span>units :</span></dt><dd>decibels</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 16 B </td>
                        <td> 16 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (2,) </td>
                        <td> (2,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="110" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="60" x2="120" y2="60" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="60" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="60" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,60.0 0.0,60.0" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="80.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="140.000000" y="30.000000" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,30.000000)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>burst_number</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-e14a24d5-fa20-43ff-ae1d-ea17ed30e9e9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e14a24d5-fa20-43ff-ae1d-ea17ed30e9e9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-66b0a4ad-9f49-4c86-b245-49c90a715b8f' class='xr-var-data-in' type='checkbox'><label for='data-66b0a4ad-9f49-4c86-b245-49c90a715b8f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each burst within each file</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 91.90 kiB </td>
                        <td> 8 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763,) </td>
                        <td> (1,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 11763 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> int64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="88" y1="0" x2="88" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="107" y1="0" x2="107" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_num</span></div><div class='xr-var-dims'>(chirp_num)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 14 15 16 17 18 19</div><input id='attrs-ec9fb1e8-eb37-4181-b124-6094ef96b8ad' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ec9fb1e8-eb37-4181-b124-6094ef96b8ad' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-52e10bec-6040-4c7e-9948-24e15eaa1739' class='xr-var-data-in' type='checkbox'><label for='data-52e10bec-6040-4c7e-9948-24e15eaa1739' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>the number of each chirp within each burst</dd><dt><span>long_name :</span></dt><dd>chirp number</dd></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>chirp_time</span></div><div class='xr-var-dims'>(chirp_time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>00:00:00 ... 00:00:01</div><input id='attrs-74b5a5ea-4284-43fe-9eb4-cfc5de9c74f9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-74b5a5ea-4284-43fe-9eb4-cfc5de9c74f9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3e61bdb6-d2cf-4885-acf6-5721e2ae3356' class='xr-var-data-in' type='checkbox'><label for='data-3e61bdb6-d2cf-4885-acf6-5721e2ae3356' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of samples during chirps</dd><dt><span>name :</span></dt><dd>time of samples during chirps</dd></dl></div><div class='xr-var-data'><pre>array([         0,      25000,      50000, ...,  999950000,  999975000,
       1000000000], dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>profile_range</span></div><div class='xr-var-dims'>(profile_range)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.2103 ... 1.4e+03 1.4e+03</div><input id='attrs-22f8c7a8-58f6-475c-b12b-f7962c2c0a7a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-22f8c7a8-58f6-475c-b12b-f7962c2c0a7a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d487945a-c0b0-434e-bf22-d64ada723502' class='xr-var-data-in' type='checkbox'><label for='data-d487945a-c0b0-434e-bf22-d64ada723502' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>meters</dd></dl></div><div class='xr-var-data'><pre>array([0.000000e+00, 2.102896e-01, 4.205791e-01, ..., 1.399477e+03,
       1.399687e+03, 1.399898e+03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-02-17T16:37:49 ... 2022-09-...</div><input id='attrs-f4e1e471-48d4-4aff-a5bb-076f4c21598a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f4e1e471-48d4-4aff-a5bb-076f4c21598a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2923c0cd-3055-4d19-8411-167f840d6b82' class='xr-var-data-in' type='checkbox'><label for='data-2923c0cd-3055-4d19-8411-167f840d6b82' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time of burst</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-02-17T16:37:49.000000000&#x27;, &#x27;2022-02-17T16:37:49.000000000&#x27;,
       &#x27;2022-02-17T16:37:49.000000000&#x27;, ..., &#x27;2022-09-25T16:37:49.000000000&#x27;,
       &#x27;2022-09-25T16:37:49.000000000&#x27;, &#x27;2022-09-25T16:37:49.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a9a25f74-c13c-4a75-9efc-fafa2abda3f3' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a9a25f74-c13c-4a75-9efc-fafa2abda3f3' class='xr-section-summary' >Data variables: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>battery_voltage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;</div><input id='attrs-00dfb21f-7744-4e34-b7c7-60a0240bd512' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-00dfb21f-7744-4e34-b7c7-60a0240bd512' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5d4632f7-697a-4af0-b499-e341fb4f1596' class='xr-var-data-in' type='checkbox'><label for='data-5d4632f7-697a-4af0-b499-e341fb4f1596' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>battery voltage</dd><dt><span>units :</span></dt><dd>volts</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 91.90 kiB </td>
                        <td> 160 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763,) </td>
                        <td> (20,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="88" y1="0" x2="88" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="107" y1="0" x2="107" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>chirp</span></div><div class='xr-var-dims'>(time, chirp_time, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20, 40001, 20, 2), meta=np.ndarray&gt;</div><input id='attrs-88a11cb7-d1ab-4ff8-a31e-59b9a88a39c3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-88a11cb7-d1ab-4ff8-a31e-59b9a88a39c3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d11fd49d-fe15-4ac4-ba6b-1f7e87b6fef0' class='xr-var-data-in' type='checkbox'><label for='data-d11fd49d-fe15-4ac4-ba6b-1f7e87b6fef0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>voltage from the analog-to-digital converter after the received signal has been mixed with the transmitted signal and the result has been filtered to leave only the low frequency compponent corresponding to the differences in the frequencies of the Tx and Rx signals</dd><dt><span>long_name :</span></dt><dd>de-ramped chirp</dd><dt><span>units :</span></dt><dd>volts</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 140.23 GiB </td>
                        <td> 244.15 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763, 40001, 20, 2) </td>
                        <td> (20, 40001, 20, 2) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="372" height="146" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="43" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="43" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="13" y1="0" x2="13" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="28" y1="0" x2="28" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="32" y1="0" x2="32" y2="25" />
  <line x1="34" y1="0" x2="34" y2="25" />
  <line x1="35" y1="0" x2="35" y2="25" />
  <line x1="36" y1="0" x2="36" y2="25" />
  <line x1="38" y1="0" x2="38" y2="25" />
  <line x1="39" y1="0" x2="39" y2="25" />
  <line x1="40" y1="0" x2="40" y2="25" />
  <line x1="42" y1="0" x2="42" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 43.477527943242386,0.0 43.477527943242386,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="21.738764" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="63.477528" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,63.477528,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="113" y1="0" x2="183" y2="70" style="stroke-width:2" />
  <line x1="113" y1="25" x2="183" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="113" y1="0" x2="113" y2="25" style="stroke-width:2" />
  <line x1="183" y1="70" x2="183" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="113.0,0.0 183.58823529411765,70.58823529411765 183.58823529411765,96.00085180870013 113.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="113" y1="0" x2="138" y2="0" style="stroke-width:2" />
  <line x1="183" y1="70" x2="209" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="113" y1="0" x2="183" y2="70" style="stroke-width:2" />
  <line x1="138" y1="0" x2="209" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="113.0,0.0 138.41261651458248,0.0 209.00085180870013,70.58823529411765 183.58823529411765,70.58823529411765" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="183" y1="70" x2="209" y2="70" style="stroke-width:2" />
  <line x1="183" y1="96" x2="209" y2="96" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="183" y1="70" x2="183" y2="96" style="stroke-width:2" />
  <line x1="209" y1="70" x2="209" y2="96" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="183.58823529411765,70.58823529411765 209.00085180870013,70.58823529411765 209.00085180870013,96.00085180870013 183.58823529411765,96.00085180870013" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="196.294544" y="116.000852" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="229.000852" y="83.294544" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,229.000852,83.294544)">20</text>
  <text x="138.294118" y="80.706734" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,138.294118,80.706734)">40001</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;</div><input id='attrs-98c313c3-1a49-43ca-b577-2fba730dc524' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-98c313c3-1a49-43ca-b577-2fba730dc524' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9a3e05a6-1ac2-480b-83ff-c9ccfb2124cc' class='xr-var-data-in' type='checkbox'><label for='data-9a3e05a6-1ac2-480b-83ff-c9ccfb2124cc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude of burst</dd><dt><span>units :</span></dt><dd>degrees</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 91.90 kiB </td>
                        <td> 160 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763,) </td>
                        <td> (20,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="88" y1="0" x2="88" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="107" y1="0" x2="107" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;</div><input id='attrs-d16bde99-4822-4756-a449-d3671cd7f332' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d16bde99-4822-4756-a449-d3671cd7f332' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-788e5f7f-cd62-442b-8326-cd34cbc8b8a5' class='xr-var-data-in' type='checkbox'><label for='data-788e5f7f-cd62-442b-8326-cd34cbc8b8a5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude of burst</dd><dt><span>units :</span></dt><dd>degrees</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 91.90 kiB </td>
                        <td> 160 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763,) </td>
                        <td> (20,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="88" y1="0" x2="88" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="107" y1="0" x2="107" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>profile</span></div><div class='xr-var-dims'>(time, profile_range, chirp_num, attenuator_setting_pair)</div><div class='xr-var-dtype'>complex128</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20, 6658, 20, 2), meta=np.ndarray&gt;</div><input id='attrs-7a86e3b8-8593-4809-88fb-2e71f2fd12f9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7a86e3b8-8593-4809-88fb-2e71f2fd12f9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b228213c-250a-4e48-ac4f-90b5b91d7a9b' class='xr-var-data-in' type='checkbox'><label for='data-b228213c-250a-4e48-ac4f-90b5b91d7a9b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>complex profile computed from the fourier transform of the de-ramped chirp</dd><dt><span>long_name :</span></dt><dd>profile</dd><dt><span>units :</span></dt><dd>-</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 46.68 GiB </td>
                        <td> 81.27 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763, 6658, 20, 2) </td>
                        <td> (20, 6658, 20, 2) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> complex128 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="495" height="115" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="22" y1="0" x2="22" y2="25" />
  <line x1="26" y1="0" x2="26" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="33" y1="0" x2="33" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="41" y1="0" x2="41" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="48" y1="0" x2="48" y2="25" />
  <line x1="52" y1="0" x2="52" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="59" y1="0" x2="59" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="67" y1="0" x2="67" y2="25" />
  <line x1="71" y1="0" x2="71" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="78" y1="0" x2="78" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="86" y1="0" x2="86" y2="25" />
  <line x1="89" y1="0" x2="89" y2="25" />
  <line x1="93" y1="0" x2="93" y2="25" />
  <line x1="97" y1="0" x2="97" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="105" y1="0" x2="105" y2="25" />
  <line x1="108" y1="0" x2="108" y2="25" />
  <line x1="112" y1="0" x2="112" y2="25" />
  <line x1="116" y1="0" x2="116" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="190" y1="0" x2="229" y2="39" style="stroke-width:2" />
  <line x1="190" y1="25" x2="229" y2="65" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="190" y1="0" x2="190" y2="25" style="stroke-width:2" />
  <line x1="229" y1="39" x2="229" y2="65" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="190.0,0.0 229.9537933000285,39.95379330002851 229.9537933000285,65.36640981461099 190.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="190" y1="0" x2="215" y2="0" style="stroke-width:2" />
  <line x1="229" y1="39" x2="255" y2="39" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="190" y1="0" x2="229" y2="39" style="stroke-width:2" />
  <line x1="215" y1="0" x2="255" y2="39" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="190.0,0.0 215.41261651458248,0.0 255.366409814611,39.95379330002851 229.9537933000285,39.95379330002851" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="229" y1="39" x2="255" y2="39" style="stroke-width:2" />
  <line x1="229" y1="65" x2="255" y2="65" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="229" y1="39" x2="229" y2="65" style="stroke-width:2" />
  <line x1="255" y1="39" x2="255" y2="65" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="229.9537933000285,39.95379330002851 255.366409814611,39.95379330002851 255.366409814611,65.36640981461099 229.9537933000285,65.36640981461099" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="242.660102" y="85.366410" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="275.366410" y="52.660102" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,275.366410,52.660102)">20</text>
  <text x="199.976897" y="65.389513" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,199.976897,65.389513)">6658</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>profile_stacked</span></div><div class='xr-var-dims'>(time, profile_range, attenuator_setting_pair)</div><div class='xr-var-dtype'>complex128</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20, 6658, 2), meta=np.ndarray&gt;</div><input id='attrs-9527f8e7-8d4a-47aa-9e32-309603a32879' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9527f8e7-8d4a-47aa-9e32-309603a32879' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-84a4fb23-e044-4c21-9a5a-8e73c6a220e8' class='xr-var-data-in' type='checkbox'><label for='data-84a4fb23-e044-4c21-9a5a-8e73c6a220e8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 2.33 GiB </td>
                        <td> 4.06 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763, 6658, 2) </td>
                        <td> (20, 6658, 2) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> complex128 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="156" height="188" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="80" y2="70" style="stroke-width:2" />
  <line x1="10" y1="67" x2="80" y2="138" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="67" style="stroke-width:2" />
  <line x1="13" y1="3" x2="13" y2="71" />
  <line x1="17" y1="7" x2="17" y2="75" />
  <line x1="21" y1="11" x2="21" y2="79" />
  <line x1="24" y1="14" x2="24" y2="82" />
  <line x1="28" y1="18" x2="28" y2="86" />
  <line x1="32" y1="22" x2="32" y2="90" />
  <line x1="36" y1="26" x2="36" y2="93" />
  <line x1="39" y1="29" x2="39" y2="97" />
  <line x1="43" y1="33" x2="43" y2="101" />
  <line x1="47" y1="37" x2="47" y2="105" />
  <line x1="50" y1="40" x2="50" y2="108" />
  <line x1="54" y1="44" x2="54" y2="112" />
  <line x1="58" y1="48" x2="58" y2="116" />
  <line x1="62" y1="52" x2="62" y2="120" />
  <line x1="65" y1="55" x2="65" y2="123" />
  <line x1="69" y1="59" x2="69" y2="127" />
  <line x1="73" y1="63" x2="73" y2="131" />
  <line x1="76" y1="66" x2="76" y2="134" />
  <line x1="80" y1="70" x2="80" y2="138" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 80.58823529411765,70.58823529411765 80.58823529411765,138.5096839041661 10.0,67.92144861004846" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="35" y2="0" style="stroke-width:2" />
  <line x1="13" y1="3" x2="39" y2="3" />
  <line x1="17" y1="7" x2="42" y2="7" />
  <line x1="21" y1="11" x2="46" y2="11" />
  <line x1="24" y1="14" x2="50" y2="14" />
  <line x1="28" y1="18" x2="54" y2="18" />
  <line x1="32" y1="22" x2="57" y2="22" />
  <line x1="36" y1="26" x2="61" y2="26" />
  <line x1="39" y1="29" x2="65" y2="29" />
  <line x1="43" y1="33" x2="68" y2="33" />
  <line x1="47" y1="37" x2="72" y2="37" />
  <line x1="50" y1="40" x2="76" y2="40" />
  <line x1="54" y1="44" x2="80" y2="44" />
  <line x1="58" y1="48" x2="83" y2="48" />
  <line x1="62" y1="52" x2="87" y2="52" />
  <line x1="65" y1="55" x2="91" y2="55" />
  <line x1="69" y1="59" x2="94" y2="59" />
  <line x1="73" y1="63" x2="98" y2="63" />
  <line x1="76" y1="66" x2="102" y2="66" />
  <line x1="80" y1="70" x2="106" y2="70" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="80" y2="70" style="stroke-width:2" />
  <line x1="35" y1="0" x2="106" y2="70" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 35.41261651458248,0.0 106.00085180870013,70.58823529411765 80.58823529411765,70.58823529411765" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="80" y1="70" x2="106" y2="70" style="stroke-width:2" />
  <line x1="80" y1="138" x2="106" y2="138" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="80" y1="70" x2="80" y2="138" style="stroke-width:2" />
  <line x1="106" y1="70" x2="106" y2="138" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="80.58823529411765,70.58823529411765 106.00085180870013,70.58823529411765 106.00085180870013,138.5096839041661 80.58823529411765,138.5096839041661" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="93.294544" y="158.509684" font-size="1.0rem" font-weight="100" text-anchor="middle" >2</text>
  <text x="126.000852" y="104.548960" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,126.000852,104.548960)">6658</text>
  <text x="35.294118" y="123.215566" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,35.294118,123.215566)">11763</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_1</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;</div><input id='attrs-32955e64-42bb-41f2-9d87-9f30331bd4ea' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-32955e64-42bb-41f2-9d87-9f30331bd4ea' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-61fb3102-ea06-451b-a9fc-09e761df50d8' class='xr-var-data-in' type='checkbox'><label for='data-61fb3102-ea06-451b-a9fc-09e761df50d8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in one location</dd><dt><span>units :</span></dt><dd>celsius</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 91.90 kiB </td>
                        <td> 160 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763,) </td>
                        <td> (20,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="88" y1="0" x2="88" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="107" y1="0" x2="107" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_2</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(20,), meta=np.ndarray&gt;</div><input id='attrs-40dbe035-6b0f-4d73-a9dd-2d7c800e036b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-40dbe035-6b0f-4d73-a9dd-2d7c800e036b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c953507e-6de3-401a-b48a-939bd54b6044' class='xr-var-data-in' type='checkbox'><label for='data-c953507e-6de3-401a-b48a-939bd54b6044' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature measured inside the ApRES unit in a second location</dd><dt><span>units :</span></dt><dd>celsius</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 91.90 kiB </td>
                        <td> 160 B </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (11763,) </td>
                        <td> (20,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 589 chunks in 2 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="44" y1="0" x2="44" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="63" y1="0" x2="63" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="82" y1="0" x2="82" y2="25" />
  <line x1="88" y1="0" x2="88" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="101" y1="0" x2="101" y2="25" />
  <line x1="107" y1="0" x2="107" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >11763</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-907910f1-e83a-4ac2-8cc6-c8ac04169c19' class='xr-section-summary-in' type='checkbox'  ><label for='section-907910f1-e83a-4ac2-8cc6-c8ac04169c19' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>chirp_num</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-93ce1da6-97f3-4737-8ad7-1e6034135889' class='xr-index-data-in' type='checkbox'/><label for='index-93ce1da6-97f3-4737-8ad7-1e6034135889' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
            19],
           dtype=&#x27;int64&#x27;, name=&#x27;chirp_num&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>chirp_time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-8a633efe-bb37-4eb0-8652-ef9faa67c3b2' class='xr-index-data-in' type='checkbox'/><label for='index-8a633efe-bb37-4eb0-8652-ef9faa67c3b2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(TimedeltaIndex([       &#x27;0 days 00:00:00&#x27;, &#x27;0 days 00:00:00.000025&#x27;,
                &#x27;0 days 00:00:00.000050&#x27;, &#x27;0 days 00:00:00.000075&#x27;,
                &#x27;0 days 00:00:00.000100&#x27;, &#x27;0 days 00:00:00.000125&#x27;,
                &#x27;0 days 00:00:00.000150&#x27;, &#x27;0 days 00:00:00.000175&#x27;,
                &#x27;0 days 00:00:00.000200&#x27;, &#x27;0 days 00:00:00.000225&#x27;,
                ...
                &#x27;0 days 00:00:00.999775&#x27;, &#x27;0 days 00:00:00.999800&#x27;,
                &#x27;0 days 00:00:00.999825&#x27;, &#x27;0 days 00:00:00.999850&#x27;,
                &#x27;0 days 00:00:00.999875&#x27;, &#x27;0 days 00:00:00.999900&#x27;,
                &#x27;0 days 00:00:00.999925&#x27;, &#x27;0 days 00:00:00.999950&#x27;,
                &#x27;0 days 00:00:00.999975&#x27;,        &#x27;0 days 00:00:01&#x27;],
               dtype=&#x27;timedelta64[ns]&#x27;, name=&#x27;chirp_time&#x27;, length=40001, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>profile_range</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-daf8ad2c-11e8-4132-9de8-f1d697f8bd6c' class='xr-index-data-in' type='checkbox'/><label for='index-daf8ad2c-11e8-4132-9de8-f1d697f8bd6c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([               0.0, 0.2102895577845166, 0.4205791155690332,
              0.6308686733535498, 0.8411582311380664,  1.051447788922583,
              1.2617373467070996, 1.4720269044916163, 1.6823164622761329,
              1.8926060200606494,
              ...
              1398.0049801514665, 1398.2152697092508, 1398.4255592670354,
                1398.63584882482, 1398.8461383826045,  1399.056427940389,
              1399.2667174981734,  1399.477007055958, 1399.6872966137425,
               1399.897586171527],
             dtype=&#x27;float64&#x27;, name=&#x27;profile_range&#x27;, length=6658))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-7d292ed9-7546-4659-bbae-d0a95f24b9e0' class='xr-index-data-in' type='checkbox'/><label for='index-7d292ed9-7546-4659-bbae-d0a95f24b9e0' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-02-17 16:37:49&#x27;, &#x27;2022-02-17 16:37:49&#x27;,
               &#x27;2022-02-17 16:37:49&#x27;, &#x27;2022-02-17 16:37:49&#x27;,
               &#x27;2022-02-17 16:37:49&#x27;, &#x27;2022-02-17 16:37:49&#x27;,
               &#x27;2022-02-17 16:37:49&#x27;, &#x27;2022-02-17 16:37:49&#x27;,
               &#x27;2022-02-17 16:37:49&#x27;, &#x27;2022-02-17 16:37:49&#x27;,
               ...
               &#x27;2022-09-25 16:37:49&#x27;, &#x27;2022-09-25 16:37:49&#x27;,
               &#x27;2022-09-25 16:37:49&#x27;, &#x27;2022-09-25 16:37:49&#x27;,
               &#x27;2022-09-25 16:37:49&#x27;, &#x27;2022-09-25 16:37:49&#x27;,
               &#x27;2022-09-25 16:37:49&#x27;, &#x27;2022-09-25 16:37:49&#x27;,
               &#x27;2022-09-25 16:37:49&#x27;, &#x27;2022-09-25 16:37:49&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=11763, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-bca10900-efc4-412a-8ba1-7a1530eaad4e' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-bca10900-efc4-412a-8ba1-7a1530eaad4e' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<p>To demonstrate the utility of having the data in this format we can do something simple that requires a lot of data, like taking the mean of the chirp voltages. The chirp data is ~150GB,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">chirp</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>150.57016416
</pre></div>
</div>
</div>
</div>
<p>so let’s time how long it takes with 10 workers to compute the mean of those data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span> 
<span class="c1"># with 10 workers</span>
<span class="n">ds</span><span class="o">.</span><span class="n">chirp</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 332 ms, sys: 12.3 ms, total: 345 ms
Wall time: 3min 56s
</pre></div>
</div>
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;chirp&#x27; ()&gt;
array(0.02804514)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'chirp'</div></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-d3199dec-87f1-408d-8393-5bc5473e4645' class='xr-array-in' type='checkbox' checked><label for='section-d3199dec-87f1-408d-8393-5bc5473e4645' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.02805</span></div><div class='xr-array-data'><pre>array(0.02804514)</pre></div></div></li><li class='xr-section-item'><input id='section-efaa5fe0-51ee-461e-9801-c128474c589f' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-efaa5fe0-51ee-461e-9801-c128474c589f' class='xr-section-summary'  title='Expand/collapse section'>Coordinates: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-39566a89-beb6-4720-8b38-899829df3475' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-39566a89-beb6-4720-8b38-899829df3475' class='xr-section-summary'  title='Expand/collapse section'>Indexes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-7b157ac2-bb16-4203-a163-04cd39f702ad' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-7b157ac2-bb16-4203-a163-04cd39f702ad' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<p>It took around 4 minutes to get through 150 GB.</p>
<p>Finally, let’s make a depth-time plot.
This requires:</p>
<ul class="simple">
<li><p>subsetting with <code class="docutils literal notranslate"><span class="pre">.isel(attenuator_setting_pair</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">time</span> <span class="pre">=</span> <span class="pre">slice(200,11763))</span></code></p></li>
<li><p>computing decibels from the complex profiles with <code class="docutils literal notranslate"><span class="pre">.db</span></code>, which <code class="docutils literal notranslate"><span class="pre">xa.load.load_zarr</span></code> adds to the xarray</p></li>
<li><p>compute the mean of the profiles from each burst with <code class="docutils literal notranslate"><span class="pre">.mean(dim=['chirp_num'])</span></code></p></li>
<li><p>coarsen in time, because plotting the full resolution would require a lot of data to be in the machine running the notebook with <code class="docutils literal notranslate"><span class="pre">.coarsen(time=10,</span> <span class="pre">boundary='trim').mean()</span></code> and</p></li>
<li><p>plot a color map with <code class="docutils literal notranslate"><span class="pre">.plot(x='time',</span> <span class="pre">yincrease=False,</span> <span class="pre">size=(5),aspect=3)</span></code>:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="n">ds</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">attenuator_setting_pair</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">time</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">11763</span><span class="p">))</span><span class="o">.</span><span class="n">dB</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chirp_num&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">coarsen</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">boundary</span><span class="o">=</span><span class="s1">&#39;trim&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">aspect</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 7.15 s, sys: 264 ms, total: 7.41 s
Wall time: 3min 43s
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x7f646e9d3f10&gt;
</pre></div>
</div>
<img alt="../_images/ARCOdata_writingZarrs_79_2.png" src="../_images/ARCOdata_writingZarrs_79_2.png" />
</div>
</div>
</section>
</section>
</section>
<section id="take-home-messages">
<h2>Take home messages<a class="headerlink" href="#take-home-messages" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>xarray is a great tool for storing and processing high-dimensional data</p></li>
<li><p>dask works seamlessly with xarray and with dask clusters supplied by cryocloud, and allows rapid parallel processing, exploratory analysis, and plotting of large datasets.</p></li>
</ul>
<p>When attempting to write your own data to a zarr store:</p>
<ul class="simple">
<li><p>have a very clear idea of the data’s structure,</p></li>
<li><p>carefully consider the chunking you want your final dataset to have,</p></li>
<li><p>you may need to design a workflow that avoids loading the whole dataset into memory at one time, and</p></li>
<li><p>your workflow will need to result in uniform chink sizes within each dimension.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./tutorials"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="dask_for_geoscientists.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Parallelized Cloud Computing with Dask for Geoscientists</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="GrIMP/GrIMP_tutorial_AGU23.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Determining ice sheet change using Greenland Ice Mapping Project (GrIMP) tools</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mines Glaciology Laboratory, Colorado School of Mines<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>